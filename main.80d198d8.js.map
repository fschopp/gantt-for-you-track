{"version":3,"sources":["../../src/main/api-types.ts","../../src/main/issue-forest.ts","../../src/main/worker-interface.ts","../../src/main/bundler-worker-factory.ts","../../src/main/minheap.ts","../../src/main/scheduling.ts","../../src/main/scheduling-async.ts","../../src/main/util.ts","../../src/main/you-track-rest.ts","../../src/main/you-track-oauth.ts","../../src/main/you-track-http.ts","../../src/main/you-track-project-planning.ts","../../../../src/main/components/alerts/alerts-ctrl.ts","../../node_modules/surplus/es/insert.js","../../node_modules/surplus/es/content.js","../../node_modules/surplus/es/dom.js","../../node_modules/surplus/es/fieldData.js","../../node_modules/surplus/es/spread.js","../../node_modules/s-js/dist/es/S.js","../../node_modules/surplus/es/index.js","../../../../src/main/components/alerts/alerts-view.tsx","../../../src/main/utils/counter.ts","../../node_modules/sortablejs/Sortable.js","../../../src/main/utils/surplus.ts","../../../src/main/utils/s.ts","../../../src/main/utils/typescript.ts","../../../../src/main/components/settings/settings-model.ts","../../../../src/main/components/settings/settings-ctrl.ts","../../../../src/main/components/you-track-metadata/you-track-metadata-ctrl.ts","../../../../src/main/components/app/app-ctrl.ts","../../node_modules/s-array/es/index.js","../../../../src/main/components/app/app-model.ts","../../../../src/main/components/contributor/contributor-model.ts","../../../../src/main/components/contributors/contributors-model.ts","../../../../src/main/components/contributors/contributors-ctrl.ts","../../../src/main/components/bootstrap.ts","../../../../src/main/components/contributor/contributor-view.tsx","../../../../src/main/components/contributors/contributors-view.tsx","../../../../src/main/components/depends-link-type/depends-link-type-model.ts","../../../src/main/components/base-views.tsx","../../../src/main/components/you-track-base-views.tsx","../../../../src/main/components/depends-link-type/depends-link-type-view.tsx","../../../../src/main/components/nav/nav-view.tsx","../../../../src/main/components/project-planning-settings/project-planning-settings-ctrl.ts","../../../src/main/utils/deep-equals.ts","../../../../src/main/components/contributor/contributor-ctrl.ts","../../../../src/main/components/project-planning-app/project-planning-app-ctrl.ts","../../../../src/main/components/project-planning-settings/project-planning-settings-model.ts","../../../../src/main/components/project-planning-app/project-planning-app-model.ts","../../../../src/main/components/project-planning-app/project-planning-app-view.ts","../../../../src/main/components/settings/settings-view.tsx","../../../../src/main/components/project-planning-settings/project-planning-settings-view.tsx","../../../src/main/components/router.ts","../../../../src/main/components/warnings/warnings-view.tsx","../../node_modules/object-assign/index.js","../../node_modules/assert/node_modules/util/support/isBufferBrowser.js","../../node_modules/assert/node_modules/inherits/inherits_browser.js","../../node_modules/process/browser.js","../../node_modules/assert/node_modules/util/util.js","../../node_modules/assert/assert.js","../../src/main/gantt-model.ts","../../src/main/gantt-ctrl.ts","webpack:///sources/dhtmlxgantt.gpl.ts","webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///sources/utils/utils.js","webpack:///sources/utils/dom_helpers.js","webpack:///sources/utils/extends.js","webpack:///sources/utils/helpers.js","webpack:///sources/utils/eventable.js","webpack:///sources/core/lightbox/controls/base_control.js","webpack:///sources/core/ui/render/smart_render_wrapper.js","webpack:///sources/core/ui/render/is_legacy_smart_render.js","webpack:///sources/core/ui/grid/editors/editors/base.js","webpack:///sources/core/ui/layout/cell.js","webpack:///sources/utils/env.js","webpack:///sources/core/lightbox/controls/select_control.js","webpack:///sources/core/ui/grid/tasks_grid_dnd_marker_helpers/drop_target.js","webpack:///sources/core/ui/render/viewport/task_row_checker.js","webpack:///sources/core/ui/mouse_event_container.js","webpack:///sources/core/ui/timeline/scales.js","webpack:///sources/core/ui/timeline/timeline.js","webpack:///(webpack)/buildin/global.js","webpack:///sources/utils/dom_event_scope.js","webpack:///sources/utils/html_helpers.js","webpack:///sources/core/worktime/calendar_arguments_helper.js","webpack:///sources/utils/task_tree_helpers.js","webpack:///sources/core/gantt_data_range.js","webpack:///sources/core/datastore/power_array.js","webpack:///sources/core/datastore/datastore.js","webpack:///sources/core/ui/render/task_bar_render.js","webpack:///sources/core/ui/render/viewport/task_bar_checker.js","webpack:///sources/core/ui/grid/grid.js","webpack:///sources/core/ui/row_position_mixin.js","webpack:///sources/core/ui/layout/layout.js","webpack:///node_modules/process/browser.js","webpack:///sources/utils/timeout.js","webpack:///sources/core/destructor.js","webpack:///sources/core/common/assert.js","webpack:///sources/core/gantt_core.js","webpack:///sources/locale/index.js","webpack:///sources/core/touch.js","webpack:///sources/css/skins/contrast_white.js","webpack:///sources/css/skins/contrast_black.js","webpack:///sources/css/skins/material.js","webpack:///sources/css/skins/broadway.js","webpack:///sources/css/skins/terrace.js","webpack:///sources/css/skins/meadow.js","webpack:///sources/css/skins/skyblue.js","webpack:///sources/core/skin.js","webpack:///sources/core/cached_functions.js","webpack:///sources/core/data_task_types.gpl.js","webpack:///sources/core/lightbox_optional_time.js","webpack:///sources/core/lightbox/controls/constraint_control.js","webpack:///sources/core/lightbox/controls/parent_control.js","webpack:///sources/core/lightbox/controls/duration_control.js","webpack:///sources/core/lightbox/controls/radio_control.js","webpack:///sources/core/lightbox/controls/checkbox_control.js","webpack:///sources/core/lightbox/controls/time_control.js","webpack:///sources/core/lightbox/controls/textarea_control.js","webpack:///sources/core/lightbox/controls/template_control.js","webpack:///sources/core/lightbox/index.js","webpack:///sources/core/data.js","webpack:///sources/core/facades/worktime_calendars.js","webpack:///sources/core/worktime/strategy/no_work_time.js","webpack:///sources/core/worktime/time_calculator.js","webpack:///sources/core/worktime/strategy/work_unit_cache/workunit_object_cache.ts","webpack:///sources/core/worktime/strategy/work_unit_cache/workunit_map_cache.ts","webpack:///sources/core/worktime/strategy/work_unit_cache/index.ts","webpack:///sources/core/worktime/strategy/calendar_strategy.js","webpack:///sources/core/worktime/calendar_manager.js","webpack:///sources/core/worktime/work_time.js","webpack:///sources/core/load.js","webpack:///sources/core/tasks.js","webpack:///sources/core/wai_aria.js","webpack:///sources/core/grid_column_api.gpl.js","webpack:///sources/core/dynamic_loading.gpl.js","webpack:///sources/core/plugins/timeline_zoom.ts","webpack:///sources/core/plugins/auto_task_types.js","webpack:///sources/core/plugins/new_task_placeholder.js","webpack:///sources/core/plugins/resources.js","webpack:///sources/core/plugins/dhtmlx_hooks.js","webpack:///sources/core/plugins/jquery_hooks.js","webpack:///sources/core/plugins/wbs.js","webpack:///sources/core/plugins/batch_update.js","webpack:///sources/core/plugins/autoscroll.js","webpack:///sources/core/plugins/index.js","webpack:///sources/core/dataprocessor/extend_gantt.ts","webpack:///sources/core/dataprocessor/data_processor_events.ts","webpack:///sources/core/dataprocessor/data_processor.ts","webpack:///sources/core/dataprocessor/index.js","webpack:///sources/core/datastore/datastore_render.js","webpack:///sources/core/datastore/select.js","webpack:///sources/core/datastore/treedatastore.js","webpack:///sources/core/facades/datastore_links.js","webpack:///sources/core/facades/datastore_tasks.js","webpack:///sources/core/facades/datastore.js","webpack:///sources/core/datastore/datastore_hooks.js","webpack:///sources/core/facades/layout.js","webpack:///sources/core/data_task_layers.gpl.js","webpack:///sources/core/ui/main_layout_initializer.js","webpack:///sources/core/ui/timeline/links_dnd.js","webpack:///sources/core/ui/timeline/tasks_dnd.js","webpack:///sources/core/ui/timeline/main_timeline_initializer.js","webpack:///sources/core/ui/grid/tasks_grid_dnd_marker_helpers/highlight.js","webpack:///sources/core/ui/grid/tasks_grid_dnd_marker_helpers/multi_level.js","webpack:///sources/core/ui/grid/tasks_grid_dnd_marker_helpers/locked_level.js","webpack:///sources/core/ui/grid/tasks_grid_dnd_marker.js","webpack:///sources/core/ui/grid/tasks_grid_dnd.js","webpack:///sources/core/ui/grid/main_grid_initializer.js","webpack:///sources/core/ui/render/task_grid_line_render.js","webpack:///sources/core/ui/render/viewport/link_checker.js","webpack:///sources/core/ui/render/link_render.js","webpack:///sources/core/ui/render/task_bg_render.js","webpack:///sources/core/ui/render/task_split_render.js","webpack:///sources/core/ui/render/task_bar_smart_render.js","webpack:///sources/core/ui/grid/editors/linked_properties.js","webpack:///sources/core/ui/grid/editors/editors/predecessor.js","webpack:///sources/core/ui/grid/editors/editors/date.js","webpack:///sources/core/ui/grid/editors/editors/select.js","webpack:///sources/core/ui/grid/editors/editors/number.js","webpack:///sources/core/ui/grid/editors/editors/text.js","webpack:///sources/core/ui/grid/editors/keyboard_mappings/keyboard_navigation.js","webpack:///sources/core/ui/grid/editors/keyboard_mappings/default.js","webpack:///sources/core/ui/grid/editors/keyboard_mappings.js","webpack:///sources/core/ui/grid/editors/controller.js","webpack:///sources/core/ui/grid/grid_resize.gpl.js","webpack:///sources/core/ui/timeline/tasks_canvas_render.gpl.js","webpack:///sources/core/ui/layout/scrollbar_cell.js","webpack:///sources/core/ui/layout/resizer_cell.gpl.js","webpack:///sources/core/ui/layout/view_cell.js","webpack:///sources/core/ui/layout/view_layout.js","webpack:///sources/core/ui/render/render_factory.js","webpack:///sources/core/ui/render/layer_engine.js","webpack:///sources/core/ui/gantt_layers.js","webpack:///sources/core/ui/mouse.js","webpack:///sources/core/ui/configurable.js","webpack:///sources/core/ui/ui_factory.js","webpack:///sources/core/ui/index.js","webpack:///sources/core/message.js","webpack:///node_modules/setimmediate/setImmediate.js","webpack:///node_modules/timers-browserify/main.js","webpack:///node_modules/bluebird/js/browser/bluebird.js","webpack:///sources/utils/promise.js","webpack:///sources/core/common/state.js","webpack:///sources/core/common/templates.js","webpack:///sources/core/common/dnd.js","webpack:///sources/core/common/date.js","webpack:///sources/core/common/serialize.ts","webpack:///sources/core/common/ajax.js","webpack:///sources/core/common/config.ts","webpack:///sources/core/common/services.js","webpack:///sources/core/common/import.js","webpack:///sources/constants/index.js","webpack:///sources/core/gantt.js","webpack:///sources/core/deprecated_warnings.js","webpack:///sources/ext/marker.js","webpack:///sources/ext/tooltip/tooltip.ts","webpack:///sources/ext/tooltip/tooltipManager.ts","webpack:///sources/ext/tooltip/index.ts","../../node_modules/surplus-mixin-data/index.es.js","../../src/main/gantt-view.tsx","gantt-view.jsx","../../src/main/index.ts"],"names":["isFailure","value","leaveNode","makeForest","issues","idToNode","reduce","map","issue","index","set","id","children","dependencies","dependents","Map","nodes","Array","from","values","node","parentKey","parent","undefined","length","get","push","dependency","dependencyNode","Symbol","iterator","traverseIssueForest","rootNodes","enterNode","currentIterator","stack","iteratorResult","next","done","pop","isDedicatedWorkerGlobalScope","DedicatedWorkerGlobalScope","workerFactory","createWorker","Worker","JobSplitting","isSchedulingFailure","MinHeap","parentIdx","idx","Math","trunc","leftChildIdx","rightChildIdx","swap","array","leftIdx","rightIdx","temp","heapify","comparatorFn","rootIdx","currentIdx","minIdx","l","r","constructor","iterable","comparatorFn_","array_","i","add","element","p","extractMin","min","isEmpty","JOB_DEFAULTS","Object","freeze","deliveryTime","splitting","PREEMPTION","releaseTime","preAssignment","computeSchedule","instance","nonNegativeInteger","number","Number","isInteger","undefinedOrNonNegativeInteger","numMachines","machineSpeeds","numJobs","jobs","numbers","filter","positiveIntegers","job","size","undefinedOrNonNegativeIntegers","upperBoundExcl","undefinedOrIntegerWithinZeroTo","integersWithinZeroTo","minFragmentSize","assign","ListScheduling","schedule","numMachines_","machineSpeeds_","jobs_","minFragmentSize_","gapsLists_","ignoredMachineSpeed","head","startTime","MIN_SAFE_INTEGER","endTime","tail","MAX_SAFE_INTEGER","nextTimeStamp","minWallClockTime","earliestStart","machine","currentGap","gapsList","currentFragmentStart","timeStamp","max","previousGapsList","adjustGaps","machineState","end","commitGaps","start","createJobFragment","scheduledJob","jobFragment","isWaiting","scheduleJob","availableMachineIndices","isPreemptible","currentSpeed","lastTimestamp","remainingSize","machines","availableIdx","speed","eventTime","forEach","ceil","machineEventTime","isProjectedEndTime","currentProjectedEndTime","nextGap","ignoredIndex","scheduleDeliveryTime","machineIdx","processingCompletionTime","completionTime","deliveryJobFragment","allMachines","callbackfn","singleMachine","singleMachineIdx","noDependencyNodes","jobGraphNodes","numDependencies","jobGraphNode","dependencyIdx","newSchedule","ignoredJob","finishTimes","numScheduledJobs","noDependencyNodesHeap","left","right","NONE","earliestStartTime","previousEarliestStartTime","dependencyFinishTime","availableMachines","deliveryMachineIdx","MULTIPLE_MACHINES","maxCompletionTime","currentAvailableMachines","currentCompletionTime","dependent","promise","computeScheduleAsync","args","worker","failure","Promise","reject","resolve","onmessage","event","result","data","onerror","terminate","filename","lineno","colno","message","postMessage","assignDefined","target","source","typedTarget","key","entries","deepClone","original","isArray","obj","coalesce","unreachableCase","x","Error","JobType","scheduleUnresolved","options","actualOptions","newDefaultSchedulingOptions","jobIdxToExtendedIssue","machineIdxToContributorIdx","schedulingInstance","makeSchedulingInstance","machineSchedule","ProjectPlanningJs","realTimeFactor","MINUTES_PER_WEEK_REAL_TIME","minutesPerWeek","scheduleTimestampToEpochTime","timestamp","predictionStartTimeMs","resolutionMs","j","scheduledIssue","issueIdx","issueActivity","assignee","contributors","appendSchedule","projectPlan","divisionTimestamp","collator","Intl","Collator","newProjectPlan","assigneeToActivities","existingActivities","issueActivities","has","createIfAbsent","returnValue","scheduledActivity","newActivity","assigneeActivities","sort","diff","compare","groupByIntervalAndWaitStatus","activities","IssueEventType","events","activity","filterActivity","type","ADDED","REMOVED","first","second","lastActivity","assignees","assigneeToActivityCount","timePassed","assigneeActiveCount","NO_INDEX","newDefaultSchedulableIssue","remainingWaitTimeMs","splittable","minActivityDuration","Date","now","n","assigneeToContributorIdx","contributor","numMembers","fill","jobType","makeJobDescriptors","startToStartDummyJobIdx","START_TO_START","asDependencyJobIdx","FINISH_TO_FINISH","childNode","concat","jobIdx","MAIN","remainingEffortMs","extendedIssues","jobDescriptors","outer","currentAssignees","assigneesChanged","activeCount","predicate","youTrackPath","ACTIVITIES_PAGE","CUSTOM_FIELD","customFieldId","ISSUES","queryId","SAVED_QUERY","SORTED_ISSUES","STATE_BUNDLES","WORK_TIME_SETTINGS","hubPath","OAUTH","isPeriodIssueCustomField","field","$type","isSingleUserIssueCustomField","isSingleEnumIssueCustomField","isStateIssueCustomField","secret","STORAGE_PREFIX","baseUrlToAccessTokenMap","storageKeyForOauthId","oAuthId","normalizeUrl","baseUrl","URL","toString","goToOauthPage","youTrackBaseUrl","hubUrl","serviceId","appState","redirectUrl","window","location","href","normalizedBaseUrl","normalizedHubUrl","strippedRedirectUrl","hash","username","password","search","floor","random","youTrackOauthUrl","RestApi","response_type","state","redirect_uri","request_credentials","client_id","scope","searchParams","append","baseUrlAndAppState","sessionStorage","setItem","JSON","stringify","handlePotentialOauthRedirect","url","fragmentParams","URLSearchParams","slice","storedValue","getItem","parse","removeItem","expiresIn","validUntil","parseInt","history","replaceState","authorizationFor","accessToken","isYouTrackError","error","error_description","httpGet","resourcePath","queryParams","authorization","urlSearchParams","xhr","XMLHttpRequest","open","setRequestHeader","responseType","onloadend","onRequestFinished","send","httpGetAll","restBatchSize","httpGetAllWithOptions","batch","processBatch","initial","numElementsRetrieved","busy","$top","batchPromise","$skip","response","status","retrieveProjectPlan","youTrackConfig","actualYouTrackConfig","newDefaultYouTrackConfig","newDefaultRequestProjectPlanOptions","YouTrackIssueActivities","getMinutesPerWorkWeek","fields","daysAWeek","minutesADay","remainingEffortFieldId","remainingWaitFieldId","assigneeFieldId","otherCustomFieldIds","doesInwardDependOnOutward","overlaySavedQueryId","minStateChangeDurationMs","defaultRemainingEffortMs","defaultWaitTimeMs","isSplittableFn","progressCallback","omitIssueActivities","progressUpdateIntervalMs","YOUTRACK_CUSTOM_FIELDS_CATEGORY","baseUrl_","config_","options_","dependsOnDirection_","idToActiveState_","inactiveStateIds","inactiveState","projectPlan_","warnings","run","retrieveNumIssues","retrieveSavedQueryName","stateBundleId","getStateBundleId","buildIdToActiveStateMap","progressUpdate","retrieveIssues","retrieveOverlayOrder","retrieveActivities","finalizeSchedule","lastProgressUpdate_","percentageDone","numIssues_","numTasksWithDetails_","minTimeStamp_","maxActivityTimeStamp_","maxUpdateTimeStamp_","newHttpRequest","getAll","folderId","savedQueryId","count","customField","stateFieldId","fieldDefaults","bundle","savedQuery","savedQueryName_","name","restStateBundles","restStateBundle","isRelevantStateBundle","restElement","isResolved","includes","lowerCaseNameToActiveState_","toLowerCase","parseIssueCustomFields","restIssue","customFields","fieldId","projectCustomField","minutes","activeState","stateBundleElementIdToActiveState","find","restIssues","idReadable","summary","resolved","internalId","parentIssueId","subtaskIssueIds","subtasks","subissue","dependencyIssueIds","stateTransitions","created","lastUpdate","updated","issues_","idToIssueMap_","restLink","links","direction","linkType","dependsLinkTypeId","linkedIssue","overlayIds","idToOverlayIdx","overlayIdx","categories","issueQuery","activitiesPage","hasAfter","cursor","afterCursor","parseActivityItems","arrayOrObject","object","lowerCaseName","addStateTransition","newStateTransition","replacementForPreviousUnknown","a","c","activityItems","activityItem","added","removed","finalizeIssueActivities","description","issueId","unknownDependencies","join","unknownSubtasks","subIssue","youTrackIssue","finalStateTransition","AlertsCtrl","alerts_","alert","title","remove","DOCUMENT_FRAGMENT_NODE","TEXT_NODE","insert","range","parentNode","test","good","t","nodeType","document","createTextNode","replaceChild","Node","insertArray","len","nextSibling","insertBefore","appendChild","previousSibling","removeChild","Function","firstChild","lastChild","textContent","content","current","clear","normalizeIncomingArray","appendNodes","reconcileArrays","NOMATCH","NOINSERT","RECONCILE_ARRAY_BATCH","RECONCILE_ARRAY_BITS","RECONCILE_ARRAY_INC","RECONCILE_ARRAY_MASK","ns","us","ulen","k","nmin","nmax","umin","umax","u","nx","ux","ul","loop","fixes","equable","insertOrAppend","ntext","__surplus_order","defineProperty","writable","Text","src","utext","preserved","lcs","longestPositiveIncreasingSubsequence","utexti","lcsj","ntextk","marker","normalized","item","seq","is","pre","findGreatestIndexLEQ","lo","hi","mid","svgNS","createElement","tag","className","el","createSvgElement","createElementNS","setAttribute","createComment","text","comment","removeAttribute","setAttributeNS","namespace","removeAttributeNS","htmlFieldCache","style","ref","fn","class","for","onDoubleClick","spellCheck","allowFullScreen","autoCapitalize","autoFocus","autoPlay","role","svgFieldCache","htmlFor","tabIndex","allowReorder","attributeName","attributeType","autoReverse","baseFrequency","calcMode","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan","attributeOnlyRx","deepAttrRx","isAttrOnlyField","propOnlyRx","isPropOnlyField","propPartRx","getAttrName","replace","m","jsxEventPropRx","attrPartRx","getPropName","prop","toUpperCase","deepPropRx","buildPropData","exec","substr","attrNamespaces","xlink","xml","attrNamespaceRx","RegExp","keys","buildAttrData","attr","getFieldData","svg","cache","cached","b","props","spread","setField","_a","S","ComputationNode","topLevelRoot","disposer","owner","Owner","callAll","ss","root","UNOWNED","RunningClock","RootClock","disposes","dispose","on","ev","seed","onchanges","running","RunningNode","effect","DataNode","arguments","eq","age","update","time","changes","reset","sample","cleanup","cleanups","console","warn","makeDataNode","makeComputationNode","isFrozen","isListening","Clock","Queue","updates","RootClockProxy","pending","NOTPENDING","log","prototype","logDataRead","clock","CURRENT","source1","source1slot","sources","sourceslots","owned","toplevelComputation","RUNNING","updateNode","logComputationRead","Log","node1","node1slot","nodeslots","items","STALE","logRead","to","fromslot","toslot","applyDataChange","markComputationsStale","markNodeStale","markOwnedNodesForDisposal","child","final","cleanupSource","slot","last","lastslot","alerts","Counter","countChangedSignal_","numTrueSignals_","signal","signalToDisposeFnMap_","disposeFn","didAddToCounter","isCurrentlyTrue","delete","sortableBindSarray","sArray","sortableOptions","create","onEnd","oldIndex","newIndex","splice","bind","invalidCounter","isCurrentlyUpdatingSignal","isInvalidSignal","newValue","checkValidity","valueListener","addEventListener","removeEventListener","bindNumber","valueAsNumber","bindString","bindToOnValue","onValue","currentlyUpdatingSignal","checked","radioListener","bindStringSet","activeOptions","option","selected","Set","setEquals","withClassIff","classes","classList","focusOnChangeToValue","previousValue","setTimeout","focus","hrefFrom","jsonable","s","augmentedSignal","toJSON","toPlain","typedSource","hasOwnProperty","plainValue","defaultValue","ensureString","actualValue","ensureNumber","ensureBoolean","ensureArray","validElementPredicate","findIndex","createSettings","youTrackServiceId","assignSettings","settings","plain","toNormalizedPlainSettings","plainSettings","toNormalizedUrl","urlString","host","pathname","charAt","exception","TypeError","SettingsCtrl","settings_","isInCloudUrlSignal","isInCloudUrl","previousNormalizedBaseUrl","hubUrlFromYouTrackBaseUrl","previousHubUrl","currentUri","uri","currentOrigin","hrefRelativeToBaseUrl","relativePath","hubRelativeToBaseUrlAndServiceId","inCloudMatch","match","YouTrackRestUrl","YouTrackMetadataCtrl","youTrackMetadata","alertCtrl","pendingMetadata","definedYouTrackMetadata","currentYouTrackMetadata","emptyYouTrackMetadata","youTrackUserMap","users","user","directedIssueLinkTypes","issueLinkTypes","directed","savedQueries","savedSearches","currentBaseUrl","all","loadCustomFields","loadIssueLinkTypes","loadSavedSearches","loadUsers","then","minutesPerWorkWeek","catch","finally","mapOfCustomFieldTypes","fieldTypeId","fieldType","CUSTOM_FIELDS","ISSUE_LINK_TYPES","SAVED_QUERIES","USERS","AppCtrl","app_","appComputation_","settingsCtrl","alertsCtrl","youTrackMetadataCtrl","connect","appName","createDefaultAppCtrl","app","appComputation","numInvalidSettings","showErrorIfFailure","progress","SArray","dirty","mutations","mutcount","pops","shifts","newvalues","mutation","unshift","shift","call","apply","removeAll","lift","_seq","chainConcat","every","chainEvery","chainFilter","chainFind","chainForEach","chainIncludes","chainMap","chainSort","chainReduce","reduceRight","chainReduceRight","reverse","chainReverse","chainSlice","some","chainSome","mapS","chainMapS","mapSample","chainMapSample","mapSequentially","chainMapSequentially","orderBy","chainOrderBy","enter","exit","move","mapped","disposers","d","new_items","new_len","tempdisposers","NEXT","mapper","_item","_i","combine","chainCombine","new_indices","new_indices_next","new_end","found","pred","o","copy","by","v","others","e","Page","ensurePage","HOME","WARNINGS","SETTINGS","createApp","currentPage","createAppComputation","createSDataArray","assignApp","DEFAULT_HOURS_PER_WEEK","DEFAULT_NUM_MEMBERS","ensureContributorKind","createContributor","plainCopy","createYouTrackContributor","createExternalContributor","createContributorBase","hoursPerWeek","EXTERNAL_CONTRIBUTOR_VALUE","createContributors","createContributorEditArea","assignContributors","assignContributorEditArea","contributorEditArea","ContributorsCtrl","contributors_","contributorEditArea_","createContributorCtrl","contributorCtrls","newEntryType","sharedProperties","plainContributor","FORM_GROUP_CLASS","LABEL_CLASS","OFFSET_CLASS","INPUT_CLASS","INPUT_CLASS_RIGHT","PLAINTEXT_CLASS","SELECT_CLASS","EDIT_AREA_CLASS","HELP_CLASS","CHECK_CLASS","CHECK_LABEL_CLASS","DRAGGABLE_HANDLE_CLASS","MAX_HOURS_PER_WEEK","youTrackUserName","MAX_PERSONS_PER_CONTRIBUTORS","label","ContributorView","contributorCtrl","createDependsLinkType","assignDependsLinkType","required","SinglePlaceholder","elementId","elements","optionTextFromElement","idFromElement","multiplePlaceholders","inactiveStateId","names","asString","SelectView","IssueFieldView","optionTextFromSavedQuery","SecondarySelectView","primaryElementId","MultiSelectView","elementIds","bundleElements","LinkTypeView","dependsLinkType","RadioToggleView","ProgressBarView","numWarnings","actionBtnLabel","ProjectPlanningSettingsCtrl","contributorsCtrl","enumFields","periodFields","stateFields","userFields","states","stateBundleElement","ordinal","types","typeFieldId","deepEquals","leftKeys","rightKeys","leftKey","ContributorCtrl","contributor_","NOTHING","MIN_STATE_CHANGE_DURATION_MS","DEFAULT_REMAINING_EFFORT_MS","DEFAULT_WAIT_TIME_MS","SCHEDULING_RESOLUTION_MS","MIN_ACTIVITY_DURATION","EXTERNAL_CONTRIBUTOR_ID_PREFIX","Action","ProjectPlanningAppCtrl","appCtrl","action","actionFromState","extendedProjectPlan_","extendedProjectPlan","plan","doAction","defaultAction","createDefaultProjectPlanningAppCtrl","transient","COMPLETE_SETTINGS","CONNECT","BUILD_PLAN","buildPlan","UPDATE_PREDICTION","updatePrediction","STOP","currentConfig","splittableTypeIds","percentDone","retrieveProjectPlanResult_","retrievedProjectPlanTimestamp_","idToContributorIdx","schedulingOptions","finalPlan","youTrackTimestamp","currentSettings","validSettings","newWithoutContributors","lastWithoutContributors","youTrackConfigChanged","contributorsChanged","createProjectPlanningSettings","assignProjectPlanningSettings","isValidId","createProjectPlanningApp","createProjectPlanningAppComputation","assignProjectPlanningApp","projectPlanningActionLabel","ctrl","SettingsView","connectSignal","BundleElementsView","AssigneeFieldView","IssueTypeFieldView","DependsLinkTypeView","SavedQueryView","OverlaySavedQueryView","ContributorsView","Router","FABRICATED_HOST","isParsedHash","parseWindowLocation","theHash","startsWith","fabricatedUrl","path","params","raw","savedState","setStateFromHash","needsNormalization","hashFromConfig","currentHash","candidatePageName","config","substring","warning","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","shouldUseNative","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","test3","split","letter","err","module","exports","symbols","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","Item","noop","nextTick","env","argv","version","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","formatRegExp","format","f","isString","objects","inspect","str","_","isNull","isObject","deprecate","msg","isUndefined","global","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","opts","ctx","seen","stylize","stylizeNoColor","formatValue","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","styleType","styles","arrayToHash","recurseTimes","isFunction","ret","primitive","formatPrimitive","visibleKeys","isError","indexOf","formatError","isRegExp","isDate","base","output","braces","toUTCString","formatArray","formatProperty","reduceToSingleString","simple","isNumber","desc","getOwnPropertyDescriptor","line","prev","cur","numLinesEst","ar","arg","isNullOrUndefined","isSymbol","re","objectToString","isPrimitive","pad","debuglog","pid","isBuffer","require","months","getHours","getMinutes","getSeconds","getDate","getMonth","inherits","origin","gantt","factory","define","amd","installedModules","__webpack_require__","moduleId","modules","getter","enumerable","toStringTag","mode","__esModule","property","helpers","isStringObject","isNumberObject","isBooleanObject","Boolean","defined","mixin","force","uid","valueOf","functor","handler","capture","attachEvent","eventRemove","detachEvent","elementPosition","elem","top","bottom","getBoundingClientRect","box","body","docElem","documentElement","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","offsetWidth","offsetHeight","offsetTop","offsetLeft","offsetParent","y","round","width","height","isVisible","display","visibility","getComputedStyle","currentStyle","hasNonNegativeTabIndex","isNaN","getAttribute","hasHref","area","nodeName","loLowerCase","isEnabled","input","select","textarea","button","hasAttribute","getClassName","baseVal","_trimString","_slave","getTargetNode","tagName","srcElement","trim","this","getNodePosition","getFocusableNodes","querySelectorAll","nodesArray","getScrollSize","div","cssText","clientWidth","addClassName","removeClassName","regEx","insertNode","newone","innerHTML","removeNode","getChildNodes","css","ch","childNodes","out","toNode","getElementById","querySelector","locateClassName","classname","strict","trg","ind","locateAttribute","attribute","getRelativeEventPosition","clientX","clientY","isChildOf","hasClass","contains","closest","selector","matches","msMatchesSelector","webkitMatchesSelector","parentElement","__","units","minute","hour","day","week","month","quarter","year","arrayFilter","arr","callback","getSecondsInUnit","unit","workArray","arrayMap","resArray","arrayFind","arrayDifference","arraySome","hashToArray","sortArrayOfHash","throttle","wait","getFullYear","delay","timer","$cancelTimeout","$pending","$execute","objectKeys","requestAnimationFrame","w","webkitRequestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","cb","isEventable","EventHost","_connected","_silent_mode","_silentStart","_silentEnd","eventHost","catcher","callObj","dhx_catch","z","res","zr","addEvent","removeEvent","createEventStorage","attachAll","callEvent","arg0","handlerName","checkEvent","list","eventName","eventId","detachAllEvents","dummy","BaseControl","render","set_value","get_value","renderOne","updateOne","isInViewPort","smartRendering","view","viewport","engine","rendered","restore","hide","smart_rendering","_smart_render","BaseEditor","show","column","placeholder","get_input","is_changed","currentValue","is_valid","save","utils","eventable","domHelpers","Cell","$container","$parent","$config","headerHeight","$gantt","$domEvents","_createDomEventScope","$id","$name","$factory","destructor","$view","$services","getService","detach","_headerClickHandler","detachAll","cell","scrollTo","getNode","padding","resize","$preResize","topCont","topSize","getSize","minWidth","maxWidth","minHeight","maxHeight","setSize","_hide","cellIndex","moveView","hidden","$toHTML","header","html","canCollapse","$fill","init","self","toggle","delegate","collapsed","gravity","getContentSize","$lastSize","contentX","contentY","_getBorderSizes","borders","horizontal","vertical","_currentBorders","_borders","_sizeHeader","_sizeContent","_setBorders","cssHash","xLayout","transform","isIE","navigator","userAgent","isIE6","isIE7","isIE8","isOpera","isChrome","isKHTML","isFF","isIPad","isEdge","__extends","htmlHelpers","_super","SelectControl","sns","getHtmlSelect","_dhx_onchange","onchange","_focus","createDropTargetObject","targetParent","targetIndex","targetId","prevSibling","nextSiblingTarget","dndTaskId","targetTaskId","store","getParent","getBranchIndex","prevSiblingTarget","firstChildTarget","lastChildTarget","getChildren","position","getItemTop","getItemHeight","y_end","mouseEvents","h","dateHelper","date","services","getSum","sizes","summ","setSumWidth","sum_width","scale","parts","adjustSize","full_width","splitSize","full","share","sortScales","scales","cellSize","step","_isLegacyMode","scaleConfig","scale_unit","date_scale","subscales","_prepareScaleObject","template","date_to_str","primaryScale","templates","legacyMode","initTemplate","scale_cell_class","getSubScales","prepareConfigs","min_coll_width","container_width","scale_height","minDate","maxDate","rtl","heights","configs","main_scale","cfg","initScaleConfig","processIgnores","initColSizes","limitVisibleRange","alineScaleColumns","reverseScale","setPosSettings","trace_x","indexes","trace_indexes","trace_index_transition","_ignore_time_config","skip_off_time","skip","probe","isWorkTime","ignore_x","display_count","min_col_width","line_height","cont_width","column_count","col_width","ignores","min_date","max_date","eachColumn","trace_x_ascending","iterateScales","lower_scale","upper_scale","upper_dates","lower_dates","prevUpper","up","target_index","upper_start","upper_end","lower_start","lower_end","targetWidth","curr","tzOffset","getTimezoneOffset","_correct_dst_change","dates","lastDate","outDate","shared","ScaleHelper","topPositionMixin","canvasRender","Timeline","$scaleHelper","_posFromDateCache","_findBinary","low","high","container","$task","$task_scale","$task_data","$task_bg","$task_links","$task_bars","_tasks","$getConfig","linksAttr","bindLinks","item_attribute","link_attribute","layers","_createLayerConfig","tasks","linkLayers","_attachLayers","dataHeight","refresh","backgroundImage","rowStore","row_height","countVisible","data_els","contentHeight","contentWidth","scrollHeight","scrollWidth","scrolled","_refreshScales","smart_scales","viewPort","getViewPort","_scales","_getScaleChunkHtml","x_end","taskFilter","expose","renderer","$ui","taskBar","taskSplitBar","taskBg","link","_taskLayers","_linkLayers","subscribeSmartRender","layer","requestUpdate","_bindStore","taskRenderer","getDataRender","createDataRender","defaultContainer","taskLayers","bar_layer","addLayer","_taskRenderer","getLayer","_initStaticBackgroundRender","linkStore","getDatastore","linkRenderer","linkLayer","_linkRenderer","staticRender","_staticBgHandler","static_background","staticBgContainer","$task_bg_static","getScale","destroy","_clearLayers","removeLayer","_render_tasks_scales","scales_html","outer_width","getState","_getScales","availWidth","autosize","autosize_min_width","cfgs","min_column_width","fromPos","toPos","scale_row_class","cssClass","tplClass","_prepareScaleHtml","globalConfig","globalTemplates","cells","startIndex","endIndex","inherit_scale_class","cssclass","_waiAria","getTimelineCellAttr","dateFromPos","part","_getColumnDuration","posFromDate","dateValue","columnIndexByDate","assert","wholeCells","partCell","pos","roundPos","_getNextVisibleColumn","columns","visibleDateIndex","_getPrevVisibleColumn","_getClosestVisibleColumn","days","dateIndex","visibleIndex","visibleDate","transition","getItemPosition","task","start_date","end_date","xLeft","xRight","task_height","offset","task_height_offset","_timelineCacheAttached","_resetTopPositionHeight","g","eval","createScope","handlers","eventScope","attach","staticArray","extend","scopes","attributes","_this","entry","_attributes","getHtmlOption","_getHtmlContainer","getHtmlButton","getHtmlDiv","getHtmlLabel","getHtmlInput","_getHtmlAttributes","IsWorkTimeArgument","calendar","ClosestWorkTimeArgument","CalculateEndDateArgument","duration","GetDurationArgument","getWorkHoursArguments","setWorkTimeArguments","unsetWorkTimeArguments","isWorkTimeArguments","processedConfig","duration_unit","getClosestWorkTimeArguments","_getStartEndConfig","param","argumentType","duration_step","getDurationArguments","hasDurationArguments","calculateEndDateArguments","copyLinkIdsArray","linkIds","targetHash","isLinkExists","getLink","copyLinkIds","$source","$target","getSubtreeLinks","rootId","isTaskExists","getTask","eachTask","getSubtreeTasks","PrimaryScaleHelper","scale_offset_minimal","helper","_scale_range_unit","start_interval","getSubtaskDates","calculateEndDate","_min_date","_max_date","_init_tasks_range","fit_tasks","old_min","old_max","$powerArray","$create","$removeAt","$remove","$find","$insertAt","$each","master","$map","$filter","powerArray","DataStore","pull","$initItem","initItem","visibleOrder","fullOrder","_skip_refresh","_filterRule","_searchVisibleOrder","_parseInner","loaded","_updateOrder","code","updateItem","_removeItemInner","_addItemInner","exists","silent","order","data_size","getVisibleItems","getIndexRange","addItem","_changeIdInner","oldId","newId","changeId","_moveInner","sindex","tindex","getIdByIndex","clearAll","arraysEqual","arr1","arr2","quick","oldOrder","serialize","eachItem","rule","filteredOrder","Infinity","getItems","getIndexById","_getNullIfUndefined","getFirst","getLast","getNext","getPrev","_task_default_render","_isAllowedUnscheduledTask","$getTemplates","taskType","getTaskType","padd","milestone","link_line_width","show_progress","pr","progressColor","backgroundColor","opacity","progress_text","wrapper","drag_progress","isReadonly","drag","markerPos","task_text","textColor","color","basic","itemId","project","isSummaryTask","isSplitTask","open_split_tasks","$open","select_task","isSelectedTask","drag_id","drag_mode","touch_drag","link_source_id","link_target_id","highlight_critical_path","isCriticalTask","link_landing_area","dragClass","from_id","from_start","link_from_start","to_start","link_to_start","isLinkAllowed","task_class","side","_get_link_crossing_css","_render_side_content","leftside_text","rightside_text","setTaskBarAttr","drag_resize","_render_pair","drag_links","show_links","inner","showLinkPoints","touch","cond","leftside","start_to_start","finish_to_start","finish_to_finish","ln","tp","type_renderers","defaultRenderer","isRowInViewPort","tmp","gridResize","Grid","$state","gridAriaAttr","gridAttrString","gridDataAriaAttr","gridDataAttrString","$grid","gridScaleRowAttrString","$grid_scale","$grid_data","resizer","_renderHeaderResizers","doOnRender","_mouseDelegates","_addLayers","_initEvents","_validateColumnWidth","numericWidth","outerWidth","getGridColumns","innerWidth","scrollable","_setColumnsWidth","grid_width","_getGridWidth","_gridCacheAttached","_initSmartRenderingPlaceholder","_calculateGridWidth","_renderGridHeader","getColumnIndex","getColumn","gridLine","_refreshPlaceholderOnStoreUpdate","scrollY","scroll","getView","getScrollState","scrollSize","$rowsPlaceholder","close","_getColumnWidth","min_width","min_grid_column_width","new_width","max_width","_getGridWidthLimits","min_limit","max_limit","newWidth","start_index","columns_width","final_width","extra_width","start_width","col","curExtra","_getColsTotalWidth","cols_width","parseFloat","unknown","gridWidth","autofit","delta","changed","_setContentSize","locale","labels","lineHeigth","colWidth","_sort","grid_header_class","gridScaleCellAttrString","lineHeight","topCache","getRowTop","taskId","itemIndex","parentId","Layout","$root","_parseConfig","$cells","_resizeScrollbars","scrollbars","scrollbar","scrollChanged","visibleScrollbars","hiddenSrollbars","showScrollbar","hideScrollbar","shouldHide","shouldShow","visibleGroups","group","_syncCellSizes","groupName","newSize","groups","_eachChild","_syncGroupSize","_xLayout","getNextSibling","ownSize","resizeSibling","getPrevSibling","siblingSize","totalGravity","totalSize","mainGrid","$content","startStage","mainCall","_resizeInProgress","contentViews","getCellsByType","setContentSize","_getAutosizeMode","isChild","cellId","sub","rows","cols","views","initUI","getCells","_cleanElSize","_getBoxStyles","computed","properties","boxSizing","clientHeight","MozBoxSizing","horPaddings","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","vertPaddings","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","borderBox","innerHeight","outerHeight","boxSizes","contentSizes","_sizes","margin","_calcFreeSpace","_free","_gravity","_calcSize","_configureBorders","borderClass","lastVisibleIndex","lastCell","borderColorClass","_updateCellVisibility","oldVisibleCells","_visibleCells","firstCall","visibleCells","cellView","marginSide","dx","dy","browser","updPerSecond","_on_timeout","_eventRemoveAll","$layout","resetLightbox","_dp","$destroyed","check","show_errors","expire","calculateScaleRange","listenWindowResize","resizeDelay","scroll_size","_reinit","$mouseEvents","_update_flags","initTemplates","_clearTaskLayers","_clearLinkLayers","layout","createView","storeNames","refreshData","getPropertyValue","resizeWatcher","contentWindow","$click","buttons","edit","showLightbox","question","confirm_deleting","confirm_deleting_title","_dhtmlx_confirm","$new","deleteTask","hideLightbox","posX","_getHorizontalScrollbar","codeScrollLeft","visible_date","task_scroll_offset","preserve_scroll","new_pos","showDate","setSizes","locate","targetAttribute","task_attribute","_locate_css","_locateHTML","getTaskRowNode","els","changeLightboxType","getLightboxType","_silent_redraw_lightbox","_get_link_type","start_to_finish","prevOffset","time_unit","offsetChanged","$data","tasksStore","_isSplitItem","_is_icon_open_click","month_full","month_short","day_full","day_short","new_task","icon_save","icon_cancel","icon_details","icon_edit","icon_delete","confirm_closing","section_description","section_time","section_type","column_wbs","column_text","column_start_date","column_duration","column_add","confirm_link_deleting","link_start","link_end","type_task","type_project","type_milestone","hours","weeks","years","message_ok","message_cancel","section_constraint","constraint_type","constraint_date","asap","alap","snet","snlt","fnet","fnlt","mso","mfo","resources_filter_placeholder","resources_filter_label","getTaskDND","_tasks_dnd","touch_feedback","touch_feedback_duration","_prevent_touch_scroll","_touch_feedback","vibrate","touchEventsSupported","createEvent","_touch_events","touches","pageX","pageY","pointerEnabled","pointerType","msPointerEnabled","MSPOINTER_TYPE_MOUSE","touchHandlers","accessor","ignore","scroll_state","dblclicktime","action_mode","scroll_mode","action_start","long_tap_timer","current_target","start_drag","on_mouse_move","preventDefault","cancelBubble","abs","_touch_scroll_active","new_scroll_state","block_action","on_mouse_down","renders","_getTaskLayers","isTaskVisible","cloneNode","_start_dnd","_touch_drag","refreshTask","on_mouse_up","skins","link_arrow_size","lightbox_additional_height","_second_column_width","_third_column_width","material","_redefine_lightbox_buttons","buttons_left","buttons_right","getTaskNode","indx","broadway","_lightbox_template","_config_buttons_left","_config_buttons_right","gantt_delete_btn","gantt_save_btn","terrace","meadow","skyblue","_get_skin","skin","getElementsByTagName","skinset","resetSkin","activate","_cached_functions","update_if_changed","active","critical_path_mode","wrap_methods","methods","_prefetch_originals","prefetch","methodname","optimizer","argumentsArray","get_arguments_hash","cached_values","has_cached_value","get_cached_value","cache_value","arguments_hash","is_date","getUTCDate","stringify_argument","deactivate","setup","override_gantt","gantt_methods","optimize_render","deactivTimeout","_extend_to_optional","lightbox_block","optional_time","section","mapping","_resolve_default_mapping","disable","enable","disabled","update_block","_lightbox_id","button_text","resizeLightbox","button_click","_get_typed_lightbox_config","form_blocks","duration_optional","time_optional","ConstraintControl","isNonTimedConstraint","constraint_types","ASAP","ALAP","toggleTimeSelect","timeSelects","typeValue","isNonTimed","getTimePicker","typeSelect","_time_format_order","_eventsInitialized","constraintDate","_fill_lightbox_select","constraintType","getConstraintType","getTimePickerValue","ParentControl","_display","item_id","getTaskByTime","allow_root","root_id","root_label","map_to","tmpDom","newOptions","onselect","DurationControl","_getStartDate","_getDuration","singleDate","single_date","readonly","lightboxDurationInputAttrString","duration_val","inps","btns","endspan","_calc_date","task_date","_change_duration","onclick","onkeydown","charCode","keyCode","which","constants","KEY_CODES","DOWN","UP","calculateDuration","startDate","endDate","RadioControl","radio","default_value","CheckboxControl","checkboxes","TimeControl","auto_end_date","_update_lightbox_select","selects","_get_timepicker_step","TextareaControl","_get_input","TemplateControl","ResourcesControl","getHtmlButtons","floatRight","_migrate_buttons","lightboxButtonAttrString","getHtmlTimePickerOptions","start_year","end_year","tdate","timeFormat","year_range","_time_values","time_picker","setTime","_lightbox_methods","registerProvider","lightbox","getLightbox","_center_lightbox","showCover","_fill_lightbox","lightboxVisibleAttr","round_dnd_dates","timeline","time_step","getLabel","sections","updateCollection","list_name","collection","serverList","_lightbox_type","lightboxDiv","fullWidth","classNames","_lightbox","_is_lightbox_timepicker","wide_form","lightboxAttr","drag_lightbox","onmousedown","_ready_to_dnd","onselectstart","_init_dnd_events","_render_sections","labelBlock","inputBlock","inputId","_init_lightbox_events","block","con","scroll_top","scroll_left","view_height","_cover","_document_height","_scroll_height","lightbox_events","_save_lightbox","gantt_cancel_btn","_cancel_lightbox","sec","buttonTarget","SPACE","shiftKey","click","edit_save","edit_cancel","getLightboxValues","addTask","getTaskIndex","updateTask","lightboxHiddenAttr","hideCover","_custom_lightbox","_set_lightbox_values","lightboxHeader","lightbox_header","task_time","getLightboxSection","getValue","setValue","get_template_control","control","get_select_control","get_textarea_control","get_time_control","_move_while_dnd","_finish_dnd","_dnd_start_lb","gantt_unselectable","lb","_lb_start","ariaAttrs","date_part","time_format","limit_time_select","first_hour","last_hour","setHours","lightboxSelectAttrString","mapOffset","checkbox","resources","constraint","ok","confirm","type_value","oldType","formData","updTask","isUnscheduledTask","unscheduled","show_unscheduled","taskStart","taskEnd","getGlobalTaskIndex","_getProjectEnd","project_end","_getProjectStart","project_start","_defaultTaskDate","parent_id","schedule_from_end","getTaskByIndex","_set_default_task_timing","createTask","setParent","details_on_create","selectTask","showTask","oldid","newid","unselect","getSelectedId","_get_task_timing_mode","task_type","$no_start","$no_end","$rendered_type","_init_task_timing","task_mode","resetProjectDates","taskMode","_assign_project_dates","getSubtaskDuration","task_id","taskTiming","_update_parents","has_changed","oldStart","oldEnd","roundDate","upper","lower","colIndex","steps","correctTaskWorkTime","work_time","correct_work_time","getClosestWorkTime","calendarManager","timeCalculator","getWorkHours","setWorkTime","unsetWorkTime","_hasDuration","hasDuration","createCalendar","addCalendar","getCalendar","getCalendars","getTaskCalendar","deleteCalendar","CalendarDisabledTimeStrategy","argumentsHelper","_calculateDuration","fixedUnits","createArgumentsHelper","NoWorkTimeCalendar","TimeCalculator","$disabledCalendar","_getCalendar","manager","WorkUnitsObjectCache","_cache","WorkUnitsMapCache","unitCache","workunit_map_cache_1","workunit_object_cache_1","createCacheObject","cacheFactory","CalendarWorkTimeStrategy","_workingUnitsCache","_getUnitOrder","_timestamp","UTC","_checkIfWorkingUnit","_isWorkTime","_is_work_day","_getWorkHours","_is_work_hour","_internDatesPull","_nextDate","_getWorkUnitsBetweenGeneric","stepStart","stepEnd","checkFirst","checkLast","isLastStep","_getMinutesPerDay","_getHoursPerDay","_getWorkUnitsForRange","getUnitsPerDay","total","_getWorkUnitsBetweenQuick","firstDayStart","firstDayEnd","day_start","lastDayStart","lastDayEnd","startPart","endPart","worktime","_setCalendar","_tryChangeCalendarSettings","payload","backup","_isEmptyCalendar","datesArray","isFullWeekSet","checkFullArray","getDay","reset_calendar","dateKey","is_work_unit","mult","_calculateEndDate","_calculateMinuteEndDate","_calculateHourEndDate","_addInterval","stopAction","satrt","interval","getMilliseconds","durationLeft","_getClosestWorkTime","inputDate","_getClosestWorkTimePast","_getClosestWorkTimeFuture","closestFuture","closestPast","_getClosestWorkTimeGeneric","increment","unitOrder","biggerTimeUnit","CalendarWorktimeStrategy","CalendarManager","_calendars","_getDayHoursForMultiple","calendars","tick","currPos","acc","mergeCalendars","newCalendar","_convertWorktimeSettings","parentCalendar","defaults","fulltime","apiCore","createDefaultCalendars","_getOwnCalendar","calendar_property","resource_calendars","resource","calendarId","inherit_calendar","stop","eachParent","worktimes","restoreConfigCalendars","worktimeFacadeFactory","facade","load","_load_url","cl","_load_type","ajax","on_load","xmlDoc","responseText","resp","_process_loading","collections","_load_collections","linksStore","initial_scroll","firstTask","collections_loaded","option_key","$ignore","json","dhx_security","security_key","serializeTask","_copyObject","serializeLink","_copyLink","xml_format","formate_date","rawLinks","getLinks","_xmlNodeToJSON","attrs_only","nodeValue","_getCollections","loader","xpath","itms","attrs","_getXML","toptag","getXMLTopNode","xmltop","skey","evs","oldxml","startdate","est","enddate","predecessortasks","editable_property","readonly_property","htmlTags","extraSpaces","stripHTMLLite","htmlText","singleQuotes","escapeQuotes","getAttributeString","dateString","aria-label","_taskCommonAttr","tooltip_text","$dataprocessor_class","drag_move","taskRowAttr","order_branch","$level","hasChild","linkAttr","linkTypes","toStart","fromStart","drag_link","gridSeparatorAttr","buttonName","tabindex","headerText","time_option","aria-valuemin","multiselect","gridCellAttrString","textValue","gridAddButtonAttrString","messageButtonAttrString","buttonLabel","messageInfoAttr","messageModalAttr","quickInfoAttr","quickInfoHeaderAttrString","quickInfoHeader","quickInfoButtonAttrString","tooltipAttr","tooltipVisibleAttr","tooltipHiddenAttr","wai_aria_attributes","getGridColumn","USE_KEY","_defaultScales","TimelineZoom","zoomIn","getCurrentLevel","setLevel","zoomOut","_levels","_activeLevelIndex","getLevels","level","zoomLevel","_getZoomIndexByName","_setLevel","levelName","_getVisibleDate","scrollPos","_visibleDate","cursorOffset","nextConfig","chartConfig","cursorDate","newPosition","middleDate","_attachWheelEvent","_eventAttached","_useKey","_handler","_defaultHandler","timelineOffset","wheelUp","deltaY","wheelDelta","stopPropagation","_setScaleSettings","_setScaleDates","_initialStartDate","_initialEndDate","activeLevelIndex","_mapScales","levels","_minColumnWidth","minColumnWidth","_maxColumnWidth","maxColumnWidth","_widthStep","widthStep","useKey","_initialized","trigger","_stepUp","_stepDown","nextLevel","newColumnWidth","callIfEnabled","auto_types","updateParents","childId","batchUpdate","checkParent","targetType","getTaskTypeToUpdate","updateTaskType","delTaskParent","allTypes","hasChildren","originalRowDndParent","originalMoveTaskParent","isParsingDone","updateAfterRemoveChild","sid","placeholder_task","insertPlaceholder","placeholders","getTaskBy","afterEdit","newTask","dataProcessor","_silencedPlaceholder","setUpdated","ready","commands","command","entity","smartRender","resourceTaskCache","propertyName","propertyValue","getResourceTasks","resourceIds","cacheKey","resourceHash","resourceValue","resource_id","getResourceLoad","resourceProperty","$role","timegrid","currDate","timetable","resource_render_empty_cells","renderBar","renderConnection","prevLevel","isColumnVisible","columnIndex","cellLeftCoord","cellRightCoord","selectAssignments","resourceId","resource_property","owners","renderLine","resource_cell_class","resource_cell_value","row","renderHistogram","renderedHistogramCells","renderedHistogramRows","capacityMatrix","maxCapacity","capacity","histogram_cell_class","histogram_cell_label","histogram_cell_allocated","histogram_cell_capacity","capacityElement","colStart","colEnd","bar","connection","filterTasks","getResourceAssignments","assignments","createResourceMethods","resourceRow","resourceHistogram","resource_store","dhtmlx","attaches","attachGantt","cmp","attachObject","dataType","dataObj","that","vs","av","grid","border","gridId","gridObj","dhtmlXCellObject","jQuery","$","dhx_gantt","each","newgantt","Gantt","getGanttInstance","wbs","_needRecalc","_isRecalcNeeded","_isGroupSort","_groups","is_active","_getWBSCode","_calcWBS","$virtual","$wbs","_setWBSCode","getWBSCode","getByWBSCode","currentNode","_isFirst","_prevSibling","_wbs","_parent","resetCache","getTaskByWBSCode","isActive","disableMethod","methodName","dummyMethod","restoreMethod","restoreMethods","batchUpdatePayload","batch_update","noRedraw","dp_mode","call_dp","updateMode","setUpdateMode","resetProjects","refreshLink","methodsHash","setGanttMode","sendData","createMethod","scrollRange","scrollStep","scrollDelay","scrollSpeed","isMove","delayTimeout","startPos","started","eventPos","isDisplayed","isScrollState","dragMarker","isResize","isLink","isClickDrag","autoscroll","defineDelayTimeout","autoscroll_speed","setInterval","autoscroll_delay","defineScrollInterval","clearInterval","autoscrollInterval","isScroll","posY","need_scroll","scrollState","currentScrollTop","scrollOuterHeight","inner_height","scrollInnerHeight","currentScrollLeft","scrollOuterWidth","inner_width","scrollInnerWidth","autoscroll_step","boxSize","startCoord","ext","default","zoom","dp","getUserData","userdata","setUserData","_change_id","_ganttMode","changeLinkId","changeTaskId","_row_style","rowId","_delete_task","_sendTaskOrder","$drop_target","setDp","DataProcessorEvents","$dp","_dataProcessorHandlers","treeHelper","cascadeDelete","clientSideDelete","updatedRows","clientOnly","_in_progress","cascade_delete","dpMode","cascade","sendAllData","_tSend","_waitMode","itemLinks","_links","updateLink","_tMode","_serverProcessor","serverProcessor","pluralizedMode","urlSeparator","upd","isExist","addLink","objData","xml_date","parse_date","deleteLink","data_processor_events_1","extend_gantt_1","createDataProcessor","router","tMode","DataProcessor","setTransactionMode","serverProcessorURL","action_param","autoUpdate","_headers","_payload","_postDelim","_invalid","mandatoryFields","messages","inserted","deleted","invalid","invalid_cell","enableUTFencoding","headers","_endnm","_serializeAsJson","_router","escape","_utf","encodeURIComponent","setDataColumns","_columns","getSyncState","enableDataNames","enablePartialDataSend","_changed","dnd","findRow","existing","set_invalid","is_invalid","markRow","_methods","details","getActionByState","checkBeforeUpdate","mytype","_h2","editStop","_beforeSendData","_getRowData","_sendData","_serializeAsJSON","serialize_one","pref","serialized","_applyPayload","dataToSend","ids","afterUpdate","urlParams","_user","method","query","taskState_1","taskAction","ganttMode","getGanttMode","_onResolvedCreateUpdate","tid","afterUpdateCallback","actionPromise","_forEachUpdatedRow","valid","_getAllData","stop_1","hasOne","setVerificator","verifFunction","clearVerificator","pattern","defineAction","_uActions","btag","correct","originalSid","_xml","reqUrl","filePath","finalizeUpdate","cleanUpdate","atag","anObj","_dp_init","_setDefaultTransactionMode","dataProcessorEvents","setOnAfterUpdate","enableDebug","setOnBeforeUpdateHandler","setAutoUpdate","_needUpdate","_updateBusy","afterAutoUpdate","fullSync","loadUpdate","xml_node","getUpdates","_v","vers","upds","status_1","parent_1","modes","newState","format_date","_isFetchResult","ReadableStream","setSerializeAsJSON","flag","DEPRECATED_api","server","getDataProcessorModes","getAvailableModes","bindDataStore","itemRepainter","getLayers","render_item","update_items","skipRepaint","onUpdateRequest","renderers","render_items","change_id","selectedId","deleteItem","subItem","isSelected","TreeDataStore","_branches","$parentProperty","parentProperty","$getRootId","$openInitially","openInitially","_ganttConfig","getConfig","canOpenSplitTasks","_buildTree","_add_branch","calculateItemLevel","_move_branch","$rendered_parent","_replace_branch_child","_traverseBranches","branch","source_pid","tbranch","getSiblings","siblings","_setParentInner","new_pid","startItem","parentsHash","added_already","old_parent","new_parent","old_id","new_id","newbranch","criteria","original_criteria","getLinkCount","getTaskCount","getVisibleTaskCount","startTask","calculateTaskLevel","moveTask","createTasksFacade","createLinksFacade","createDatastoreSelect","datastoreRender","getDatastores","createDatastoreFacade","createDatastore","$StoreType","open_tree_initially","dropService","setService","storeList","stores","refresh_links","linkId","_clear_data","unselectTask","facadeFactory","parseDate","checkLinkedTaskVisibility","sync_link","sourceTask","targetTask","sync_link_delete","sync_links","mapEvents","conf","mapFrom","mapTo","sourceEvent","targetEvent","$index","oldState","sourceVisible","targetVisible","deletedLinks","onItemLoading","onBeforeAdd","onAfterAdd","onBeforeUpdate","onAfterUpdate","onBeforeDelete","onAfterDelete","onIdChange","onBeforeItemMove","onAfterItemMove","onFilterItem","onItemOpen","onItemClose","onBeforeSelect","onAfterSelect","onAfterUnselect","getTimeline","getGrid","getVerticalScrollbar","getHorizontalScrollbar","DEFAULT_VALUE","tryCall","fallback","getTaskTop","getTaskPosition","getTaskHeight","roundTaskDates","getLinkNode","oldH","oldV","newV","newH","date_x","scroll_to","_scroll_state","x_pos","y_pos","x_inner","y_inner","scrollVer","scrollHor","horState","visible","verState","addTaskLayer","addLinkLayer","_legacyGridResizerClass","resizers","gridResizer","onCreated","mainTimeline","show_chart","showGrid","show_grid","colsWidth","grid_limits","original_grid_width","skinSettings","_initScrollStateEvents","_getVerticalScrollbar","oldPos","newPos","$scroll_ver","$scroll_hor","_findGridResizer","gridFirst","_getSiblings","_behind","_front","onInitialized","resizeInfo","initialWidth","prevCellWidth","nextCellWidth","viewCell","limits","newBehindSize","newFrontSize","oldBackSize","oldFrontSize","newBackSize","oldSize","onDestroyed","initLinksDND","_link_landing","_link_target_task","_link_target_task_start","_link_source_task","_link_source_task_start","getDndState","DnD","sensitivity","updates_per_second","getLinePos","isStart","taskPos","xEnd","yEnd","milestoneWidth","origWidth","sqrt","updateMarkedHtml","drag_link_class","resetDndState","coordinateCircleQuarter","sX","eX","sY","eY","_dir_start","dd","getPosition","advanceMarker","landing","prevTarget","prevLanding","prevToStart","targ","_dir_end","targetChanged","s_x","s_y","e_x","e_y","_direction","link_direction_class","dist","pow","tan","angle","atan","PI","sin","cos","shiftLeft","shiftTop","createLinkDND","createTaskDND","round_task_dates","dragMultiple","_events","before_start","before_finish","after_finish","_handlers","_domEvents","clear_drag_state","set_actions","drag_from_start","stage","_move","_resize","_resize_progress","start_x","start_y","coords_x","_drag_task_coords","min_duration","diffValue","_find_max_shift","dragItems","correctShift","minX","maxX","maxShift","minShift","new_start","obj_s_x","obj_e_x","_mouse_position_change","_is_number","isFinite","_update_on_move","_update_item_on_move","curr_date","getTime","drag_project","initialDrag","childDrag","_get_drag_mode","_fix_dnd_scale_time","fixStart","fixEnd","_fix_working_times","_finalize_mouse_up","_fireEvent","_dhx_changed","dragProperty","drag_state","taskDnD","linkDnD","_linksDnD","_tasksDnD","_attachDomEvents","_attachStateProvider","extendDom","_clearDomEvents","_clearStateProvider","_delete_link_handler","link_description","coll","coll_date","scale_step","unregisterProvider","gridToPageCoordinates","gridPos","removeLineHighlight","markerLine","highlightPosition","ePos","gridHeight","pointerEvents","markerFolder","linePos","indentNode","indent","itemTop","itemHeight","childCount","dropTarget","relTargetPos","eventTop","findClosesTarget","allowedLevel","targetLevel","findTargetAbove","findTargetBelow","rootLevel","getLockedLevelTarget","getMultiLevelTarget","higlighter","dnd_sensitivity","hideQuickInfo","_hideQuickInfo","initial_open_state","outerHTML","drop_target","$transparent","getDropPosition","lockLevel","order_branch_free","getStore","lastTaskOfLevel","last_item","_getGridPos","_getTargetY","_getTaskByY","dropIndex","over","nextId","prevId","rowDnd","rowDndMarker","extendGantt","inlineEditors","_inlineEditors","createEditors","initEvents","clearEvents","scroll_on_click","sorting_method","callHandler","totalWidth","isLegacyRender","aria","date_grid","tree","grid_indent","grid_blank","grid_file","grid_open","grid_folder","align","grid_row_class","css_template","$keyboardNavigation","dispatcher","isTaskFocused","sourceTop","sourceHeight","targetTop","targetHeight","sourceLeft","sourceRight","targetLeft","targetRight","isLinkInViewPort","drawer","current_pos","dirs","down","point","get_lines","dots","line_to","get_path","_get_line","get_wrapper_sizes","wrapper_size","link_wrapper_width","get_line_sizes","line_size","marginTop","marginLeft","render_line","innerPos","get_direction","vect","path_builder","point_to","get_points","pt","get_endpoint","xy","shiftX","lineType","get_line_type","forward","sign","getMilestonePosition","milestoneHeight","lines","cssTemplate","link_class","isCriticalLink","endpoint","line_width","borderColor","viewportLeft","viewPortRight","firstCellIndex","lastCellIndex","renderedCells","isRendered","detachRenderedCell","getCellTemplate","task_cell_class","timeline_cell_class","renderOneCell","cssTemplateContent","static_background_cells","cellTemplate","show_task_cells","odd","task_row_class","isBarInViewPort","createBaseBarRender","defaultRender","sub_tasks","PredecessorEditor","parseInputString","predecessors","delimiter","formatPredecessors","editor","linksDiff","predecessorCodes","selectedLinks","predecessor","lag","existingLinksSearch","linksToAdd","linkKey","linksToDelete","getLinksDiff","autoSchedule","inputPredecessors","taskPredecessors","html5DateFormat","dateToStr","strToDate","DateEditor","str_to_date","parsed","SelectEditor","optionsHtml","NumberEditor","TextEditor","controller","onBlurDelay","keyNav","keyboardNavigation","activeCell","locateCell","columnName","editorState","getEditorConfig","startEdit","hasEditor","keyboard","preventKeyNav","ENTER","ctrlKey","metaKey","ESC","LEFT","RIGHT","editorType","DELETE","TAB","editPrevCell","editNextCell","modifiers","anyModifier","alt","meta","getCommandHandler","onShow","onHide","isChanged","keyboard_navigation","defaultPrevented","shouldPrevent","defaultMapping","keyNavMappings","setMapping","getMapping","keyboard_navigation_cells","getKeyboardMapping","textEditorFactory","numberEditorFactory","selectEditorFactory","dateEditorFactory","predecessorEditorFactory","linkedPropertiesProcessor","initConfigs","editor_types","keyboardMapping","eventBus","inlineEditController","updateTaskDateProperties","_itemId","_columnName","_editor","_editorType","_placeholder","editorConfig","_getEditorPosition","findVisibleIndex","_createPlaceholder","_getItemValue","oldValue","inline_editors_date_processing","_findEditableCell","nextIndex","nextColumn","getNextCell","getFirstCell","getLastCell","canChangeRow","moveRow","nextItem","editNextRow","editPrevRow","handlerId","ScrollbarCell","_scrollHorizontalHandler","_scrollVerticalHandler","_outerScrollVerticalHandler","_outerScrollHorizontalHandler","_mouseWheelHandler","_isHorizontal","scrollPosition","_isVertical","_initVertical","_initHorizontal","_initMouseWheel","_initLinkedViews","_getRootParent","_eachView","eachCell","_getLinkedViews","scrollX","_updateLinkedViews","scrollHorizontally","_scrolling","scrollVertically","_wheel_time","_oldLeft","_getScrollSize","outerSize","isHorizontal","linked","scrollProperty","innerSizeProperty","outerProperty","_getScrollOffset","cellScrollSize","nonScrollableSize","outerScroll","innerScroll","scrollSizes","_setScrollSize","toggleVisibility","_getScaleOffset","parentLayout","_oldTop","_checkWheelTarget","targetNode","connectedViews","ff","wx","deltaX","wheelDeltaX","wy","oldLeft","detail","oldTop","ViewCell","childConfig","$initialized","unload","outerX","outerY","childSize","ViewLayout","$cell","byMaxSize","otherCell","task_area_pulls","task_area_renderers","getRenderer","renderMethod","updateMethod","layer_attribute","dom","rendererViewPort","remove_item","clear_container","buffer","createDocumentFragment","vis","itemNode","replace_item","newNode","clearRenderers","renderFactoryProvider","mergeFilters","filter_methods","filter_method","renderFactory","createGroup","get_container","rel_root","defaultFilters","renderGroup","tempCollection","filters","_add","topmost","rel","eachLayer","createLayerFactory","previusSiblingContainer","defaultContainerSibling","removeTaskLayer","_getLinkLayers","removeLinkLayer","createMouseHandler","eventHandlers","doubleclick","contextMenu","addEventTarget","onClick","findEventHandlers","callEventHandlers","onContextMenu","delegateHandlers","handlerResult","details_on_dblclick","onMouseMove","_last_move_event","domEvents","elementHandlers","ViewSettings","extendSettings","parentSettings","own","parentView","parentConfig","parentTemplates","configurable","createFactory","createdViews","creator","configure","registerView","viewConstructor","uiFactory","createLayers","Resizer","Scrollbar","ResourceGrid","ResourceTimeline","ResourceHistogram","gridEditorsFactory","renderTaskBar","renderSplitTaskBar","renderTaskBg","renderLink","gridRenderer","mainGridInitializer","mainTimelineInitializer","mainLayoutInitializer","attachInitializer","initializer","layersEngine","layersApi","layersService","boxAttribute","_dhx_msg_cfg","usercall","modalBox","modal_key","messageBox","modality","cover","buttonAriaAttrs","getFirstDefined","_createBox","cancel","contentId","btn","alertPopup","confirmPopup","boxPopup","box_params","focusable","timers","hideAll","popups","modalbox","setImmediate","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","handle","runIfPresent","importScripts","postMessageIsAsynchronous","oldOnMessage","messagePrefix","onGlobalMessage","MessageChannel","channel","port1","port2","script","onreadystatechange","clearImmediate","Timeout","clearFn","_id","_clearFn","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","_dereq_","1","SomePromiseArray","_SomePromiseArray","any","promises","setHowMany","setUnwrap","2","firstLineError","util","Async","_customScheduler","_isTickUsed","_lateQueue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","AsyncInvokeLater","receiver","_queueTick","AsyncInvoke","AsyncSettlePromises","_pushOne","_drainQueue","_drainQueueStep","_settlePromises","setScheduler","hasCustomScheduler","enableTrampoline","disableTrampolineIfNecessary","hasDevTools","haveItemsQueued","fatalError","isNode","stderr","write","throwLater","invokeLater","invoke","settlePromises","_reset","./queue","./schedule","./util","3","INTERNAL","tryConvertToPromise","debug","calledBind","rejectThis","_reject","targetRejected","context","promiseRejectionQueued","bindingPromise","_then","bindingResolved","thisArg","_bitField","_resolveCallback","bindingRejected","_propagateFrom","propagateFromFunction","_boundValue","boundValueFunction","maybePromise","_target","_setBoundTo","_setOnCancel","_boundTo","_isBound","4","old","bluebird","noConflict","./promise","5","cr","callerCache","getterCache","canEvaluate","caller","classString","namedGetter","indexedGetter","isIdentifier","maybeGetter","getGetter","6","PromiseArray","apiRejection","tryCatch","errorObj","async","_async","cancellation","_warn","_isCancellable","_cancelBy","_isFollowing","_followee","_cancelBranched","_cancellationParent","_setWillBeCancelled","_branchHasCancelled","_branchesRemainingToCancel","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancel","_setCancelled","_cancelPromises","_length","_unsetOnCancel","_onCancelField","isPending","_isCancelled","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","_attachExtraTrace","_resultCancelled","_onCancel","_invokeInternalOnCancel","7","NEXT_FILTER","getKeys","instances","boundTo","predicateLoop","matchesPredicate","./es5","8","longStackTraces","contextStack","Context","_trace","CapturedTrace","peekContext","lastIndex","_promiseCreated","_pushContext","_popContext","_peekContext","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","9","unhandledRejectionHandled","possiblyUnhandledRejection","printWarning","getDomain","_getDomain","Warning","es5","canAttachTrace","bluebirdFramePattern","nodeFramePattern","parseLinePattern","stackFramePattern","formatStack","indentStackFrames","debugging","wForgottenReturn","suppressUnhandledRejections","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","fireRejectionEvent","_setReturnedNonUndefined","_returnedNonUndefined","_isRejectionUnhandled","reason","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","shouldUseOwnTrace","onPossiblyUnhandledRejection","domain","domainBind","onUnhandledRejectionHandled","disableLongStackTraces","longStackTracesIsSupported","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","Promise_dereferenceTrace","_dereferenceTrace","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","longStackTracesDereferenceTrace","hasLongStackTraces","fireDomEvent","CustomEvent","dispatchEvent","eventData","cancelable","domEvent","Event","initCustomEvent","fireGlobalEvent","generatePromiseLifecycleEventObject","eventToObjectGenerator","promiseCreated","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","unhandledRejection","rejectionHandled","activeFireEvent","globalEventFired","domEventFired","defaultFireEvent","cancellationExecute","executor","onCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","previousOnCancel","cancellationOnCancel","cancellationSetOnCancel","cancellationClearCancellationData","cancellationPropagateFrom","flags","branchesRemainingToCancel","warningsOption","_clearCancellationData","_execute","monitoring","isFulfilled","ignoreSelf","attachExtraTrace","__stackCleaned__","parseStackAndMessage","notEnumerableProp","formatAndLogError","cleanStack","isTraceLine","isInternalFrame","shouldIgnore","isSoft","localHandler","localEventFired","formatNonError","maxChars","captureStackTrace","parseLineInfoRegex","parseLineInfo","fileName","_promisesCreated","uncycle","stackToIndex","cycleEdgeNode","currentChildLength","stacks","currentLastIndex","currentLastLine","commonRootMeetPoint","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","hasStackAfterThrow","isTTY","checkForgottenReturns","handlerLine","creatorLine","traceLines","lineMatches","firstUserLine","setBounds","lastLineError","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","info","replacement","./errors","10","returner","thrower","thenReturn","thenThrow","catchThrow","_reason","caught","catchReturn","_value","11","PromiseReduce","PromiseAll","promiseAllThis","mapSeries","12","_TypeError","_RangeError","Objectfreeze","subError","nameProperty","defaultMessage","SubError","CancellationError","TimeoutError","AggregateError","RangeError","OperationalError","cause","errorTypes","RejectionError","13","isES5","getDescriptor","propertyIsWritable","descriptor","proto","ObjectKeys","14","PromiseMap","15","catchFilter","PassThroughHandlerContext","called","cancelPromise","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","fail","reasonOrValue","isFinallyHandler","isRejected","_passThrough","success","lastly","tap","tapCatch","handlerOrPredicate","catchInstances","./catch_filter","16","Proxyable","yieldHandlers","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_promise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","_yieldedPromise","_cancellationPhase","_isResolved","_cleanup","_fulfill","_promiseCancelled","coroutine","returnSentinel","_continue","_promiseFulfilled","_promiseRejected","_run","_rejectCallback","traceParent","promiseFromYieldHandler","bitField","_proxy","PromiseSpawn$","generator","spawn","addYieldHandler","17","18","MappingPromiseArray","limit","_filter","constructor$","_callback","_preservedValues","_limit","_inFlight","_queue","_asyncInit","concurrency","_init$","_init","_values","preservedValues","_totalResolved","_resolve","booleans","19","_resolveFromSyncValue","attempt","20","maybeWrapAsError","rErrorKey","wrapAsOperationalError","markAsOriginatingFromRejection","multiArgs","wrapped","21","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","asCallback","nodeify","adapter","22","makeSelfResolutionError","reflectHandler","PromiseInspection","UNDEFINED_BINDING","errors","APPLY","createContext","nodebackForPromise","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","deferResolve","deferReject","fillTypes","reflect","didFulfill","didReject","_setIsFinal","fulfillmentValue","rejectionReason","originatesFromRejection","getNewLibraryCopy","fromNode","fromCallback","_isFateSealed","_setAsyncGuaranteed","cast","_setFulfilled","fulfilled","rejected","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","fulfill","_migrateCallbackAt","proxyable","shouldBind","_setFollowee","synchronous","ignoreNonErrorWarnings","ensureErrorObject","hasStack","_settlePromiseFromHandler","_settlePromise","isPromise","asyncGuaranteed","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","defer","toFastProperties","./any.js","./async","./bind","./call_get.js","./cancel","./context","./debuggability","./direct_resolve","./each.js","./filter.js","./finally","./generators.js","./join","./map.js","./method","./nodeback","./nodeify.js","./promise_array","./promisify.js","./props.js","./race.js","./reduce.js","./settle.js","./some.js","./synchronous_inspection","./thenables","./timers.js","./using.js","23","resolveValueIfEmpty","asArray","_iterate","_resolveEmptyArray","getActualLength","shouldCopyValues","24","THIS","withAppended","defaultPromisified","__isPromisified__","noCopyPropsPattern","defaultFilter","propsFilter","isPromisified","hasPromisified","suffix","getDataPropertyOrDefault","promisifiableMethods","suffixRegexp","inheritedDataKeys","passesDefaultFilter","keyWithoutAsyncSuffix","escapeIdentRegex","makeNodePromisified","makeNodePromisifiedEval","defaultThis","promisified","promisifyAll","promisifier","promisifiedKey","promisify","copyDescriptors","isClass","25","Es6Map","mapToEntries","extractEntry","PropertiesPromiseArray","isMap","_isMap","castValue","keyOffset","26","_capacity","_willBeOverCapacity","_checkCapacity","wrapMask","front","_resizeTo","oldCapacity","srcIndex","dst","dstIndex","27","raceLater","race","28","ReductionPromiseArray","initialValue","_each","_fn","_initialValue","_currentCancellable","_eachValues","completed","valueOrReason","gotAccum","accum","_gotAccum","gotValue","_eachComplete","sender","_resultCancelled$","29","NativePromise","getNativePromise","MutationObserver","GlobalSetImmediate","ProcessNextTick","isRecentNode","nativePromise","standalone","cordova","toggleScheduled","div2","observe","disconnect","30","SettledPromiseArray","_promiseResolved","inspection","_settledValueField","settle","31","CANCELLATION","_howMany","_unwrap","howMany","isArrayResolved","_canPossiblyFulfill","_getRangeError","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","32","__isCancelled","33","hasProp","isAnyBluebirdPromise","34","HandleWrapper","afterValue","ms","successClear","failureClear","handleWrapper","35","NULL","thenable","_isDisposable","_getDisposer","_setDisposable","tryDispose","Disposer","_data","_context","FunctionDisposer","maybeUnwrapDisposer","isDisposer","ResourceList","doDispose","_unsetDisposable","using","spreadArgs","reflectedResources","resultPromise","inspections","_disposer","36","tryCatchTarget","globalObject","tryCatcher","excludedPrototypes","isExcludedProto","visitedKeys","enumeration","thisAssignmentPattern","rident","safeToString","ArrayFrom","itResult","it","hasEnvVariables","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","Child","Parent","T","appendee","maybeError","FakeConstructor","ic","foo","filledRange","prefix","chrome","loadTimes","P","stateProviders","provider","regTemplates","template_name","date_format","server_utc","task_unscheduled_time","grid_date_format","tooltip_date_format","copyDomEvent","altKey","_obj","_settings","inputMethods","getInputMethods","_drag_start_timer","clearDragTimer","original_target","dragStart","traceDragEvents","domElement","inputMethod","mousemove","dragMove","dragScroll","limited_mousemove","dndActive","mouseup","dragEnd","checkPositionChange","diff_x","diff_y","initDnDMarker","backupEventTarget","getEvent","backup_element","elementFromPoint","month_short_hash","month_full_hash","hour_start","time_part","week_start","start_on_monday","month_start","setDate","quarter_start","res_month","setMonth","year_start","setMinutes","minute_start","setSeconds","setMilliseconds","_add_days","inc","ndate","setYear","add_quarter","to_fixed","num","utc","getISOWeek","getWeek","splt","mask","_getWeekNumber","isoWeek","nday","first_thursday","year_number","ordinal_date","getUTCISOWeek","convert_to_utc","getUTCFullYear","getUTCMonth","getUTCHours","getUTCMinutes","getUTCSeconds","createConfig","DOMParser","parseFromString","ActiveXObject","loadXML","tagname","responseXML","xpathExp","docObj","selectNodes","ownerDocument","evaluate","XPathResult","ANY_TYPE","iterateNext","_call","onLoad","getSync","put","postData","del","post","postSync","isQt","readyState","branch_loading","branch_loading_property","show_loading","dhx_save_btn","dhx_cancel_btn","dhx_delete_btn","project_sections","milestone_sections","grid_resizer_column_attribute","grid_resizer_attribute","keep_grid_width","grid_resize","prevent_default_scroll","service","$inject","templatesLoader","stateService","selected_task","uiApi","createLayoutFacade","render_marker","show_markers","marker_class","initMarkerArea","markerArea","$marker_area","_markers","getMarker","addMarker","deleteMarker","updateMarker","_getMarkers","renderMarkers","Tooltip","_tooltipNode","setViewport","_root","MouseEvent","_calculateTooltipPosition","setContent","_getViewPort","_getViewPortSize","tooltipNode","tooltip","offsetX","tooltip_offset_x","offsetY","tooltip_offset_y","mouse","domEventsScope","tooltip_1","TooltipManager","_listeners","watchableTarget","eventTarget","onmousemove","onmouseleave","onmouseenter","listener","tooltipFor","cloneDomEvent","clone","delayShow","tooltip_timeout","delayHide","tooltip_hide_timeout","tooltipManager","tooltips","touch_tooltip","arg1","arg2","HTMLInputElement","checkboxData","radioData","valueData","HTMLSelectElement","HTMLTextAreaElement","isContentEditable","textContentData","checkboxListener","textContentListener"],"mappings":"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","file":"main.80d198d8.js","sourceRoot":"../../src/html","sourcesContent":["/**\n * Contributor to a project to whom work can be assigned.\n *\n * A contributor can have one or more members.\n */\nexport interface Contributor {\n  /**\n   * Identifier for this contributor. If the contributor exists in YouTrack as a user, this should be the\n   * YouTrack-internal ID (YouTrack REST API entity name\n   * [User](https://www.jetbrains.com/help/youtrack/standalone/api-entity-User.html)), so that issue assignees in\n   * YouTrack can be considered for scheduling.\n   */\n  id: string;\n\n  /**\n   * The number of minutes per week each member of this contributor is available.\n   */\n  minutesPerWeek: number;\n\n  /**\n   * The number of members in this group.\n   *\n   * By default, there is only a single member; that is, 1.\n   */\n  numMembers?: number;\n}\n\n/**\n * Human-readable error message that can be displayed to the user.\n */\nexport type Failure = string;\n\n/**\n * Returns whether the given value is a {@link Failure}.\n */\nexport function isFailure(value: any): value is Failure {\n  return typeof value === 'string';\n}\n\n/**\n * An issue activity is a time period in which work was or is scheduled to be performed on an issue.\n *\n * Timestamps are in milliseconds since January 1, 1970 00:00:00 UTC. That is, all timestamps are in real time (and not\n * relative to work time).\n */\nexport interface IssueActivity {\n  /**\n   * If the activity is in the past: YouTrack-internal ID of the assignee (YouTrack REST API entity name\n   * [User](https://www.jetbrains.com/help/youtrack/standalone/api-entity-User.html)) or, if there was no assignee,\n   * the empty string. If the activity is scheduled for the future: the contributor id {@link Contributor.id}.\n   */\n  assignee: string;\n\n  /**\n   * The start timestamp of the activity (including).\n   */\n  start: number;\n\n  /**\n   * The end timestamp of the activity (excluding).\n   *\n   * If the issue activity has no scheduled end, this property is `Number.MAX_SAFE_INTEGER`.\n   */\n  end: number;\n\n  /**\n   * Whether this activity represents wait time.\n   *\n   * If true, this activity does not prevent other issues from being assigned concurrently to the same assignee.\n   * However, any dependent issue can only start once all work on this issue has finished and all wait time has elapsed.\n   */\n  isWaiting: boolean;\n}\n\n/**\n * Node in an issue tree (or forest).\n *\n * In an issue tree (or forest), there is a one-to-one correspondence between {@link SchedulableIssue} objects and\n * {@link IssueNode} objects. Parent-child and dependency relationships are lifted to {@link IssueNode}. That is, the\n * dependencies of an {@link IssueNode} `a` are just those nodes that correspond to the issues referenced by\n * `a.issue.dependencies`.\n *\n * See also {@link makeForest}().\n */\nexport interface IssueNode<T extends SchedulableIssue> {\n  /**\n   * Index of {@link issue} in the underlying (flat) array that was used to create this tree.\n   */\n  index: number;\n\n  /**\n   * The issue corresponding to the current node.\n   */\n  issue: T;\n\n  /**\n   * The parent of the the current issue node, or `undefined` if this node is a root node.\n   */\n  parent?: IssueNode<T>;\n\n  /**\n   * Children of the current issue node.\n   */\n  children: IssueNode<T>[];\n\n  /**\n   * Dependencies of the current issue node.\n   */\n  dependencies: IssueNode<T>[];\n\n  /**\n   * Dependents of the current issue node.\n   */\n  dependents: IssueNode<T>[];\n}\n\n/**\n * An issue activity with one or more assignees.\n *\n * See {@link IssueActivity} and {@link groupByIntervalAndWaitStatus}().\n */\nexport interface MultiAssigneeIssueActivity extends Omit<IssueActivity, 'assignee'> {\n  /**\n   * Assignees for this issue activity, during the time interval from {@link IssueActivity.start} to\n   * {@link IssueActivity.end}.\n   *\n   * The same guarantees hold as for {@link IssueActivity.assignee}. Additionally, the array is non-empty.\n   */\n  assignees: string[];\n}\n\n/**\n * Callback for progress updates.\n *\n * @param ProgressCallback.percentageDone progress in percent; that is, a number (not necessarily integer) between\n *     0 and 100\n */\nexport type ProgressCallback = (percentageDone: number) => void;\n\n/**\n * A project plan.\n *\n * A project plan contains the current status of the issues in a YouTrack saved search. Additionally, it may also\n * contain the past project schedule reconstructed from the YouTrack activity log, and the future schedule computed from\n * YouTrack issue metadata plus the list of available contributors.\n */\nexport interface ProjectPlan {\n  /**\n   * Issues and their computed scheduling.\n   */\n  issues: YouTrackIssue[];\n\n  /**\n   * Warnings that may indicate incomplete or invalid data in YouTrack.\n   */\n  warnings: ProjectPlanWarning[];\n}\n\n/**\n * A warning concerning a project plan.\n */\nexport interface ProjectPlanWarning {\n  /**\n   * Human-readable warning message that can be displayed to the user.\n   */\n  description: string;\n\n  /**\n   * Issue identifier if the warning pertains to a specific issue, otherwise undefined.\n   */\n  issueId?: string;\n}\n\n/**\n * Options for retrieving YouTrack issue data and building a project plan.\n */\nexport interface RetrieveProjectPlanOptions {\n  /**\n   * Callback for progress updates.\n   *\n   * By default, there is no callback.\n   */\n  progressCallback?: ProgressCallback;\n\n  /**\n   * Whether issue activities should be omitted, in which case {@link YouTrackIssue.issueActivities} will be the empty\n   * array for all issues.\n   *\n   * Retrieving past issue activities is the most time-consuming part of reconstructing a project plan. If the activity\n   * information is not required, this option should therefore be set to `true`.\n   *\n   * By default, this is `false`; that is, issue activities *are* retrieved.\n   */\n  omitIssueActivities?: boolean;\n\n  /**\n   * Interval (in milliseconds) in which progress updates will be provided to the callback.\n   *\n   * By default, this is 200 milliseconds.\n   */\n  progressUpdateIntervalMs?: number;\n\n  /**\n   * Number of elements per HTTP request to array resources. See also {@link httpGetAll}().\n   *\n   * By default, this is 100.\n   */\n  restBatchSize?: number;\n}\n\n/**\n * An issue that can be scheduled.\n *\n * This interface contains all issue information relevant to its (future) scheduling.\n */\nexport interface SchedulableIssue {\n  /**\n   * Identifier.\n   *\n   * This corresponds to property `idReadable` of YouTrack REST API entity\n   * [Issue](https://www.jetbrains.com/help/youtrack/standalone/api-entity-Issue.html).\n   */\n  id: string;\n\n  /**\n   * The remaining ideal time (aka effort) for this issue, in milliseconds.\n   *\n   * The ideal time is relative to the regular work time. It *does not* include time for subissues. If this issue is a\n   * parent issue, this number is therefore typically different from the corresponding property stored in the issue\n   * tracker (where, by assumption, the remaining effort required for subissues *is* included in the remaining effort of\n   * the parent issue). If, in the issue tracker, the remaining effort is less than the total remaining effort of all\n   * subissues, the property in this interface is 0 (it is *never* negative).\n   */\n  remainingEffortMs: number;\n\n  /**\n   * The remaining wait time for this issue, in milliseconds.\n   *\n   * The wait time is relative to the regular work time. For example, if the regular work time is 40h/week, and the\n   * wait time is 16h, then this is 2 days in real time. This number is independent of the wait time of any subissues.\n   * (And it would *not* make sense to configure the issue tracker to sum or otherwise aggregate the wait time of\n   * subissues.)\n   *\n   * By default, there is no remaining wait time; that is, this property is 0.\n   */\n  remainingWaitTimeMs?: number;\n\n  /**\n   * Issue identifier (see {@link id}) of the parent issue.\n   *\n   * By default, the issue has no parent; that is, this property is the empty string.\n   */\n  parent?: string;\n\n  /**\n   * Whether this issue can be split across more than one person.\n   *\n   * By default, this is false.\n   */\n  splittable?: boolean;\n\n  /**\n   * Identifiers (see {@link id}) of the issues that this issue depends on.\n   *\n   * This includes only dependencies that are known.\n   *\n   * By default, there are no dependencies.\n   */\n  dependencies?: string[];\n\n  /**\n   * YouTrack-internal ID of the current assignee (YouTrack REST API entity name\n   * [User](https://www.jetbrains.com/help/youtrack/standalone/api-entity-User.html)), or empty string if none.\n   */\n  assignee?: string;\n}\n\n/**\n * A schedule for issues with remaining effort or wait time.\n */\nexport type Schedule = ScheduledIssue[];\n\n/**\n * Scheduled activities for an issue with remaining effort or wait time.\n *\n * The same guarantees hold as for {@link YouTrackIssue.issueActivities}.\n */\nexport type ScheduledIssue = IssueActivity[];\n\n/**\n * Options for scheduling issues with remaining effort or wait time.\n *\n * Its important to distinguish:\n * - Elapsed time (aka duration). [Cohn (2006, Agile Estimating and Planning)](http://www.worldcat.org/oclc/935197594)\n *   defines this as the amount of time that passes on a clock (or perhaps a calendar).\n * - Ideal time (aka effort or work). This, in contrast, is the amount of time that something takes when stripped of\n *   all peripheral activities (ibid.). Ideal time also does not contain time off work (such as nights or weekend).\n *\n * It is further important to define whether a quantity is given relative to the:\n * - actual work time of a contributor (say, 20h/week in case of part-time),\n * - regular work time (say, 40h/week), or\n * - real time (aka elapsed or wall-clock time; that is, 7 * 24h/week).\n *\n * In practice, this usually only affects the conversion factors between hours and days (say, 8h/d or 24h/d), and\n * between days and weeks (say, 5d/week vs. 7d/week).\n *\n * Finally, there are different options for mapping from work time to real time:\n * - Using the contributorss work schedule (say, Monday through Friday, between 9am and 5pm) as a step function. No\n *   activity is scheduled outside these time windows.\n * - Interpolation. Here, the simplified assumption is that work time is evenly distributed over the entire real week.\n *   While this choice is arguably less realistic, it has the benefit of simplicity, and is often still sufficient for\n *   estimation purposes.\n *\n * In this module, in the absence of further qualification, elapsed time is meant relative to real time (24h/d and\n * 7d/week), and ideal time is meant relative to regular work time (which is\n * [configurable in YouTrack](https://www.jetbrains.com/help/youtrack/standalone/resource-api-admin-timeTrackingSettings-workTimeSettings.html)).\n * This module uses interpolation to convert from work time to real time. (The ceiling function is used for any integer\n * conversion.)\n */\nexport interface SchedulingOptions {\n  /**\n   * Contributors between whom all work will be allocated.\n   */\n  contributors: Contributor[];\n\n  /**\n   * The number of minutes in a work week.\n   *\n   * This number defines the conversion factor between regular work time (say, 40h/week) and real time (7 * 24h/week).\n   *\n   * By default, this is 5d * 8h/d * 60min/h = 2400min.\n   */\n  minutesPerWeek?: number;\n\n  /**\n   * Resolution (in milliseconds) of the computed schedule. More precisely, the duration of one quantum (unit) of\n   * regular work time.\n   *\n   * The effect of this property is a quantization of time. Specifically, any elapsed time *relative to regular work\n   * time* is always a multiple of this setting.\n   *\n   * By default, this is 1 hour; that is, 3,600,000ms.\n   */\n  resolutionMs?: number;\n\n  /**\n   * Minimum ideal time (in multiples of {@link resolutionMs}) that each issue activity must have in order\n   * for the issue to be preemptable or splittable across more than one person.\n   *\n   * By default, this is 1.\n   */\n  minActivityDuration?: number;\n\n  /**\n   * Timestamp of the earliest point in time when unresolved issues with remaining effort or wait time can be scheduled.\n   *\n   * By default, the current time returned by `Date.now()` will be used.\n   */\n  predictionStartTimeMs?: number;\n}\n\n/**\n * Configuration of YouTrack.\n *\n * This defines the meaning of the\n * [YouTrack custom fields](https://www.jetbrains.com/help/youtrack/standalone/Custom-Fields.html) that pertain to\n * reconstructing a project plan from the activity log.\n */\nexport interface YouTrackConfig {\n  /**\n   * YouTrack-internal ID of the custom field (YouTrack REST API entity name\n   * [CustomField](https://www.jetbrains.com/help/youtrack/standalone/api-entity-CustomField.html)) that contains the\n   * state of an issue.\n   *\n   * The [field type](https://www.jetbrains.com/help/youtrack/standalone/Supported-Custom-Field-Types.html) must be\n   * `state`.\n   */\n  stateFieldId: string;\n\n  /**\n   * YouTrack-internal IDs of the unresolved states (YouTrack REST API entity name\n   * [StateBundleElement](https://www.jetbrains.com/help/youtrack/standalone/api-entity-StateBundleElement.html)) that\n   * should be considered inactive (that is, not being worked on).\n   */\n  inactiveStateIds: string[];\n\n  /**\n   * YouTrack-internal ID of the custom field that contains the remaining effort of an issue.\n   */\n  remainingEffortFieldId?: string;\n\n  /**\n   * YouTrack-internal ID of the custom field that contains the remaining wait time of an issue.\n   */\n  remainingWaitFieldId?: string;\n\n  /**\n   * YouTrack-internal ID of the custom field (YouTrack REST API entity name\n   * [CustomField](https://www.jetbrains.com/help/youtrack/standalone/api-entity-CustomField.html)) that contains the\n   * assignee of an issue.\n   *\n   * The [field type](https://www.jetbrains.com/help/youtrack/standalone/Supported-Custom-Field-Types.html) must be\n   * `user[1]`.\n   */\n  assigneeFieldId?: string;\n\n  /**\n   * Array of IDs of custom fields whose value should be included in the result.\n   *\n   * The values of these custom fields will be reported in {@link YouTrackIssue.customFields}. Currently, only\n   * single-value enum custom fields are supported. If an issue has no value for the custom field type (or a value that\n   * is not a single-value enum), the property will not be set in the result.\n   */\n  otherCustomFieldIds?: string[];\n\n  /**\n   * YouTrack-internal ID of the issue link type (YouTrack REST API entity name\n   * [IssueLinkType](https://www.jetbrains.com/help/youtrack/standalone/api-entity-IssueLinkType.html)) that\n   * establishes a finish-to-start dependency.\n   *\n   * Property {@link doesInwardDependOnOutward} determines the direction of the link type.\n   */\n  dependsLinkTypeId: string;\n\n  /**\n   * Whether the issue on the inward (target) side of the connection identified by {@link dependsLinkTypeId} depends on\n   * the issue on the outward (source) side.\n   *\n   * If this property is false, then it is the other way round.\n   *\n   * By default, this is true (which corresponds to the\n   * [YouTrack default setting](https://www.jetbrains.com/help/youtrack/standalone/Link-Issues.html) for the Depend\n   * issue link type).\n   */\n  doesInwardDependOnOutward?: boolean;\n\n  /**\n   * YouTrack-internal ID of the saved search whose issues will be retrieved.\n   *\n   * The order of the issues in the saved search is significant, as the list scheduling algorithm depends on it. Field\n   * {@link overlaySavedQueryId} can be used to override the order for a subset of the issues.\n   *\n   * Note that {@link ProjectPlan.issues} will follow the order of {@link savedQueryId} (with overlay).\n   */\n  savedQueryId: string;\n\n  /**\n   * YouTrack-internal ID of the saved search that contains an overlay order for a subset of the issues.\n   *\n   * As an example, suppose the issues in {@link savedQueryId} are A, B, C, D (in that order), and the issues in\n   * {@link overlaySavedQueryId} are F, D, E, B. In this case, issues E and F are ignored (because they are not\n   * contained in {@link savedQueryId}). The remaining issues B and D must appear in the overlay order, but any issue\n   * not in {@link overlaySavedQueryId} must be left in place. Consequently, the final order for the algorithm (and\n   * also in the output {@link ProjectPlan.issues}) is A, D, C, B.\n   */\n  overlaySavedQueryId?: string;\n\n  /**\n   * Duration (in milliseconds) below which a state change from active to inactive and back (or vice versa) is removed.\n   *\n   * For example, if `minStateChangeDurationMs` is 301, and the activity logs show that an issue was worked on between\n   * timestamp 100 and 400, and then again between timestamp 700 to 1000, then only one active period from 100 to 1000\n   * will actually be reported. On the other hand, if `minStateChangeDurationMs` is 901, then no active periods would be\n   * reported. If there is ambiguity whether to remove an inactive or active phase (as in the example), the inactive\n   * phase is removed.\n   */\n  minStateChangeDurationMs?: number;\n\n  /**\n   * The remaining effort (in milliseconds) for an unresolved issue where the custom field identified by\n   * {@link YouTrackConfig.remainingEffortFieldId} has no value.\n   *\n   * If the remaining effort for an issue has no value, a warning will be added to {@link ProjectPlan.warnings}.\n   *\n   * By default (if this property is undefined), this is 0.\n   */\n  defaultRemainingEffortMs?: number;\n\n  /**\n   * The remaining wait time (in milliseconds) for an unresolved issue where the custom field identified by\n   * {@link YouTrackConfig.remainingWaitFieldId} has no value.\n   *\n   * If the remaining wait time for an issue has no value, a warning will be added to {@link ProjectPlan.warnings}.\n   *\n   * By default (if this property is undefined), this is 0.\n   */\n  defaultWaitTimeMs?: number;\n\n  /**\n   * User-defined function that determines whether a given YouTrack issue is splittable across multiple persons.\n   *\n   * The function must not modify the issue given as argument.\n   *\n   * By default, no issue is splittable across multiple persons.\n   *\n   * @param issue the YouTrack issue\n   * @return whether the given issue is splittable\n   */\n  isSplittableFn?(issue: YouTrackIssue): boolean;\n}\n\n/**\n * A YouTrack issue and its scheduling.\n *\n * Timestamps are in milliseconds since January 1, 1970 00:00:00 UTC.\n *\n * Note that this interface inherits from Required<{@link SchedulableIssue}> (unfortunately, TypeDoc is unable to\n * interpret the extends clause of this class).\n */\nexport interface YouTrackIssue extends Required<SchedulableIssue> {\n  /**\n   * The issue summary (that is, title).\n   */\n  summary: string;\n\n  /**\n   * Issue activities; that is, periods in which the issue is active/scheduled.\n   *\n   * The activities are sorted by {@link IssueActivity.end}. If there are several issue activities with the same end\n   * timestamp but different assignees, the order among them is undefined (though deterministic). Issue activities with\n   * the same assignee are guaranteed to not overlap (assuming each activity is a half-closed interval that excludes its\n   * end timestamp). Moreover, if `a` and `b` are two activities with `a.assignee === b.assignee` and\n   * `a.end === b.start`, then they differ in {@link IssueActivity.isWaiting}.\n   *\n   * It is guaranteed that activities representing wait time (where {@link IssueActivity.isWaiting} is true) do not\n   * overlap with any other activities.\n   *\n   * Note that {@link groupByIntervalAndWaitStatus}() can be used if activities need to be grouped by interval.\n   */\n  issueActivities: IssueActivity[];\n\n  /**\n   * Timestamp when the issue was resolved, or `Number.MAX_SAFE_INTEGER` if it is unresolved.\n   *\n   * If an issue is resolved, then the inherited properties {@link SchedulableIssue.remainingEffortMs} and\n   * {@link SchedulableIssue.remainingWaitTimeMs} are both 0 (irrespective of their actual values in YouTrack).\n   */\n  resolved: number;\n\n  /**\n   * YouTrack-internal ID of the current state of the issue (YouTrack REST API entity name\n   * [StateBundleElement](https://www.jetbrains.com/help/youtrack/standalone/api-entity-StateBundleElement.html)), or\n   * empty string if the state field is not set.\n   */\n  state: string;\n\n  /**\n   * Dictionary of custom field values.\n   *\n   * The keys in this dictionary are (possibly a subset of) the elements in\n   * {@link YouTrackConfig.otherCustomFieldIds}. Each value is the ID of the enum bundle element (YouTrack REST API\n   * entity name\n   * [EnumBundleElement](https://www.jetbrains.com/help/youtrack/standalone/api-entity-EnumBundleElement.html)).\n   * If an issue has no value for a custom field, the entry is omitted from the dictionary.\n   */\n  customFields: {[id: string]: string};\n}\n","import { IssueNode, SchedulableIssue } from './api-types';\n\n/**\n * Creates an issue tree (or forest) representing the given issues, and returns an iterable over all root nodes.\n *\n * @typeparam T the issue type\n * @param issues Array of issues. The array is expected to be closed in the sense that a parent or dependency\n *     referenced by any of the issues is guaranteed to be contained in `issues`, too.\n * @return An iterable over all root nodes. The iterable will return the root nodes in the order they appeared in the\n *     array. Likewise, the children of each node (at any level) will be stored in input order.\n */\nexport function makeForest<T extends SchedulableIssue>(issues: T[]): Iterable<IssueNode<T>> {\n  const idToNode: Map<string, IssueNode<T>> = issues\n      .reduce((map, issue, index) => map.set(issue.id, {\n        index,\n        issue,\n        children: [],\n        dependencies: [],\n        dependents: [],\n      }), new Map<string, IssueNode<T>>());\n  // Creating array, so we later close over a simple data structure instead of a map.\n  const nodes: IssueNode<T>[] = Array.from(idToNode.values());\n  for (const node of nodes) {\n    const issue: T = node.issue;\n    const parentKey: string | undefined = issue.parent;\n    if (parentKey !== undefined && parentKey.length > 0) {\n      node.parent = idToNode.get(parentKey)!;\n      node.parent.children.push(node);\n    }\n\n    if (issue.dependencies !== undefined) {\n      for (const dependency of issue.dependencies) {\n        const dependencyNode: IssueNode<T> = idToNode.get(dependency)!;\n        dependencyNode.dependents.push(node);\n        node.dependencies.push(dependencyNode);\n      }\n    }\n  }\n  return {\n    * [Symbol.iterator]() {\n      for (const node of nodes[Symbol.iterator]()) {\n        if (node.parent === undefined) {\n          yield node;\n        }\n      }\n    },\n  };\n}\n\n/**\n * Traverses each of the given issue trees and invokes the given visitor functions.\n *\n * @typeparam T the issue type\n * @param rootNodes The root nodes of the trees making up the forest.\n * @param enterNode Visitor function that will be called on entering a node (that is, before any of its children have\n *     been visited).\n * @param enterNode.node The node that is currently being visited.\n * @param leaveNode Visitor function that will be called on leaving a node (that is, after all of its children have been\n *     visited).\n * @param leaveNode.node The node that is currently being visited.\n */\nexport function traverseIssueForest<T extends SchedulableIssue>(\n    rootNodes: Iterable<IssueNode<T>>,\n    enterNode: (node: IssueNode<T>) => void,\n    leaveNode: (node: IssueNode<T>) => void = () => { /* no-op */ }\n): void {\n  let currentIterator: Iterator<IssueNode<T>> = rootNodes[Symbol.iterator]();\n  const stack: [IssueNode<T>, Iterator<IssueNode<T>>][] = [];\n  while (true) {\n    const iteratorResult = currentIterator.next();\n    if (iteratorResult.done) {\n      if (stack.length === 0) {\n        break;\n      }\n      let node: IssueNode<T>;\n      [node, currentIterator] = stack.pop()!;\n      leaveNode(node);\n    } else {\n      const node: IssueNode<T> = iteratorResult.value;\n      enterNode(node);\n      if (node.children.length > 0) {\n        stack.push([node, currentIterator]);\n        currentIterator = node.children[Symbol.iterator]();\n      } else {\n        leaveNode(node);\n      }\n    }\n  }\n}\n","/**\n * Internal message interface between the worker and the master.\n *\n * None of this is public API.\n */\n\n/* API documentation barrier. */\n\nimport { SchedulingFailure } from './api-types';\nimport { computeSchedule } from './scheduling';\n\n// Ambient declarations.\n//\n// We do not rely on the TypeScript webworker library, because the current file is meant to be importable also by code\n// that requires the DOM library. However, Web Worker API and DOM are at present mutually exclusive.\n// https://github.com/Microsoft/TypeScript/issues/20595\n// Since the Web Worker API used in this file is extremely simple, we just make the declarations ourselves here.\n\ndeclare global {\n  /**\n   * A web workers global scope.\n   */\n  interface DedicatedWorkerGlobalScope {\n    /**\n     * EventHandler to be called when a message is sent to the worker using its `postMessage()` method.\n     */\n    onmessage: ((this: DedicatedWorkerGlobalScope, event: MessageEvent) => any) | null;\n\n    /**\n     * Sends a message to the main thread that spawned the worker.\n     *\n     * The web worker API specifies an optional second argument for postMessage(), which we do not use. Unfortunately,\n     * information on the web is not crystal clear on whether it should be possible to transfer (without copying) a\n     * plain JavaScript object from the worker to the thread that spawned it. In C++ terminology, this would be called\n     * move semantics.\n     *\n     * See for instance a discussion on\n     * [StackOverflow](https://stackoverflow.com/questions/33544994/pass-object-by-reference-from-to-webworker) or a\n     * related\n     * [issue of the TypeScript project on GitHub]\n     * (https://github.com/Microsoft/TypeScript/issues/25176#issuecomment-400117198).\n     *\n     * For now the answer is, however, very clear. It is not possible. Chrome 74 reports \"Value at index 0 does not have\n     * a transferable type\" if we were to set the `transfer` argument in the postMessage() invocation to `[plainObject]`\n     * (i.e., an array with a plain JavaScript object as only element).\n     */\n    postMessage(message: any): void;\n\n    /**\n     * Closes the worker from inside the worker itself.\n     */\n    close(): void;\n  }\n\n  /**\n   * The DedicatedWorkerGlobalScope constructor.\n   */\n  // tslint:disable-next-line:variable-name\n  let DedicatedWorkerGlobalScope: new() => DedicatedWorkerGlobalScope;\n}\n\n/**\n * Type guard that returns whether the given value is a {@link DedicatedWorkerGlobalScope}.\n */\nexport function isDedicatedWorkerGlobalScope(value: any): value is DedicatedWorkerGlobalScope {\n  return typeof DedicatedWorkerGlobalScope === 'function' && value instanceof DedicatedWorkerGlobalScope;\n}\n\n\n// Internal interfaces\n\n/**\n * Message from master to worker with all information to start processing.\n */\nexport type ComputeScheduleParameters = Parameters<typeof computeSchedule>;\n\n/**\n * Message from worker to master containing the result.\n */\nexport type ComputeScheduleReturnType = ReturnType<typeof computeSchedule>;\n\n/**\n * Factory for a web worker.\n *\n * The {@link Worker} constructor requires a script URL that is either absolute or relative *to the the domain* of the\n * current script. See: https://html.spec.whatwg.org/multipage/workers.html#dom-worker\n *\n * Unfortunately, the location of the current script is generally unknowable. Additionally, in case of the UMD\n * distribution of this module, the worker script is the simply the current script (for ease of distribution).\n * Otherwise, the worker script is in a separate file, and we expect a bundler to substitute the correct absolute URL at\n * build time.\n */\nexport interface WorkerFactory {\n  /**\n   * Creates and returns a new {@link Worker}, or a failure if an error occurs.\n   */\n  createWorker?: () => Worker | SchedulingFailure;\n}\n\nexport const workerFactory: WorkerFactory = {};\n","// Builders like Parcel substitute the constructor argument if it is a relative path.\nimport { workerFactory } from './worker-interface';\n\nworkerFactory.createWorker = () => new Worker('./worker.ts');\n","/**\n * A classical min-heap.\n */\n\n/** API documentation barrier */\n\n/**\n * Comparator function for the min-heap.\n */\nexport type Comparator<T> = (left: T, right: T) => number;\n\nfunction parentIdx(idx: number): number {\n  return Math.trunc((idx - 1) / 2);\n}\n\nfunction leftChildIdx(idx: number): number {\n  return 2 * idx + 1;\n}\n\nfunction rightChildIdx(idx: number): number {\n  return 2 * idx + 2;\n}\n\nfunction swap<T>(array: T[], leftIdx: number, rightIdx: number): void {\n  const temp = array[leftIdx];\n  array[leftIdx] = array[rightIdx];\n  array[rightIdx] = temp;\n}\n\nfunction heapify<T>(array: T[], comparatorFn: Comparator<T>, rootIdx: number) {\n  // Precondition: indices leftChildIdx(rootIdx) and rightChildIdx(rootIdx) are roots of heaps\n  let currentIdx = rootIdx;\n  do {\n    let minIdx = currentIdx;\n    const l = leftChildIdx(currentIdx);\n    if (l < array.length && comparatorFn(array[l], array[minIdx]) < 0) {\n      minIdx = l;\n    }\n    const r = rightChildIdx(currentIdx);\n    if (r < array.length && comparatorFn(array[r], array[minIdx]) < 0) {\n      minIdx = r;\n    }\n    if (minIdx === currentIdx) {\n      break;\n    }\n    swap(array, currentIdx, minIdx);\n    currentIdx = minIdx;\n  } while (true);\n}\n\n/**\n * A binary min-heap.\n *\n * @typeparam T the type of elements held in this min heap\n */\nexport default class MinHeap<T> {\n  private readonly comparatorFn_: Comparator<T>;\n  private readonly array_: T[];\n\n  constructor(iterable: Iterable<T>, comparatorFn: Comparator<T>) {\n    this.comparatorFn_ = comparatorFn;\n    this.array_ = Array.from(iterable);\n    for (let i = Math.trunc(this.array_.length / 2) - 1; i >= 0; --i) {\n      heapify(this.array_, this.comparatorFn_, i);\n    }\n  }\n\n  /**\n   * Inserts the given element into this min-heap.\n   *\n   * The runtime of this operation is O(log n).\n   *\n   * @param element the element to add\n   */\n  public add(element: T): void {\n    this.array_.push(element);\n    let currentIdx = this.array_.length - 1;\n    do {\n      const p = parentIdx(currentIdx);\n      if (currentIdx <= 0 || this.comparatorFn_(this.array_[p], this.array_[currentIdx]) < 0) {\n        break;\n      }\n      swap(this.array_, p, currentIdx);\n      currentIdx = p;\n    } while (true);\n  }\n\n  /**\n   * Retrieves and removes the minimum element of this min-heap.\n   *\n   * The runtime of this operation is O(log n).\n   *\n   * @return the minimum element or undefined if the min-heap is empty\n   */\n  public extractMin(): T | undefined {\n    if (this.array_.length === 0) {\n      return undefined;\n    } else if (this.array_.length === 1) {\n      return this.array_.pop();\n    }\n\n    const min = this.array_[0];\n    this.array_[0] = this.array_.pop()!;\n    heapify(this.array_, this.comparatorFn_, 0);\n    return min;\n  }\n\n  /**\n   * Returns whether this min-heap is empty.\n   */\n  public isEmpty(): boolean {\n    return this.array_.length === 0;\n  }\n}\n","/**\n * Algorithm for project planning. More precisely, *list scheduling* with support for machines running at different\n * speeds, optional preemption, optional splitting of jobs across machines, release dates, and delivery times.\n *\n * See README file for details.\n */\n\n/** API documentation barrier */\n\nimport { strict as assert } from 'assert';\nimport {\n  Job,\n  JobFragment,\n  JobSplitting,\n  Schedule,\n  ScheduledJob,\n  SchedulingFailure,\n  SchedulingInstance,\n} from './api-types';\nimport MinHeap from './minheap';\n\n/**\n * Type that consists of the union of all properties that are marked as optional through a question mark.\n *\n * Note that properties that have undefined in their domain, but no question mark next to the property name are *not*\n * included. Also note that, in strict compilation mode, TypeScript will add undefined to the domain of the property if\n * there is a question mark next to the property name.\n *\n * @typeparam T generic type parameter\n */\ntype OptionalPropertyNames<T extends {}> = {[K in keyof T]-?: {} extends {[_ in K]: T[K]} ? K : never}[keyof T];\ntype Defined<T> = T extends undefined ? never : T;\ntype OnlyOptionals<T extends {}> = {[K in OptionalPropertyNames<T>]: Defined<T[K]>};\n\nconst JOB_DEFAULTS = Object.freeze<OnlyOptionals<Job>>({\n  deliveryTime: 0,\n  splitting: JobSplitting.PREEMPTION,\n  dependencies: [],\n  releaseTime: 0,\n  preAssignment: -1,\n});\n\n/**\n * Runs the list scheduling algorithm on the given problem instance and returns the result.\n *\n * See [the project page](https://github.com/fschopp/project-planning-js) for more information on the algorithm.\n *\n * @param instance the problem instance\n * @return solution or a human-readable failure description if the problem instance is invalid (for example, has a\n *     cyclic dependency graph)\n */\nexport function computeSchedule(instance: SchedulingInstance): Schedule | SchedulingFailure {\n  const nonNegativeInteger = (number: number) => number >= 0 && Number.isInteger(number);\n  const positiveIntegers = (numbers: number[]) =>\n      numbers.filter((number) => number <= 0 || !Number.isInteger(number)).length === 0;\n  const undefinedOrNonNegativeInteger = (number: number | undefined) =>\n      number === undefined || nonNegativeInteger(number);\n  const undefinedOrNonNegativeIntegers = (...numbers: (number | undefined)[]) =>\n      numbers.filter((number) => !undefinedOrNonNegativeInteger(number)).length === 0;\n  const undefinedOrIntegerWithinZeroTo = (upperBoundExcl: number, number: number | undefined) =>\n      number === undefined || nonNegativeInteger(number) && number < upperBoundExcl;\n  const integersWithinZeroTo = (upperBoundExcl: number, numbers: number[]) =>\n      numbers.filter((number) => !(number >= 0 && nonNegativeInteger(number) && number < upperBoundExcl)).length === 0;\n\n  const numMachines: number = instance.machineSpeeds.length;\n  const numJobs: number = instance.jobs.length;\n\n  if (numMachines === 0) {\n    return 'At least one machine is required to compute a schedule.';\n  } else if (\n      !positiveIntegers(instance.machineSpeeds) ||\n      instance.jobs.filter((job) =>\n          !nonNegativeInteger(job.size) ||\n          !undefinedOrNonNegativeIntegers(job.deliveryTime, job.releaseTime) ||\n          !undefinedOrIntegerWithinZeroTo(numMachines, job.preAssignment) ||\n          (job.dependencies !== undefined && !integersWithinZeroTo(numJobs, job.dependencies))\n      ).length > 0 ||\n      !undefinedOrNonNegativeInteger(instance.minFragmentSize)\n  ) {\n    return 'All job processing times and machine speeds need to be non-negative integers. ' +\n        'All job dependency and pre-assignment indices need to be within bounds.';\n  }\n\n  const jobs: Required<Job>[] = instance.jobs.map((job) => Object.assign({}, JOB_DEFAULTS, job));\n  const minFragmentSize: number = instance.minFragmentSize === undefined ? 0 : instance.minFragmentSize;\n  return new ListScheduling(numMachines, instance.machineSpeeds, jobs, minFragmentSize).schedule;\n}\n\n/**\n * A gap in the schedule for a particular machine. A gap can be filled when scheduling subsequent jobs.\n */\ninterface Gap {\n  startTime: number;\n  endTime: number;\n}\n\n/**\n * Linked list of gaps.\n */\ninterface GapsList {\n  head: Gap;\n  tail: GapsList | null;\n}\n\n/**\n * A machine and associated data required by {@link ListScheduling.scheduleJob}().\n */\ninterface Machine {\n  /**\n   * Index in array of all machines.\n   *\n   * This is a value between 0 (inclusive) and the length of {@link SchedulingInstance.machineSpeeds} (exclusive).\n   */\n  readonly index: number;\n\n  /**\n   * Index in array of available machines for the current job.\n   */\n  readonly availableIdx: number;\n\n  /**\n   * Speed of the machine.\n   */\n  readonly speed: number;\n\n  /**\n   * Time when the current job fragment started on the machine, or null if the current job is not currently running on\n   * the machine.\n   */\n  currentFragmentStart: number | null;\n\n  /**\n   * Linked list of gaps.\n   *\n   * Whenever starting to schedule a job, this is initialized with a tail list of {@link ListScheduling.gapsLists_}.\n   */\n  gapsList: GapsList;\n\n  /**\n   * Node of the linked list of gaps before the current node (which is {@link gapsList}).\n   *\n   * This field is only needed to commit the insertion of job fragments by making changes to the gap list shared\n   * between scheduling of individual jobs.\n   */\n  previousGapsList: GapsList;\n}\n\n/**\n * Node in the job graph induced by the dependencies.\n */\ninterface JobGraphNode {\n  idx: number;\n  numDependencies: number;\n  dependents: JobGraphNode[];\n}\n\n/**\n * Abstraction for a collection of machines available for a job.\n */\ninterface AvailableMachineIndices {\n  readonly length: number;\n  forEach(callbackfn: (index: number, availableIdx: number) => void): void;\n  map<T>(callbackfn: (index: number, availableIdx: number) => T): T[];\n}\n\n/**\n * Internal class whose sole purpose is to store algorithm state, so it does not have to be inconveniently passed around\n * between functions.\n */\nclass ListScheduling {\n  public readonly schedule: Schedule | SchedulingFailure;\n\n  private readonly numMachines_: number;\n  private readonly machineSpeeds_: number[];\n  private readonly jobs_: Required<Job>[];\n  private readonly minFragmentSize_: number;\n\n  private readonly gapsLists_: GapsList[];\n\n  constructor(numMachines: number, machineSpeeds: number[], jobs: Required<Job>[], minFragmentSize: number) {\n    this.numMachines_ = numMachines;\n    this.machineSpeeds_ = machineSpeeds;\n    this.jobs_ = jobs;\n    this.minFragmentSize_ = minFragmentSize;\n\n    this.gapsLists_ = this.machineSpeeds_.map((ignoredMachineSpeed) => ({\n      head: {\n        startTime: Number.MIN_SAFE_INTEGER,\n        endTime: 0,\n      },\n      tail: {\n        head: {\n          startTime: 0,\n          endTime: Number.MAX_SAFE_INTEGER,\n        },\n        tail: null,\n      },\n    }));\n    this.schedule = this.computeSchedule();\n  }\n\n  /**\n   * Returns the next event for the given machine.\n   *\n   * This method has side-effects. It updates field {@link Machine.previousGapsList} and {@link Machine.gapsList} of the\n   * given machine.\n   */\n  private static nextTimeStamp(minWallClockTime: number, earliestStart: number, machine: Machine): number {\n    let currentGap: Gap = machine.gapsList.head;\n\n    assert(Number.isInteger(minWallClockTime) && Number.isInteger(earliestStart) &&\n        Number.isInteger(currentGap.startTime) && Number.isInteger(currentGap.endTime), 'Invalid arguments');\n\n    if (machine.currentFragmentStart === null) {\n      while (true) {\n        const timeStamp = Math.max(earliestStart, currentGap.startTime) + minWallClockTime;\n        if (timeStamp <= currentGap.endTime) {\n          return timeStamp;\n        }\n        assert(machine.gapsList.tail !== null, 'Invariant: last gap has endTime === Number.MAX_SAFE_INTEGER');\n        machine.previousGapsList = machine.gapsList;\n        machine.gapsList = machine.gapsList.tail!;\n        currentGap = machine.gapsList.head;\n      }\n    } else {\n      return currentGap.endTime;\n    }\n  }\n\n  /**\n   * Adjust the linked list of gaps to account for the newly scheduled job fragment.\n   *\n   * There are 4 cases to consider. The new job fragment either:\n   * 1. Fills out the current gap completely. In this case, the current gap needs to be removed\n   *    entirely.\n   * 2. Aligns with the start of the current gap, but ends before it. In this case, the start of the current gap is\n   *    changed to when the new job fragment ends.\n   * 3. Does not start with the current gap, but aligns with the end of it. In this case, the end of the current gap is\n   *    changed to when the job fragment starts.\n   * 4. If the current gap aligns with neither start nor end of the current gap, a new gap is inserted before the\n   *    current gap. It starts with the current gap and ends with the start of the job fragment. The start of the\n   *    current gap is then changed to the end of the job fragment.\n   *\n   * @param machineState State of the machine that the job fragment has been scheduled on.\n   * @param end end time of the job fragment\n   * @param commitGaps if true, then commit the updated gaps to the state that is shared across scheduling of individual\n   *     jobs\n   */\n  private adjustGaps(machineState: Machine, end: number, commitGaps: boolean): void {\n    assert(machineState.index >= 0 && machineState.index < this.numMachines_ &&\n        machineState.currentFragmentStart !== null && Number.isInteger(machineState.currentFragmentStart) &&\n        Number.isInteger(end) && machineState.currentFragmentStart <= end, 'Invalid arguments');\n\n    // machineState also points to state that is shared across scheduling of individual jobs. This shared state we must\n    // not modify if dryRun is true. We therefore cannot make modifications to the properties of\n    // machineState.previousGapsList or machineState.gap.\n\n    const start: number = machineState.currentFragmentStart!;\n    const currentGap = machineState.gapsList.head;\n\n    if (commitGaps) {\n      if (start === currentGap.startTime && end === currentGap.endTime) {\n        machineState.previousGapsList.tail = machineState.gapsList.tail;\n      } else if (start === currentGap.startTime) {\n        currentGap.startTime = end;\n      } else if (end === currentGap.endTime) {\n        currentGap.endTime = start;\n        machineState.previousGapsList = machineState.gapsList;\n        // Note that machineState.gapsList will be updated below.\n      } else {\n        machineState.previousGapsList.tail = {\n          head: {\n            startTime: currentGap.startTime,\n            endTime: start,\n          },\n          tail: machineState.gapsList,\n        };\n        currentGap.startTime = end;\n      }\n    }\n\n    if (end === currentGap.endTime) {\n      // Note that machineState.gapsList.tail === null would imply that the current gap is the last gap; that is,\n      // currentGap.endTime === Number.MAX_SAFE_INTEGER. But we are also in the case where (end === currentGap.endTime).\n      // Since we don't support schedules that long, it is safe to assert:\n      assert(machineState.gapsList.tail !== null, 'Expected currentGap.endTime < Number.MAX_SAFE_INTEGER');\n      machineState.gapsList = machineState.gapsList.tail!;\n    } else if (!commitGaps) {\n      machineState.gapsList = {\n        head: {\n          startTime: end,\n          endTime: currentGap.endTime,\n        },\n        tail: machineState.gapsList.tail,\n      };\n    }\n\n    // Upon return, we will be \"before\" the gap represented by machineState.gapsList.head.\n    machineState.currentFragmentStart = null;\n  }\n\n  private createJobFragment(machineState: Machine, end: number, scheduledJob?: ScheduledJob): void {\n    if (scheduledJob) {\n      const start: number = machineState.currentFragmentStart!;\n      if (end - start > 0) {\n        const jobFragment: JobFragment = {\n          machine: machineState.index,\n          start,\n          end,\n          isWaiting: false,\n        };\n        scheduledJob.push(jobFragment);\n      }\n    }\n    this.adjustGaps(machineState, end, scheduledJob !== undefined);\n  }\n\n  /**\n   * Schedules processing of a job and returns its completion time (excluding delivery time).\n   */\n  private scheduleJob(availableMachineIndices: AvailableMachineIndices, size: number, isPreemptible: boolean,\n      earliestStart: number, scheduledJob?: ScheduledJob): number {\n    assert(availableMachineIndices.length > 0 && Number.isInteger(size) && size >= 0 &&\n        Number.isInteger(earliestStart), 'Invalid arguments');\n\n    const minFragmentSize = isPreemptible ? Math.min(size, this.minFragmentSize_) : size;\n    let currentSpeed = 0;\n    let lastTimestamp = earliestStart;\n    let remainingSize = size;\n    const machines: Machine[] = availableMachineIndices.map((index, availableIdx): Machine => {\n      const gapsList = this.gapsLists_[index];\n      assert(gapsList.tail !== null, 'Invariant: at least 2 elements in linked list gapsList');\n      return {\n        index,\n        availableIdx,\n        speed: this.machineSpeeds_[index],\n        currentFragmentStart: null,\n        previousGapsList: gapsList,\n        gapsList: gapsList.tail!,\n      };\n    });\n\n    while (remainingSize > 0) {\n      let eventTime: number = Number.MAX_SAFE_INTEGER;\n      let machine: Machine = machines[0];\n      availableMachineIndices.forEach((index, availableIdx) => {\n        const minWallClockTime = Math.ceil(minFragmentSize / machines[availableIdx].speed);\n        const machineEventTime = ListScheduling.nextTimeStamp(minWallClockTime, earliestStart, machines[availableIdx]);\n        if (machineEventTime < eventTime) {\n          eventTime = machineEventTime;\n          machine = machines[availableIdx];\n        }\n      });\n      let isProjectedEndTime: boolean = false;\n      const currentProjectedEndTime: number = Math.ceil(lastTimestamp + remainingSize / currentSpeed);\n      if (currentProjectedEndTime < eventTime) {\n        eventTime = currentProjectedEndTime;\n        isProjectedEndTime = true;\n      }\n      assert(Number.isInteger(eventTime) && Number.isInteger(lastTimestamp) && Number.isInteger(currentSpeed),\n          'Invariant: timestamps and speeds are integers');\n      remainingSize -= (eventTime - lastTimestamp) * currentSpeed;\n      assert(!isProjectedEndTime || remainingSize <= 0,\n          'Invariant: isProjectedEndTime implies remainingSize <= 0');\n\n      if (!isProjectedEndTime) {\n        if (machine.currentFragmentStart === null) {\n          const nextGap: Gap = machine.gapsList.head;\n          machine.currentFragmentStart = Math.max(earliestStart, nextGap.startTime);\n          remainingSize -= (eventTime - machine.currentFragmentStart) * machine.speed;\n          currentSpeed += machine.speed;\n        } else {\n          this.createJobFragment(machine, eventTime, scheduledJob);\n          currentSpeed -= machine.speed;\n          assert(machine.currentFragmentStart === null && currentSpeed >= 0);\n        }\n      }\n\n      lastTimestamp = eventTime;\n      assert(Number.isInteger(lastTimestamp) && Number.isInteger(remainingSize),\n          'Invariant: timestamps and durations are integers');\n    }\n\n    availableMachineIndices.forEach((ignoredIndex, availableIdx) => {\n      if (machines[availableIdx].currentFragmentStart !== null) {\n        this.createJobFragment(machines[availableIdx], lastTimestamp, scheduledJob);\n      }\n    });\n\n    return lastTimestamp;\n  }\n\n  /**\n   * Adds the given delivery time on the given machine to the given job schedule, and returns the overall completion\n   * time of the job.\n   */\n  private static scheduleDeliveryTime(machineIdx: number, processingCompletionTime: number, deliveryTime: number,\n      scheduledJob: ScheduledJob): number {\n    assert(Number.isInteger(deliveryTime), 'Invalid arguments');\n    assert(scheduledJob.length > 0 ? processingCompletionTime === scheduledJob[scheduledJob.length - 1].end : true,\n        'Processing completion time is end timestamp of last job fragment');\n    let completionTime: number = processingCompletionTime;\n    if (deliveryTime > 0) {\n      completionTime += deliveryTime;\n      const deliveryJobFragment: JobFragment = {\n        machine: machineIdx,\n        start: processingCompletionTime,\n        end: completionTime,\n        isWaiting: true,\n      };\n      scheduledJob.push(deliveryJobFragment);\n    }\n    return completionTime;\n  }\n\n  private allMachines(): AvailableMachineIndices {\n    return {\n      length: this.machineSpeeds_.length,\n      forEach(callbackfn: (index: number, availableIdx: number) => void): void {\n        for (let i = 0; i < this.length; ++i) {\n          callbackfn(i, i);\n        }\n      },\n      map<T>(callbackfn: (index: number, availableIdx: number) => T): T[] {\n        const array: T[] = [];\n        array.length = this.length;\n        for (let i = 0; i < this.length; ++i) {\n          array[i] = callbackfn(i, i);\n        }\n        return array;\n      },\n    };\n  }\n\n  private static singleMachine(singleMachineIdx: number): AvailableMachineIndices {\n    return {\n      length: 1,\n      forEach(callbackfn: (index: number, availableIdx: number) => void): void {\n        callbackfn(singleMachineIdx, 0);\n      },\n      map<T>(callbackfn: (index: number, availableIdx: number) => T): T[] {\n        return [callbackfn(singleMachineIdx, 0)];\n      },\n    };\n  }\n\n  private computeSchedule(): Schedule | SchedulingFailure {\n    const noDependencyNodes: JobGraphNode[] = [];\n    const jobGraphNodes: JobGraphNode[] = this.jobs_.map((job, index): JobGraphNode => ({\n      idx: index,\n      numDependencies: job.dependencies.length,\n      dependents: [],\n    }));\n    for (let i = 0; i < this.jobs_.length; ++i) {\n      const job = this.jobs_[i];\n      const jobGraphNode = jobGraphNodes[i];\n      for (const dependencyIdx of job.dependencies) {\n        jobGraphNodes[dependencyIdx].dependents.push(jobGraphNode);\n      }\n      if (job.dependencies.length === 0) {\n        noDependencyNodes.push(jobGraphNode);\n      }\n    }\n\n    const allMachines: AvailableMachineIndices = this.allMachines();\n    const newSchedule: Schedule = this.jobs_.map((ignoredJob) => []);\n    const finishTimes: number[] = this.jobs_.map((ignoredJob) => -1);\n    let numScheduledJobs = 0;\n    const noDependencyNodesHeap = new MinHeap<JobGraphNode>(noDependencyNodes, (left, right) => left.idx - right.idx);\n    while (!noDependencyNodesHeap.isEmpty()) {\n      const jobGraphNode: JobGraphNode = noDependencyNodesHeap.extractMin()!;\n      const job = this.jobs_[jobGraphNode.idx];\n      const isPreemptible: boolean = job.splitting !== JobSplitting.NONE;\n      const earliestStartTime = job.dependencies.reduce((previousEarliestStartTime, dependencyIdx) => {\n        const dependencyFinishTime: number = finishTimes[dependencyIdx];\n        assert(dependencyFinishTime >= 0, 'Dependencies are scheduled before their dependents');\n        return Math.max(previousEarliestStartTime, dependencyFinishTime);\n      }, job.releaseTime);\n      let availableMachines: AvailableMachineIndices = allMachines;\n      let deliveryMachineIdx: number | undefined;\n      if (job.splitting === JobSplitting.MULTIPLE_MACHINES) {\n        deliveryMachineIdx = job.preAssignment >= 0\n            ? job.preAssignment\n            : 0;\n      } else if (job.preAssignment >= 0) {\n        availableMachines = ListScheduling.singleMachine(job.preAssignment);\n        deliveryMachineIdx = job.preAssignment;\n      } else {\n        let maxCompletionTime: number = Number.MAX_SAFE_INTEGER;\n        for (let i = 0; i < this.numMachines_; ++i) {\n          const currentAvailableMachines = ListScheduling.singleMachine(i);\n          const currentCompletionTime =\n              this.scheduleJob(currentAvailableMachines, job.size, isPreemptible, earliestStartTime);\n          if (currentCompletionTime < maxCompletionTime) {\n            availableMachines = currentAvailableMachines;\n            deliveryMachineIdx = i;\n            maxCompletionTime = currentCompletionTime;\n          }\n        }\n      }\n      assert(deliveryMachineIdx !== undefined);\n      const completionTime: number = this.scheduleJob(\n          availableMachines, job.size, isPreemptible, earliestStartTime, newSchedule[jobGraphNode.idx]);\n      finishTimes[jobGraphNode.idx] = ListScheduling.scheduleDeliveryTime(\n          deliveryMachineIdx!, completionTime, job.deliveryTime, newSchedule[jobGraphNode.idx]);\n      ++numScheduledJobs;\n      for (const dependent of jobGraphNode.dependents) {\n        --dependent.numDependencies;\n        if (dependent.numDependencies === 0) {\n          noDependencyNodesHeap.add(dependent);\n        }\n      }\n    }\n\n    return numScheduledJobs !== this.jobs_.length\n        ? 'Detected a cycle in the dependency graph.'\n        : newSchedule;\n  }\n}\n","import { strict as assert } from 'assert';\nimport { isSchedulingFailure, Schedule, SchedulingFailure } from './api-types';\nimport { ComputeScheduleParameters, ComputeScheduleReturnType, workerFactory } from './worker-interface';\n\n/**\n * Runs (in a separate thread) the list scheduling algorithm on the given problem instance and returns the result\n * asynchronously.\n *\n * See [the project page](https://github.com/fschopp/project-planning-js) for more information on the algorithm.\n *\n * @param args argument list that will be passed on to {@link computeSchedule}() unaltered\n * @return promise that will be resolved with the solution or rejected with a {@link SchedulingFailure} containing a\n *     human-readable failure description if the problem instance is invalid (for example, has a cyclic dependency\n *     graph)\n */\nexport function computeScheduleAsync(...args: ComputeScheduleParameters): Promise<Schedule> {\n  assert(workerFactory.createWorker !== undefined, 'workerFactory.createWorker cannot be undefined');\n  const worker: Worker | SchedulingFailure = workerFactory.createWorker!();\n  if (isSchedulingFailure(worker)) {\n    const failure: SchedulingFailure = worker;\n    return Promise.reject(failure);\n  }\n\n  let isSettled: boolean = false;\n  // From MDN: \"the executor is called before the Promise constructor even returns the created object\"\n  // Hence all worker callbacks are in place before we send it the \"go\" message below.\n  const promise = new Promise<Schedule>((resolve, reject) => {\n    worker.onmessage = (event: MessageEvent) => {\n      const result: ComputeScheduleReturnType = event.data;\n      if (isSchedulingFailure(result)) {\n        assert(!isSettled, 'Attempted to settle promise more than once.');\n        reject(result);\n        isSettled = true;\n      } else {\n        assert(!isSettled, 'Attempted to settle promise more than once.');\n        resolve(result);\n        isSettled = true;\n      }\n    };\n    worker.onerror = (event: ErrorEvent) => {\n      worker.terminate();\n      const failure: SchedulingFailure = 'A runtime error occurred in source file ' +\n          `${event.filename} (line ${event.lineno}:${event.colno}):\\n${event.message}`;\n      // In theory, the worker could still cause an error after it has sent its last message. However, the ES6\n      // specification says:\n      // \"Attempting to resolve or reject a resolved promise has no effect.\"\n      // https://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects\n      // Hence, there is no race condition. On the other hand, we don't want to swallow the problem. Therefore, we\n      // add an assertion:\n      assert(!isSettled, 'Attempted to settle promise more than once.');\n      reject(failure);\n      isSettled = true;\n    };\n  });\n  worker.postMessage(args);\n  return promise;\n}\n","/**\n * This module is not part of the public API!\n */\n\n/* API Barrier */\n\nimport { strict as assert } from 'assert';\n\n/**\n * Type that consists of the union of all properties that are marked as optional through a question mark.\n *\n * Note that properties that have undefined in their domain, but no question mark next to the property name are *not*\n * included. Also note that, in strict compilation mode, TypeScript will add undefined to the domain of the property if\n * there is a question mark next to the property name.\n *\n * @typeparam T generic type parameter\n */\nexport type OptionalPropertyNames<T extends {}> = {[K in keyof T]-?: {} extends {[_ in K]: T[K]} ? K : never}[keyof T];\nexport type Defined<T> = T extends undefined ? never : T;\nexport type OnlyOptionals<T extends {}> = {[K in OptionalPropertyNames<T>]: Defined<T[K]>};\n\n/**\n * Copy the values of all string-keyed enumerable own properties from the source object to the target object.\n *\n * Note the differences to\n * [`Object.assign()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign):\n * - Only properties with `string` keys are copied.\n * - A property of the source value that has the value `undefined` is copied only if the property key is not yet in the\n *   target. (The check is performed using the `in` operator.)\n *\n * @param target the target object\n * @param source the source object\n * @return the target object\n */\nexport function assignDefined<T extends {[key: string]: any}, U extends {[key: string]: any}>(\n    target: T, source: U | undefined): T & U {\n  const typedTarget: T & U = target as T & U;\n  if (source !== undefined) {\n    // Object.entries() returns a given object's own enumerable string-keyed property [key, value] pairs,\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries\n    for (const [key, value] of Object.entries(source)) {\n      if (!(key in target) || value !== undefined) {\n        // Casting of key necessary for type soundness:\n        // https://github.com/microsoft/TypeScript/issues/31661#issuecomment-497474815\n        typedTarget[key as keyof U] = source[key];\n      }\n    }\n  }\n  return typedTarget;\n}\n\n/**\n * Returns a deep clone of the given object.\n *\n * This function covers only what is needed in this project! It is not an equivalent to a library function.\n */\nexport function deepClone<T>(original: T): T {\n  assert(['undefined', 'object', 'boolean', 'number', 'string'].includes(typeof original),\n      'Value with unsupported type in deepClone()');\n  if (Array.isArray(original)) {\n    return original.map(deepClone) as T & any[];\n  } else if (typeof original === 'object' && original !== null) {\n    return Object.entries(original).reduce((obj, [key, value]) => {\n      // Casting of key necessary for type soundness:\n      // https://github.com/microsoft/TypeScript/issues/31661#issuecomment-497474815\n      obj[key as keyof T] = deepClone(value);\n      return obj;\n    }, {} as T & {[key: string]: any});\n  } else {\n    return original;\n  }\n}\n\n/**\n * Returns the first argument that is defined, or undefined if none of the arguments is defined.\n */\nexport function coalesce<T>(left: T | undefined, right: T): T {\n  return left === undefined ? right : left;\n}\n\n/**\n * Function that always throws an error.\n *\n * The purpose of this function is to be used as a compile-time type completeness check; for instance, in a `switch`\n * statement. Calling this function will cause no error *only if* control-flow-based type analysis infers the argument\n * type as `never`  in other words, if the function call cannot be reached.\n */\nexport function unreachableCase(x: never): never {\n  throw new Error(`Unexpected case that should be unreachable: ${x}`);\n}\n","/**\n * Types defined by the [YouTrack REST API](https://www.jetbrains.com/help/youtrack/standalone/api-entities.html).\n *\n * Not part of the public API of this project.\n */\n\n/**\n * YouTrack REST API paths.\n */\nexport const youTrackPath = Object.freeze({\n  ACTIVITIES_PAGE: 'api/activitiesPage',\n  CUSTOM_FIELD: (customFieldId: string) => `api/admin/customFieldSettings/customFields/${customFieldId}`,\n  ISSUES: (queryId: string) => `api/savedQueries/${queryId}/issues`,\n  SAVED_QUERY: (queryId: string) => `api/savedQueries/${queryId}`,\n  SORTED_ISSUES: 'api/sortedIssues',\n  STATE_BUNDLES: 'api/admin/customFieldSettings/bundles/state',\n  WORK_TIME_SETTINGS: 'api/admin/timeTrackingSettings/workTimeSettings',\n});\n\n/**\n * Hub REST API paths.\n */\nexport const hubPath = Object.freeze({\n  OAUTH: 'api/rest/oauth2/auth',\n});\n\nexport interface ActivityCursorPage {\n  afterCursor?: string;\n  hasAfter: boolean;\n  activities: ActivityItem[];\n}\n\nexport interface ActivityItem {\n  $type: string;\n  timestamp: number;\n  added: any[];\n  removed: any[];\n  field: FilterField;\n}\n\nexport interface BaseBundle extends Bundle {\n  values: BundleElement[];\n}\n\nexport interface Bundle {\n  id: string;\n}\n\nexport interface BundleCustomFieldDefaults extends CustomFieldDefaults {\n  $type: string;\n}\n\nexport interface BundleElement {\n  id: string;\n  name: string;\n  ordinal: number;\n  color: FieldStyle;\n}\n\nexport interface CustomField {\n  id: string;\n  fieldDefaults: CustomFieldDefaults;\n  fieldType: FieldType;\n  name: string;\n}\n\nexport interface CustomFieldActivityItem extends ActivityItem {\n  $type: 'CustomFieldActivityItem';\n  target: Issue;\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface CustomFieldDefaults {}\n\nexport interface EnumBundleCustomFieldDefaults extends BundleCustomFieldDefaults {\n  bundle: EnumBundle;\n}\n\nexport interface EnumBundle extends BaseBundle {\n  values: EnumBundleElement[];\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface EnumBundleElement extends LocalizableBundleElement {}\n\nexport interface FieldStyle {\n  background: string;\n  foreground: string;\n}\n\nexport interface FieldType {\n  id: string;\n}\n\nexport interface FilterField {\n  id: string;\n  name: string;\n}\n\nexport interface Issue {\n  $type: 'Issue';\n  created: number;\n  customFields: IssueCustomField[];\n  id: string;\n  idReadable: string;\n  links: IssueLink[];\n  parent: IssueLink;\n  subtasks: IssueLink;\n  resolved: number | null;\n  summary: string;\n  updated: number;\n}\n\nexport interface IssueCustomField {\n  $type: string;\n  projectCustomField: ProjectCustomField;\n}\n\nexport interface IssueFolder {\n  id: string;\n  name: string;\n}\n\nexport interface IssueLink {\n  direction: 'INWARD' | 'OUTWARD' | 'BOTH';\n  linkType: IssueLinkType;\n  issues: Issue[];\n}\n\nexport interface IssueLinkType {\n  directed: boolean;\n  id: string;\n  name: string;\n  sourceToTarget: string;\n  targetToSource: string;\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface LocalizableBundleElement extends BundleElement {}\n\nexport interface PeriodIssueCustomField extends IssueCustomField {\n  $type: 'PeriodIssueCustomField';\n  value: PeriodValue | null;\n}\n\nexport function isPeriodIssueCustomField(field: any): field is PeriodIssueCustomField {\n  return field.$type === 'PeriodIssueCustomField';\n}\n\nexport interface PeriodValue {\n  minutes: number;\n}\n\nexport interface ProjectCustomField {\n  field: CustomField;\n}\n\nexport interface SavedQuery extends WatchFolder {\n  issues: Issue[];\n}\n\nexport interface SortedIssuesResponse {\n  count: number;\n}\n\nexport interface SingleUserIssueCustomField extends IssueCustomField {\n  $type: 'SingleUserIssueCustomField';\n  value: User | null;\n}\n\nexport function isSingleUserIssueCustomField(field: any): field is SingleUserIssueCustomField {\n  return field.$type === 'SingleUserIssueCustomField';\n}\n\nexport interface SingleEnumIssueCustomField extends IssueCustomField {\n  $type: 'SingleEnumIssueCustomField';\n  value: EnumBundleElement | null;\n}\n\nexport function isSingleEnumIssueCustomField(field: any): field is SingleEnumIssueCustomField {\n  return field.$type === 'SingleEnumIssueCustomField';\n}\n\nexport interface StateBundle extends BaseBundle {\n  $type: 'StateBundle';\n  values: StateBundleElement[];\n}\n\nexport interface StateBundleElement extends LocalizableBundleElement {\n  isResolved: boolean;\n}\n\nexport interface StateBundleCustomFieldDefaults extends BundleCustomFieldDefaults {\n  bundle: StateBundle;\n}\n\nexport interface StateIssueCustomField extends IssueCustomField {\n  $type: 'StateIssueCustomField';\n  value: StateBundleElement;\n}\n\nexport function isStateIssueCustomField(field: any): field is StateIssueCustomField {\n  return field.$type === 'StateIssueCustomField';\n}\n\nexport interface User {\n  id: string;\n  avatarUrl: string;\n  fullName: string;\n}\n\nexport interface WatchFolder extends IssueFolder {\n  owner: User;\n}\n\nexport interface WorkTimeSettings {\n  minutesADay: number;\n  daysAWeek: number;\n}\n\n/**\n * Error returned by the YouTrack REST API, typically in case of an invalid request.\n */\nexport interface YouTrackError {\n  error: string;\n  error_description: string;\n}\n","import * as RestApi from './you-track-rest';\n\nconst STORAGE_PREFIX = '@fschopp/you-track-planning-js';\n\nconst baseUrlToAccessTokenMap: {[baseUrl: string]: AccessToken} = {};\n\n/**\n * A YouTrack base URL and application state for temporary storage in the session storage during an OAuth2 request.\n */\ninterface BaseUrlAndAppState<T> {\n  baseUrl: string;\n  appState: T;\n}\n\n/**\n * An access token, together with its type and validity period.\n */\ninterface AccessToken {\n  type: string;\n  secret: string;\n\n  /**\n   * Timestamp in milliseconds since the epoch.\n   */\n  validUntil: number;\n}\n\n/**\n * Returns the key in the session storage where the app state is stored temporarily (while the user is on the YouTrack\n * login page).\n */\nfunction storageKeyForOauthId(oAuthId: string): string {\n  return `${STORAGE_PREFIX}/oauth${oAuthId}`;\n}\n\nfunction normalizeUrl(baseUrl: string): string {\n  return new URL(baseUrl).toString();\n}\n\n/**\n * Navigates the current window to the Jetbrains Hub OAuth2 page.\n *\n * Once successfully logged in, the OAuth2 page will redirect the browser to the given `redirectUrl`. To be able to\n * seamlessly proceed where the user left off, the current application state needs to be preserved. This method stores\n * the given application state `appState` in the\n * [session storage](https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage). The rationale is:\n * 1. The application state could be larger than what one would reasonably encode in the redirect URL (which is another\n *    possibility of preserving the state).\n * 2. The application state does not leak to a third party.\n *\n * Nonetheless, users of this method should be aware of the limitations of using the session storage as well. MDN has\n * some [additional information](https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API) on this topic.\n *\n * @typeparam T type of the application state\n * @param youTrackBaseUrl The YouTrack base URL to which relative paths of form `api/...` will be appended. The base URL\n *     is expected to end in a slash (/). See {@link httpGet}().\n * @param hubUrl Hub URL to which a relative path like `api/rest/oauth2/auth` will be appended. The hub URL is expected\n *     to end in a slash (/). Note that the Hub URL is distinct from the YouTrack base URL.\n * @param serviceId Identification of the particular YouTrack installation. See the\n *     [YouTrack manual](https://www.jetbrains.com/help/youtrack/standalone/OAuth-Authorization.html).\n * @param appState State that will be stored in session storage and later returned by\n *     {@link handlePotentialOauthRedirect}(). The value passed as argument needs to be serializable with\n *     {@link JSON.stringify}().\n * @param redirectUrl The URL that YouTrack will redirect back to after authorization. In order to not expose more data\n *     than necessary to the YouTrack server, the url will be stripped from its hash, username/password, and search\n *     query (if any). If state needs to be preserved, the `appState` argument should be used.\n */\nexport function goToOauthPage<T>(youTrackBaseUrl: string, hubUrl: string, serviceId: string, appState: T,\n    redirectUrl: string = window.location.href): void {\n  const normalizedBaseUrl = normalizeUrl(youTrackBaseUrl);\n  const normalizedHubUrl = normalizeUrl(hubUrl);\n  const strippedRedirectUrl = new URL(redirectUrl);\n  // Create a bare redirect URL, so to not expose more data than necessary\n  strippedRedirectUrl.hash = '';\n  strippedRedirectUrl.username = '';\n  strippedRedirectUrl.password = '';\n  strippedRedirectUrl.search = '';\n\n  const oAuthId = `${Date.now().toString()}_${Math.floor(Math.random() * 10000)}`;\n  const youTrackOauthUrl = new URL(RestApi.hubPath.OAUTH, normalizedHubUrl);\n  Object.entries({\n    response_type: 'token',\n    state: oAuthId,\n    redirect_uri: strippedRedirectUrl.toString(),\n    request_credentials: 'default',\n    client_id: serviceId,\n    scope: 'YouTrack',\n  }).forEach(([key, value]) => youTrackOauthUrl.searchParams.append(key, value));\n\n  const baseUrlAndAppState: BaseUrlAndAppState<T> = {\n    baseUrl: normalizedBaseUrl,\n    appState,\n  };\n  sessionStorage.setItem(storageKeyForOauthId(oAuthId), JSON.stringify(baseUrlAndAppState));\n  window.location.href = youTrackOauthUrl.toString();\n}\n\n/**\n * Parses `window.location.href` to determine whether the URL stems from a YouTrack OAuth2 redirect, and returns the\n * restored application state if so.\n *\n * This method is meant to be called when the page is loaded. If the current URL contains a hash that is the result of\n * an OAuth2 redirect, any URL component except domain and path (such as search query or hash) will be removed. Note\n * that `window.location` will be updated with `window.history.replaceState()`.\n *\n * The application state will be restored from session storage. Unfortunately, some browsers are known to have bugs that\n * cause unexpected results if `sessionStorage` is accessed too early, relative to the page load in the browser. This\n * applies at least to [Safari 12.1.1](https://github.com/fschopp/project-planning-for-you-track/issues/1) and older\n * versions of [Firefox](https://stackoverflow.com/questions/13852209/localstorage-unreliable-in-firefox). (Recent\n * versions of Chrome and Firefox appear to work just fine.) It is advisable to delay calling this method (for instance,\n * with `setTimeout()`) when targeting browsers that are known to be problematic.\n *\n * Finally, this function keeps a record of the YouTrack authorization, making it available via\n * {@link authorizationFor}().\n *\n * @typeparam T type of the application state\n * @return object containing the application state or undefined if the current location is not the result of a YouTrack\n *     OAuth2 redirect\n */\nexport function handlePotentialOauthRedirect<T>(): T | undefined {\n  const url = new URL(window.location.href);\n  const fragmentParams = new URLSearchParams(url.hash.slice(1));\n  const oAuthId: string | null = fragmentParams.get('state');\n  if (oAuthId !== null) {\n    const key = storageKeyForOauthId(oAuthId);\n    const storedValue: string | null = sessionStorage.getItem(key);\n    if (storedValue !== null) {\n      const baseUrlAndAppState: BaseUrlAndAppState<T> = JSON.parse(storedValue);\n      sessionStorage.removeItem(key);\n\n      const secret: string | null = fragmentParams.get('access_token');\n      const expiresIn: string | null = fragmentParams.get('expires_in');\n      const type: string | null = fragmentParams.get('token_type');\n      if (secret !== null && expiresIn !== null && type !== null) {\n        const validUntil: number = Date.now() + parseInt(expiresIn, 10) * 1000;\n        baseUrlToAccessTokenMap[baseUrlAndAppState.baseUrl] = {\n          type,\n          secret,\n          validUntil,\n        };\n        url.hash = '';\n        // Not using window.location.replace(), because that triggers page reloads when passing more than just a\n        // (relative URL with a) hash.\n        window.history.replaceState(undefined, '', url.toString());\n        return baseUrlAndAppState.appState;\n      }\n    }\n  }\n  return undefined;\n}\n\n/**\n * Returns the access token for the given base URL, or undefined if there is no (unexpired) one.\n *\n * This method returns the HTTP Authorization header known due to a previous call to\n * {@link handlePotentialOauthRedirect}(), or undefined if not known for the given URL.\n *\n * @param baseUrl The YouTrack base URL to which relative paths of form `api/...` will be appended. The base URL is\n *     expected to end in a slash (/). See {@link httpGet}().\n * @return value for HTTP authorization header\n */\nexport function authorizationFor(baseUrl: string): string | undefined {\n  const normalizedBaseUrl = normalizeUrl(baseUrl);\n  if (!(normalizedBaseUrl in baseUrlToAccessTokenMap)) {\n    return undefined;\n  }\n\n  const accessToken: AccessToken = baseUrlToAccessTokenMap[normalizedBaseUrl];\n  if (Date.now() >= accessToken.validUntil) {\n    delete baseUrlToAccessTokenMap[normalizedBaseUrl];\n    return undefined;\n  }\n\n  return `${accessToken.type} ${accessToken.secret}`;\n}\n","import { Failure } from './api-types';\nimport { authorizationFor } from './you-track-oauth';\nimport { YouTrackError } from './you-track-rest';\n\nfunction isYouTrackError<T>(value: any): value is YouTrackError {\n  // noinspection SuspiciousTypeOfGuard\n  return value && typeof value.error === 'string' && typeof value.error_description === 'string';\n}\n\n/**\n * Returns a promise that will be fulfilled with the result of an HTTP GET request to a YouTrack REST resource.\n *\n * This method sets the HTTP Authorization header if it is known due to a previous call to\n * {@link handlePotentialOauthRedirect}(). If no authorization is available, this method rejects the promise\n * immediately.\n *\n * @typeparam T the type of the response by YouTrack (after parsing the JSON)\n * @param baseUrl The YouTrack base URL to which relative paths of form `api/...` will be appended. The base URL is\n *     expected to end in a slash (/). For an InCloud instance without a custom domain, this is of form\n *     `https://<name>.myjetbrains.com/youtrack/`.\n * @param resourcePath relative path to the REST API resource requested\n * @param queryParams parameters that will be added to the query string\n * @return A promise that in case of success will be fulfilled with the retrieved object. In case of any failure, it\n *     will be rejected with a {@link Failure}.\n */\nexport function httpGet<T>(baseUrl: string, resourcePath: string, queryParams: {[param: string]: string} = {}):\n    Promise<T> {\n  const authorization: string | undefined = authorizationFor(baseUrl);\n  if (authorization === undefined) {\n    const failure: Failure = `No valid unexpired OAuth token available for ${baseUrl}.`;\n    return Promise.reject(failure);\n  }\n\n  const url = new URL(resourcePath, baseUrl);\n  const urlSearchParams = url.searchParams;\n  Object.entries(queryParams).forEach(([key, value]) => urlSearchParams.append(key, value));\n  const xhr = new XMLHttpRequest();\n  xhr.open('GET', url.toString());\n  xhr.setRequestHeader('Authorization', authorization);\n  xhr.setRequestHeader('Accept', 'application/json');\n  xhr.responseType = 'json';\n  const promise = new Promise<T>((resolve, reject) => {\n    xhr.onloadend = () => onRequestFinished<T>(url, xhr, resolve, reject);\n  });\n  xhr.send();\n  return promise;\n}\n\n/**\n * Returns a promise that will be fulfilled with the result of an HTTP GET request to a YouTrack REST array resource.\n *\n * This method sets the HTTP Authorization header if it is known due to a previous call to\n * {@link handlePotentialOauthRedirect}(). If no authorization is available, this method rejects the promise\n * immediately.\n *\n * @typeparam T the element type of the array response by YouTrack (after parsing the JSON)\n * @param baseUrl The YouTrack base URL. See also {@link httpGet}().\n * @param resourcePath relative path to the REST API resource requested\n * @param queryParams parameters that will be added to the query string\n * @param restBatchSize Number of elements per HTTP request. Larger values are faster, but increase the risk of\n *     transmission problems (or outright rejection by future YouTrack versions that may have rate limitations).\n * @return A promise that in case of success will be fulfilled with the retrieved array. In case of any failure, it\n *     will be rejected with a {@link Failure}.\n */\nexport async function httpGetAll<T>(baseUrl: string, resourcePath: string,\n    queryParams: {[param: string]: string}, restBatchSize: number): Promise<T[]> {\n  return httpGetAllWithOptions<T, T[]>(baseUrl, resourcePath, queryParams, restBatchSize, (batch, array) => {\n    array.push(...batch);\n    return array;\n  }, []);\n}\n\n/**\n * Returns a promise that will be fulfilled with a transformation of the result of an HTTP GET request to a YouTrack\n * REST array resource.\n *\n * This method sets the HTTP Authorization header if it is known due to a previous call to\n * {@link handlePotentialOauthRedirect}(). If no authorization is available, this method rejects the promise\n * immediately.\n *\n * @typeparam T the element type of the array response by YouTrack (after parsing the JSON)\n * @typeparam U the return type of `processBatch()` and therefore also this function\n * @param baseUrl The YouTrack base URL. See also {@link httpGet}().\n * @param resourcePath relative path to the REST API resource requested\n * @param queryParams parameters that will be added to the query string\n * @param restBatchSize Number of elements per HTTP request. See also {@link httpGetAll}().\n * @param processBatch callback called for the result of each individual HTTP request\n * @param processBatch.batch the retrieved array\n * @param processBatch.previous the state returned by the previous invocation of `processBatch()`, or the value of\n *     `initial` if this is the first invocation\n * @param initial the value passed to the first invocation of `processBatch()` as argument `initial`\n * @return A promise that in case of success will be fulfilled with the last result of `processBatch()`. In case of any\n *     failure, it will be rejected with a {@link Failure}.\n */\nexport async function httpGetAllWithOptions<T, U>(baseUrl: string, resourcePath: string,\n    queryParams: {[param: string]: string}, restBatchSize: number,\n    processBatch: (batch: T[], previous: U) => U, initial: U): Promise<U> {\n  let numElementsRetrieved: number = 0;\n  let busy = true;\n  queryParams.$top = restBatchSize.toString();\n  let batchPromise: Promise<T[]> = httpGet<T[]>(baseUrl, resourcePath, queryParams);\n  let state: U = initial;\n  do {\n    const batch: T[] = await batchPromise;\n    numElementsRetrieved += batch.length;\n    if (batch.length >= restBatchSize) {\n      queryParams.$skip = numElementsRetrieved.toString();\n      batchPromise = httpGet<T[]>(baseUrl, resourcePath, queryParams);\n    } else {\n      busy = false;\n    }\n    state = processBatch(batch, state);\n  } while (busy);\n  return state;\n}\n\n/**\n * Handles completion of an {@link XMLHttpRequest}, whether successful or not.\n */\nfunction onRequestFinished<T>(url: URL, xhr: XMLHttpRequest, resolve: (result: T) => void,\n    reject: (failure: Failure) => void): void {\n  // From https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/response:\n  // \"The value is null if the request is not yet complete or was unsuccessful\"\n  const response: T | YouTrackError | null = xhr.response;\n  let failure: Failure;\n  if (response === null) {\n    failure =\n        `The YouTrack server could not be reached (URL: ${url}). Please check your network connection.`;\n  } else if (isYouTrackError(response)) {\n    failure =\n        `The YouTrack server returned the following error (URL: ${url}): ${response.error_description}`;\n  } else if (xhr.status === 200) {\n    resolve(response);\n    return;\n  } else {\n    failure = `The YouTrack server returned an unexpected error (URL: ${url}, HTTP status: ${xhr.status}).`;\n  }\n  reject(failure);\n}\n","import { strict as assert } from 'assert';\nimport { ProjectPlan, RetrieveProjectPlanOptions, YouTrackConfig, YouTrackIssue, } from './api-types';\nimport { assignDefined, OnlyOptionals } from './util';\nimport { httpGet, httpGetAll, httpGetAllWithOptions } from './you-track-http';\nimport * as RestApi from './you-track-rest';\nimport { CustomFieldActivityItem } from './you-track-rest';\n\n/**\n * Retrieves, reconstructs, and returns a project plan consisting of the issues and their activities in a\n * [YouTrack saved search](https://www.jetbrains.com/help/youtrack/standalone/Saved-Search.html).\n *\n * This method requires that {@link handlePotentialOauthRedirect}() was called previously and obtained an OAuth token.\n * The authorization should be valid for the expected duration of the data retrieval. YouTrack\n * [does not](https://www.jetbrains.com/help/youtrack/standalone/OAuth-Authorization.html#AuthServerResponse) issue\n * refresh tokens, so communication with YouTrack will fail otherwise.\n *\n * @param baseUrl The YouTrack base URL. See also {@link httpGet}().\n * @param youTrackConfig Configuration of YouTrack.\n * @param options Options for retrieving YouTrack issue data and building a project plan.\n * @return A promise that in case of success will be fulfilled with a project plan. In case of any failure, it will be\n *     rejected with a {@link Failure}.\n */\nexport function retrieveProjectPlan(\n    baseUrl: string, youTrackConfig: YouTrackConfig, options?: RetrieveProjectPlanOptions): Promise<ProjectPlan> {\n  const actualYouTrackConfig: Required<YouTrackConfig> = assignDefined(newDefaultYouTrackConfig(), youTrackConfig);\n  const actualOptions: Required<RetrieveProjectPlanOptions> =\n      assignDefined(newDefaultRequestProjectPlanOptions(), options);\n  return new YouTrackIssueActivities(baseUrl, actualYouTrackConfig, actualOptions).promise;\n}\n\n/**\n * Retrieves and returns the number of minutes in a work week, as configured in YouTrack.\n *\n * @param baseUrl The YouTrack base URL. See also {@link httpGet}().\n * @return A promise that in case of success will be fulfilled with a the number of minutes. In case of any failure, it\n *     will be rejected with a {@link Failure}.\n */\nexport async function getMinutesPerWorkWeek(baseUrl: string): Promise<number> {\n  const queryParams = {\n    fields: YouTrackFields.WORK_TIME_SETTINGS,\n  };\n  const response: RestApi.WorkTimeSettings =\n      await httpGet<RestApi.WorkTimeSettings>(baseUrl, RestApi.youTrackPath.WORK_TIME_SETTINGS, queryParams);\n  return response.daysAWeek * response.minutesADay;\n}\n\n/**\n * Returns a new object with values for the optional properties of {@link YouTrackConfig}.\n */\nfunction newDefaultYouTrackConfig(): OnlyOptionals<YouTrackConfig> {\n  return {\n    remainingEffortFieldId: '',\n    remainingWaitFieldId: '',\n    assigneeFieldId: '',\n    otherCustomFieldIds: [],\n    doesInwardDependOnOutward: true,\n    overlaySavedQueryId: '',\n    minStateChangeDurationMs: 0,\n    defaultRemainingEffortMs: 0,\n    defaultWaitTimeMs: 0,\n    isSplittableFn: () => false,\n  };\n}\n\n/**\n * Returns a new object with values for the optional properties of {@link RetrieveProjectPlanOptions}.\n */\nfunction newDefaultRequestProjectPlanOptions(): OnlyOptionals<RetrieveProjectPlanOptions> {\n  return {\n    progressCallback: () => { /* no-op */ },\n    omitIssueActivities: false,\n    progressUpdateIntervalMs: 200,\n    restBatchSize: 100,\n  };\n}\n\nconst YOUTRACK_CUSTOM_FIELDS_CATEGORY = 'CustomFieldCategory';\n\n/**\n * YouTrack REST API fields.\n */\nconst enum YouTrackFields {\n  SORTED_ISSUES = 'count',\n  CUSTOM_FIELD = 'fieldDefaults(bundle(id))',\n  STATE_BUNDLES = 'id,values(id,name,isResolved)',\n  SAVED_QUERY_NAME = 'name',\n  ISSUES = 'created,customFields(projectCustomField(field(id)),value(id,minutes,name)),id,idReadable,' +\n      'links(direction,issues(id,idReadable),linkType(id)),parent(issues(id,idReadable)),resolved,' +\n      'subtasks(issues(id,idReadable)),summary,updated',\n  OVERLAY_ORDER = 'id',\n  ACTIVITIES_PAGE = 'afterCursor,hasAfter,activities(added(id,name,isResolved),field(id),' +\n      'removed(id,name,isResolved),target(id),timestamp)',\n  WORK_TIME_SETTINGS = 'minutesADay,daysAWeek',\n}\n\nconst enum ActiveState {\n  UNKNOWN,\n  ACTIVE,\n  INACTIVE,\n}\n\ninterface StateTransition {\n  timestamp: number;\n  activeState: ActiveState;\n}\n\ninterface IssueId {\n  /**\n   * The human readable ID, consisting of project abbreviation and number.\n   */\n  id: string;\n\n  /**\n   * The YouTrack-internal ID.\n   */\n  internalId: string;\n}\n\ninterface InternalYouTrackIssue extends YouTrackIssue {\n  internalId: string;\n  parentIssueId: IssueId | null;\n  subtaskIssueIds: IssueId[];\n  dependencyIssueIds: IssueId[];\n  activeState: ActiveState;\n  stateTransitions: StateTransition[];\n  lastUpdate?: number;\n}\n\n/**\n * Class that retrieves issues, their state changes, and issue links.\n */\nclass YouTrackIssueActivities {\n  public readonly promise: Promise<ProjectPlan>;\n\n  private readonly baseUrl_: string;\n  private readonly config_: Required<YouTrackConfig>;\n  private readonly options_: Required<RetrieveProjectPlanOptions>;\n  private readonly dependsOnDirection_: 'INWARD' | 'OUTWARD';\n  private readonly issues_: InternalYouTrackIssue[] = [];\n  private readonly idToIssueMap_ = new Map<string, InternalYouTrackIssue>();\n  /**\n   * Map from id of the issue state (that is, the ID of the {@link StateBundleElement}) to whether that state is active.\n   *\n   * This property is only filled in {@link buildIdToActiveStateMap}() if\n   * {@link RetrieveProjectPlanOptions.omitIssueActivities} is false.\n   */\n  private readonly idToActiveState_: Map<string, ActiveState>;\n  private readonly lowerCaseNameToActiveState_: {[lowerCaseName: string]: ActiveState} = {};\n  private readonly projectPlan_: ProjectPlan;\n\n  private numIssues_: number = 0;\n  private savedQueryName_: string = '';\n  private numTasksWithDetails_: number = 0;\n  /**\n   * Timestamp of the first activity in the activity log.\n   *\n   * This property is only filled in {@link parseActivityItems}() if\n   * {@link RetrieveProjectPlanOptions.omitIssueActivities} is false.\n   */\n  private minTimeStamp_: number = 0;\n  private maxUpdateTimeStamp_: number = 0;\n  private maxActivityTimeStamp_: number = 0;\n  private lastProgressUpdate_: number = 0;\n\n  /**\n   * Constructor that will already start the communication with the YouTrack server.\n   */\n  constructor(\n      baseUrl: string, youTrackConfig: Required<YouTrackConfig>, options: Required<RetrieveProjectPlanOptions>) {\n    this.baseUrl_ = baseUrl;\n    this.config_ = youTrackConfig;\n    this.options_ = options;\n    this.dependsOnDirection_ = this.config_.doesInwardDependOnOutward ? 'INWARD' : 'OUTWARD';\n    this.idToActiveState_ = youTrackConfig.inactiveStateIds\n        .reduce((map, inactiveState) => map.set(inactiveState, ActiveState.INACTIVE), new Map<string, ActiveState>());\n    this.projectPlan_ = {\n      issues: [],\n      warnings: [],\n    };\n    this.promise = this.run();\n  }\n\n  private async run(): Promise<ProjectPlan> {\n    await this.retrieveNumIssues();\n    await this.retrieveSavedQueryName();\n    if (!this.options_.omitIssueActivities) {\n      const stateBundleId: string = await this.getStateBundleId();\n      await this.buildIdToActiveStateMap(stateBundleId);\n    }\n    this.progressUpdate();\n    await this.retrieveIssues();\n    await this.retrieveOverlayOrder();\n    if (!this.options_.omitIssueActivities) {\n      await this.retrieveActivities();\n    }\n    this.finalizeSchedule();\n    return this.projectPlan_;\n  }\n\n  /**\n   * If sufficient time has elapsed since the last progress update, send a new message to the thread that spawned this\n   * worker.\n   */\n  private progressUpdate(): void {\n    if (Date.now() - this.lastProgressUpdate_ < this.options_.progressUpdateIntervalMs) {\n      return;\n    }\n\n    let percentageDone = 0;\n    if (this.numIssues_ > 0) {\n      percentageDone =\n        1 +\n        9 * Math.min(1, this.numTasksWithDetails_ / this.numIssues_);\n      if (this.minTimeStamp_ > 0) {\n        percentageDone += 90 * Math.min(1,\n          (this.maxActivityTimeStamp_ - this.minTimeStamp_) / (this.maxUpdateTimeStamp_ - this.minTimeStamp_)\n        );\n      } else if (this.options_.omitIssueActivities) {\n        percentageDone *= 10;\n      }\n    }\n\n    this.lastProgressUpdate_ = Date.now();\n    this.options_.progressCallback(percentageDone);\n  }\n\n  private newHttpRequest<T>(resourcePath: string, queryParams: {[param: string]: string}): Promise<T> {\n    return httpGet(this.baseUrl_, resourcePath, queryParams);\n  }\n\n  private getAll<T>(resourcePath: string, queryParams: {[param: string]: string},\n        processBatch: (batch: T[]) => void): Promise<void> {\n    return httpGetAllWithOptions(this.baseUrl_, resourcePath, queryParams, this.options_.restBatchSize,\n        processBatch, undefined);\n  }\n\n  private async retrieveNumIssues(): Promise<void> {\n    const queryParams = {\n      folderId: this.config_.savedQueryId,\n      fields: YouTrackFields.SORTED_ISSUES,\n    };\n    const response: RestApi.SortedIssuesResponse =\n        await this.newHttpRequest(RestApi.youTrackPath.SORTED_ISSUES, queryParams);\n    this.numIssues_ = response.count;\n  }\n\n  private async getStateBundleId(): Promise<string> {\n    const queryParams = {fields: YouTrackFields.CUSTOM_FIELD};\n    const customField: RestApi.CustomField =\n        await this.newHttpRequest(RestApi.youTrackPath.CUSTOM_FIELD(this.config_.stateFieldId), queryParams);\n    return (customField.fieldDefaults as RestApi.StateBundleCustomFieldDefaults).bundle.id;\n  }\n\n  private async retrieveSavedQueryName(): Promise<void> {\n    const queryParams = {fields: YouTrackFields.SAVED_QUERY_NAME};\n    const savedQuery: RestApi.SavedQuery =\n        await this.newHttpRequest(RestApi.youTrackPath.SAVED_QUERY(this.config_.savedQueryId), queryParams);\n    this.savedQueryName_ = savedQuery.name;\n  }\n\n  private async buildIdToActiveStateMap(stateBundleId: string): Promise<void> {\n    const queryParams: {fields: string} = {\n      fields: YouTrackFields.STATE_BUNDLES,\n    };\n    await this.getAll<RestApi.StateBundle>(RestApi.youTrackPath.STATE_BUNDLES, queryParams, (restStateBundles) => {\n      for (const restStateBundle of restStateBundles) {\n        const isRelevantStateBundle = restStateBundle.id === stateBundleId;\n        for (const restElement of restStateBundle.values) {\n          if (restElement.isResolved) {\n            this.idToActiveState_.set(restElement.id, ActiveState.INACTIVE);\n          } else if (isRelevantStateBundle && !this.config_.inactiveStateIds.includes(restElement.id)) {\n            this.idToActiveState_.set(restElement.id, ActiveState.ACTIVE);\n          }\n\n          if (isRelevantStateBundle) {\n            // In this case, restElement.id was added to this.idToActiveState_: Either (a) in the constructor (if\n            // this.config_.inactiveStateIds.includes(restElement.id)) or (b) in one of the two if-branches above.\n            assert(this.idToActiveState_.has(restElement.id));\n            this.lowerCaseNameToActiveState_[restElement.name.toLowerCase()] =\n                this.idToActiveState_.get(restElement.id)!;\n          }\n        }\n      }\n    });\n  }\n\n  private parseIssueCustomFields(issue: InternalYouTrackIssue, restIssue: RestApi.Issue): void {\n    for (const customField of restIssue.customFields) {\n      const fieldId = customField.projectCustomField.field.id;\n      switch (fieldId) {\n        case this.config_.remainingEffortFieldId:\n          if (RestApi.isPeriodIssueCustomField(customField) && customField.value !== null) {\n            issue.remainingEffortMs = customField.value.minutes * 60 * 1000;\n          }\n          break;\n        case this.config_.remainingWaitFieldId:\n          if (RestApi.isPeriodIssueCustomField(customField) && customField.value !== null) {\n            issue.remainingWaitTimeMs = customField.value.minutes * 60 * 1000;\n          }\n          break;\n        case this.config_.assigneeFieldId:\n          if (RestApi.isSingleUserIssueCustomField(customField) && customField.value !== null) {\n            issue.assignee = customField.value.id;\n          }\n          break;\n        case this.config_.stateFieldId:\n          if (RestApi.isStateIssueCustomField(customField) && customField.value !== null) {\n            issue.state = customField.value.id;\n            issue.activeState = this.stateBundleElementIdToActiveState(customField.value);\n          }\n          break;\n        default:\n          if (RestApi.isSingleEnumIssueCustomField(customField) &&\n              customField.value !== null &&\n              this.config_.otherCustomFieldIds.find((id) => id === fieldId)) {\n            issue.customFields[fieldId] = customField.value.id;\n          }\n      }\n    }\n  }\n\n  private async retrieveIssues(): Promise<void> {\n    const queryParams = {fields: YouTrackFields.ISSUES};\n    await this.getAll<RestApi.Issue>(\n        RestApi.youTrackPath.ISSUES(this.config_.savedQueryId), queryParams, (restIssues) => {\n          for (const restIssue of restIssues) {\n            const issue: InternalYouTrackIssue = {\n              id: restIssue.idReadable,\n              remainingEffortMs: this.config_.defaultRemainingEffortMs,\n              remainingWaitTimeMs: this.config_.defaultWaitTimeMs,\n              splittable: false,\n              dependencies: [],\n              assignee: '',\n\n              summary: restIssue.summary,\n              issueActivities: [],\n              resolved: restIssue.resolved !== null\n                  ? restIssue.resolved\n                  : Number.MAX_SAFE_INTEGER,\n              state: '',\n              parent: '',\n              customFields: {},\n\n              internalId: restIssue.id,\n              parentIssueId: restIssue.parent.issues.length > 0\n                  ? {\n                      id: restIssue.parent.issues[0].idReadable,\n                      internalId: restIssue.parent.issues[0].id,\n                    }\n                  : null,\n              subtaskIssueIds: restIssue.subtasks.issues.map((subissue) => ({\n                id: subissue.idReadable,\n                internalId: subissue.id,\n              })),\n              dependencyIssueIds: [],\n              activeState: ActiveState.UNKNOWN,\n              stateTransitions: [{timestamp: restIssue.created, activeState: ActiveState.UNKNOWN}],\n              lastUpdate: restIssue.updated,\n            };\n            this.issues_.push(issue);\n            this.idToIssueMap_.set(restIssue.id, issue);\n\n            this.parseIssueCustomFields(issue, restIssue);\n\n            for (const restLink of restIssue.links) {\n              if (restLink.direction === this.dependsOnDirection_ &&\n                  restLink.linkType.id === this.config_.dependsLinkTypeId) {\n                issue.dependencyIssueIds.push(...restLink.issues.map((linkedIssue) => ({\n                  id: linkedIssue.idReadable,\n                  internalId: linkedIssue.id,\n                })));\n              }\n            }\n\n            ++this.numTasksWithDetails_;\n            this.maxUpdateTimeStamp_ = Math.max(this.maxUpdateTimeStamp_, restIssue.updated);\n          }\n          this.progressUpdate();\n        }\n    );\n  }\n\n  private async retrieveOverlayOrder(): Promise<void> {\n    if (this.config_.overlaySavedQueryId.length === 0) {\n      return;\n    }\n\n    const queryParams = {fields: YouTrackFields.OVERLAY_ORDER};\n    type IdIssue = Pick<RestApi.Issue, 'id'>;\n    const issues = await httpGetAll<IdIssue>(this.baseUrl_,\n        RestApi.youTrackPath.ISSUES(this.config_.overlaySavedQueryId), queryParams, this.options_.restBatchSize);\n    const overlayIds = issues.map((issue) => issue.id).filter((id) => this.idToIssueMap_.has(id));\n    const idToOverlayIdx = overlayIds.reduce((map, id, idx) => map.set(id, idx), new Map<string, number>());\n\n    let issueIdx = 0;\n    let overlayIdx = 0;\n    while (issueIdx < this.issues_.length && overlayIdx < overlayIds.length) {\n      const issue: InternalYouTrackIssue = this.issues_[issueIdx];\n      if (idToOverlayIdx.has(issue.internalId)) {\n        this.issues_[issueIdx] = this.idToIssueMap_.get(overlayIds[overlayIdx])!;\n        ++overlayIdx;\n      }\n      ++issueIdx;\n    }\n  }\n\n  private async retrieveActivities(): Promise<void> {\n    const queryParams: {[param: string]: string} = {\n      fields: YouTrackFields.ACTIVITIES_PAGE,\n      categories: YOUTRACK_CUSTOM_FIELDS_CATEGORY,\n      issueQuery: `saved search: {${this.savedQueryName_}}`,\n      $top: this.options_.restBatchSize.toString(),\n    };\n    let busy = true;\n    let promise = this.newHttpRequest<RestApi.ActivityCursorPage>(RestApi.youTrackPath.ACTIVITIES_PAGE, queryParams);\n    do {\n      const activitiesPage = await promise;\n      if (activitiesPage.hasAfter) {\n        queryParams.cursor = activitiesPage.afterCursor!;\n        promise = this.newHttpRequest<RestApi.ActivityCursorPage>(RestApi.youTrackPath.ACTIVITIES_PAGE, queryParams);\n      } else {\n        busy = false;\n      }\n      // The type-cast is fine because we set queryParams.categories accordingly.\n      this.parseActivityItems(activitiesPage.activities as CustomFieldActivityItem[]);\n      this.progressUpdate();\n    } while (busy);\n  }\n\n  private stateBundleElementIdToActiveState(\n      arrayOrObject?: RestApi.StateBundleElement | RestApi.StateBundleElement[]): ActiveState {\n    let object: RestApi.StateBundleElement | undefined;\n    if (arrayOrObject instanceof Array) {\n      object = arrayOrObject.length > 0 ? arrayOrObject[0] : undefined;\n    } else {\n      object = arrayOrObject;\n    }\n\n    if (object === undefined) {\n      return ActiveState.UNKNOWN;\n    }\n\n    if (object.isResolved) {\n      return ActiveState.INACTIVE;\n    } else if (this.idToActiveState_.has(object.id)) {\n      return this.idToActiveState_.get(object.id)!;\n    }\n\n    const lowerCaseName = object.name.toLowerCase();\n    if (lowerCaseName in this.lowerCaseNameToActiveState_) {\n      return this.lowerCaseNameToActiveState_[lowerCaseName];\n    }\n    return ActiveState.UNKNOWN;\n  }\n\n  private addStateTransition(stateTransitions: StateTransition[], newStateTransition: StateTransition,\n      replacementForPreviousUnknown: ActiveState): void {\n    const a = stateTransitions;\n    let n = a.length;\n    const c = this.config_.minStateChangeDurationMs;\n    // By definition, a is the array [a[0], ..., a[n - 1]]. With the abbreviating notation a[i].s  {A,I,U} and\n    // a[i].t (instead of a[i].activeState and a[i].timestamp, respectively), if the following invariants hold here\n    // then they also hold when the function returns.\n    // (And the fact that the invariant holds the first time this method is called follows from method retrieveIssues().\n    // There, the array a was initialized with exactly one element such that a[0].s = U.)\n    // Throughout the explanatory comments, let n denote the length of a (even at the end of the function where the\n    // source code does not reassign n).\n    //\n    // 1. a[0].s, ..., a[n - 2].s  {A,I}.\n    // 2. a[i - 1].s != a[i].s for all i = 1, ..., n - 1\n    // 3. n = 1 => (a[0].s  {A,U} and n > 1 => a[0].s = A)\n    // 4. a[i - 1].t < a[i].t for all i = 1, ..., n - 1\n    // 5. a[i].t - a[i - 1].t >= c for all i = 1, ..., n - 3\n    // 6. a[n - 2].t - a[n - 3].t < c => (a[n - 1].t - a[n - 2].t < c and a[n - 2].s = I and a[n - 1].s = U)\n    // 7. a[n - 1].t - a[n - 2].t < c => a[n - 1].s  {I,U}\n\n    // In the following, we first prepare a so that newStateTransition could be added without violating the\n    // invariants. Let s  {A,I,U} denote the new state and t the new timestamp. That is,\n    // s = newStateTransition.activeState and t = newStateTransition.timestamp.\n\n    // The behavior of this function satisfies (with a and n denoting the respective values upon return, and a' and n'\n    // their current values, respectively):\n    // I. a[i].t - a[i-1].t < c => t - a[i].t < c\n    // II. (a'[n - 1].s  {A,I} and s != a'[n - 1].s and t >= a'[n - 1].t + c)\n    //     => (a' = a[0 .. n - 2] and a[n - 1] = (t, s))\n\n    // Goal: Preserve invariant 4.\n    while (n > 0 && a[n - 1].timestamp >= newStateTransition.timestamp) {\n      a.pop();\n      --n;\n    }\n    // (Condition POST-WHILE:) We now have a[n - 1].t <= t. Also, all invariants hold.\n\n    // Goal: Preserve invariant 1.\n    if (n > 0 && a[n - 1].activeState === ActiveState.UNKNOWN) {\n      a[n - 1].activeState = replacementForPreviousUnknown !== ActiveState.UNKNOWN\n          ? replacementForPreviousUnknown\n          : ActiveState.ACTIVE;\n      // We now have (stronger than invariant 1!): a[0].s, ..., a[n - 1].s  {A,I}.\n      //\n      // Goals:\n      // - Restore invariant 3 (if-condition before '||')\n      // - Restore invariant 2 (if-condition after '||')\n      // - Preserve invariant 5,6,7 (else-if-condition)\n      if ((n === 1 && a[0].activeState === ActiveState.INACTIVE) ||\n          (n > 1 && a[n - 1].activeState === a[n - 2].activeState)) {\n        a.pop();\n        --n;\n      } else if (n > 2 && a[n - 2].activeState === ActiveState.INACTIVE &&\n          a[n - 2].timestamp - a[n - 3].timestamp < c) {\n        // Note we have here: a[n - 1].s = A.\n        a.length -= 2;\n        n -= 2;\n        // We now have a[i].t - a[i - 1].t >= c for all i. Also, a[n - 1].s = A.\n      }\n    }\n    // (Condition NOUNKNOWN:) All invariants hold, and additionally a[n - 1].s  {A,I} and a[i].t - a[i - 1].t >= c\n    // for i = 1, ..., n - 2.\n\n    // Goal: Preserve invariants 5,6,7.\n    if (n > 1 && a[n - 1].activeState === ActiveState.INACTIVE &&\n        a[n - 1].timestamp - a[n - 2].timestamp < c &&\n        newStateTransition.timestamp - a[n - 1].timestamp >= c) {\n      a.length -= 2;\n      n -= 2;\n    }\n    // (Condition GAPS1:) All invariants hold. It also holds now that (a[n - 1].t - a[n - 2].t < c) implies that the\n    // previous if-block was not entered (because 2 elements were removed from the list and therefore\n    // condition NOUNKNOWN would imply a[n - 1].t - a[n - 2].c >= c). Therefore one of the following holds:\n    // (1.) a[n - 1].s  {A,U}, which together with condition NOUNKNOWN implies a[n - 1].s = A, or\n    // (2.) t - a[n - 1].t < c.\n\n    // Goal: Preserve invariant 2.\n    if (n > 0 && newStateTransition.activeState === a[n - 1].activeState) {\n      // All invariants still hold (due to condition GAPS1).\n      return;\n    }\n    // (Condition ALT:) All invariants hold. We also have now s != a[n - 1].s.\n\n    // Goal: Preserve invariants 5,6,7.\n    if (n > 1 && newStateTransition.activeState === ActiveState.ACTIVE &&\n        newStateTransition.timestamp - a[n - 1].timestamp < c) {\n      a.pop();\n      // Since n > 1, we have (due to invariant 3) that a[0].s = A. Therefore, invariant 3 remains\n      // valid. Other invariants trivially hold, because the last line cannot have invalidated them.\n      return;\n    }\n    // (Condition GAPS2:) All invariants hold. We also have now that n > 1 implies that (1.) s  {I,U} or\n    // (2.) t - a[n - 1] >= c.\n\n    // Goal: Preserve invariant 3.\n    if (n > 0 || newStateTransition.activeState !== ActiveState.INACTIVE) {\n      a.push(newStateTransition);\n      // Let n = a.length (which changed in the last line).\n      // - Invariant 1 continues to hold because of condition NOUNKNOWN.\n      // - Invariant 2 continues to hold because of condition ALT.\n      // - Regarding invariant 3, if n = 1, then a[0] = s  {A,U} because of the if-condition. If n = 2, then\n      //   a[0].s  {A,U} due to invariant 3 holding before, and therefore a[0].s = A due to condition NOUNKNOWN.\n      //   If n > 2, then a[0].s = A because invariant 3 held before the last line.\n      // - Invariant 4 holds because a[n - 1].t <= t (due to condition POST-WHILE).\n      // - Invariant 5 holds because of condition NOUNKNOWN.\n      // - Regarding invariant 6, only the case n > 3 is meaningful (i.e., not a vacuous truth). Suppose that\n      //   a[n - 2].t - a[n - 3].t < c. Since invariant 7 held before, we know a[n - 2].s  {I,U}. Together with\n      //   condition NOUNKNOWN, this implies a[n - 2].s = I. Condition GAPS2 implies a[n - 1].s = s  {I,U}, and\n      //   condition ALT strengthens this to a[n - 1].s = U. Finally, due to condition GAPS1 (note that\n      //   a[n - 2].s  {A,U}), we have a[n - 1].t - a[n - 2].t < c.\n      // - Regarding invariant 7, suppose a[n - 1].t - a[n - 2].t < c. Then s  {I,U} due to condition GAPS2.\n    }\n  }\n\n  private parseActivityItems(activityItems: RestApi.CustomFieldActivityItem[]): void {\n    if (activityItems.length > 0) {\n      if (this.minTimeStamp_ === 0) {\n        this.minTimeStamp_ = activityItems[0].timestamp;\n      }\n      this.maxActivityTimeStamp_ =\n          Math.max(this.maxActivityTimeStamp_, activityItems[activityItems.length - 1].timestamp);\n    }\n    for (const activityItem of activityItems) {\n      if (activityItem.field.id === this.config_.stateFieldId) {\n        // In theory, multiple users can own saved queries with the same name, in which case we may see more issues here\n        // than we need to.\n        const issue = this.idToIssueMap_.get(activityItem.target.id);\n        if (issue === undefined) {\n          continue;\n        }\n\n        const newStateTransition = {\n          timestamp: activityItem.timestamp,\n          activeState: this.stateBundleElementIdToActiveState(activityItem.added as RestApi.StateBundleElement[]),\n        };\n        this.addStateTransition(issue.stateTransitions, newStateTransition,\n            this.stateBundleElementIdToActiveState(activityItem.removed as RestApi.StateBundleElement[]));\n      }\n    }\n  }\n\n  private finalizeSchedule(): void {\n    for (const issue of this.issues_) {\n      if (!this.options_.omitIssueActivities) {\n        this.finalizeIssueActivities(issue);\n      }\n\n      let parent: string = '';\n      if (issue.parentIssueId !== null) {\n        if (this.idToIssueMap_.has(issue.parentIssueId.internalId)) {\n          parent = issue.parentIssueId.id;\n        } else {\n          this.projectPlan_.warnings.push({\n            description: `Issue ${issue.id} is a subtask of ${issue.parentIssueId.id}, which is not contained ` +\n                `in saved search ${this.savedQueryName_}.`,\n            issueId: issue.id,\n          });\n        }\n      }\n\n      const dependencies: string[] = [];\n      const unknownDependencies: string[] = [];\n      for (const issueId of issue.dependencyIssueIds) {\n        const pushTo = this.idToIssueMap_.has(issueId.internalId) ? dependencies : unknownDependencies;\n        pushTo.push(issueId.id);\n      }\n      if (unknownDependencies.length > 0) {\n        this.projectPlan_.warnings.push({\n          description: `Issue ${issue.id} depends on ${unknownDependencies.join(', ')}, which is/are not ` +\n              `contained in saved search ${this.savedQueryName_}.`,\n          issueId: issue.id,\n        });\n      }\n\n      let remainingEffortMs = issue.resolved === Number.MAX_SAFE_INTEGER\n          ? issue.remainingEffortMs\n          : 0;\n      const unknownSubtasks: string[] = [];\n      for (const issueId of issue.subtaskIssueIds) {\n        const subIssue: InternalYouTrackIssue | undefined = this.idToIssueMap_.get(issueId.internalId);\n        if (subIssue !== undefined) {\n          remainingEffortMs = Math.max(0, remainingEffortMs - subIssue.remainingEffortMs);\n        } else {\n          unknownSubtasks.push(issueId.id);\n        }\n      }\n      if (unknownSubtasks.length > 0) {\n        this.projectPlan_.warnings.push({\n          description: `Issue ${issue.id} is a parent for ${unknownSubtasks.join(', ')}, which is/are not ` +\n              `contained in saved search ${this.savedQueryName_}.`,\n          issueId: issue.id,\n        });\n      }\n\n      const youTrackIssue: YouTrackIssue = {\n        id: issue.id,\n        summary: issue.summary,\n        issueActivities: issue.issueActivities,\n        resolved: issue.resolved,\n        state: issue.state,\n        assignee: issue.assignee,\n        parent,\n        customFields: issue.customFields,\n        remainingEffortMs,\n        remainingWaitTimeMs: issue.resolved === Number.MAX_SAFE_INTEGER\n            ? issue.remainingWaitTimeMs\n            : 0,\n        splittable: issue.splittable,\n        dependencies,\n      };\n      youTrackIssue.splittable = this.config_.isSplittableFn(youTrackIssue);\n      this.projectPlan_.issues.push(youTrackIssue);\n    }\n  }\n\n  private finalizeIssueActivities(issue: InternalYouTrackIssue): void {\n    // The following 3 issue properties have been set before in finishedIssues().\n    const newStateTransition: StateTransition = {\n      timestamp: issue.lastUpdate!,\n      activeState: issue.activeState,\n    };\n    this.addStateTransition(issue.stateTransitions, newStateTransition, issue.activeState);\n    // Using the definitions in addStateTransition(), we could at this point still have a[n - 1].s = U or\n    // a[n - 1].t - a[n - 2].t < c. We therefore add the following final transition for \"clean up\".\n    // Note that we err on the side of interpreting state UNKNOWN as ACTIVE.\n    const finalStateTransition: StateTransition = {\n      timestamp: Number.MAX_SAFE_INTEGER,\n      activeState: issue.activeState === ActiveState.UNKNOWN\n          ? ActiveState.ACTIVE\n          : issue.activeState,\n    };\n    this.addStateTransition(issue.stateTransitions, finalStateTransition, ActiveState.ACTIVE);\n    assert(\n        issue.stateTransitions\n            .filter((stateTransition) => stateTransition.activeState === ActiveState.UNKNOWN).length === 0,\n        'issue.stateTransitions should no longer contain elements with activeState === ActiveState.UNKNOWN'\n    );\n    assert(\n        issue.stateTransitions\n            .map((stateTransition) => stateTransition.timestamp)\n            .reduce(\n                ([min, previousTimestamp], timestamp) => [Math.min(min, timestamp - previousTimestamp), timestamp],\n                [Number.MAX_SAFE_INTEGER, -this.config_.minStateChangeDurationMs]\n            )[0] >= this.config_.minStateChangeDurationMs,\n        'issue.stateTransitions should no longer have consecutive elements within less than minStateChangeDurationMs'\n    );\n\n    const a = issue.stateTransitions;\n    const n = a.length;\n    for (let i = 0; i < n; i += 2) {\n      issue.issueActivities.push({\n        assignee: issue.assignee,\n        start: a[i].timestamp,\n        end: i < n - 1 ? a[i + 1].timestamp : Number.MAX_SAFE_INTEGER,\n        isWaiting: false,\n      });\n    }\n  }\n}\n","import { isFailure } from '@fschopp/project-planning-for-you-track';\nimport { SDataArray } from 's-array';\nimport { Alert } from './alerts-model';\n\n/**\n * Controller for the list of alerts.\n */\nexport class AlertsCtrl {\n  /**\n   * Constructor.\n   *\n   * @param alerts_ Array signal carrying the list of alerts currently shown.\n   */\n  public constructor(\n      private readonly alerts_: SDataArray<Alert>\n  ) { }\n\n  /**\n   * Adds a new alert that is to be shown to the user.\n   *\n   * @param title title of the alert\n   * @param failure details of the alert\n   */\n  public alert(title: string, failure: unknown): void {\n    let message: string;\n    if (isFailure(failure)) {\n      message = failure;\n    } else if (failure instanceof Error){\n      message = failure.toString();\n    } else {\n      message = `Unknown error: ${failure}`;\n    }\n    this.alerts_.push({title, message});\n  }\n\n  /**\n   * Removes the given alert.\n   *\n   * @param alert alert to be removed, must have been previously created by {@link alert}().\n   */\n  public remove(alert: Alert): void {\n    this.alerts_.remove(alert);\n  }\n}\n","import { S } from './index';\nvar DOCUMENT_FRAGMENT_NODE = 11, TEXT_NODE = 3;\nexport function insert(range, value) {\n    var parent = range.start.parentNode, test = range.start, good = null, t = typeof value;\n    //if (parent === null) {\n    //    throw new Error(\"Surplus.insert() can only be used on a node that has a parent node. \\n\"\n    //        + \"Node ``\" + range.start + \"'' is currently unattached to a parent.\");\n    //}\n    //if (range.end.parentNode !== parent) {\n    //    throw new Error(\"Surplus.insert() requires that the inserted nodes remain sibilings \\n\"\n    //        + \"of the original node.  The DOM has been modified such that this is \\n\"\n    //        + \"no longer the case.\");\n    //}\n    if (t === 'string' || t === 'number') {\n        value = value.toString();\n        if (test.nodeType === TEXT_NODE) {\n            test.data = value;\n            good = test;\n        }\n        else {\n            value = document.createTextNode(value);\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = good = value;\n        }\n    }\n    else if (value instanceof Node) {\n        if (test !== value) {\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = value;\n        }\n        good = value;\n    }\n    else if (Array.isArray(value)) {\n        insertArray(value);\n    }\n    else if (value instanceof Function) {\n        S(function () {\n            insert(range, value());\n        });\n        good = range.end;\n    }\n    else if (value !== null && value !== undefined && value !== true && value !== false) {\n        value = value.toString();\n        if (test.nodeType === TEXT_NODE) {\n            test.data = value;\n            good = test;\n        }\n        else {\n            value = document.createTextNode(value);\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = good = value;\n        }\n    }\n    if (good === null) {\n        if (range.start === parent.firstChild && range.end === parent.lastChild && range.start !== range.end) {\n            // fast delete entire contents\n            parent.textContent = \"\";\n            value = document.createTextNode(\"\");\n            parent.appendChild(value);\n            good = range.start = range.end = value;\n        }\n        else if (test.nodeType === TEXT_NODE) {\n            test.data = \"\";\n            good = test;\n        }\n        else {\n            value = document.createTextNode(\"\");\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = good = value;\n        }\n    }\n    // remove anything left after the good cursor from the insert range\n    while (good !== range.end) {\n        test = range.end;\n        range.end = test.previousSibling;\n        parent.removeChild(test);\n    }\n    return range;\n    function insertArray(array) {\n        for (var i = 0, len = array.length; i < len; i++) {\n            var value = array[i];\n            if (good === range.end) {\n                if (value instanceof Node) {\n                    good = range.end = (good.nextSibling ? parent.insertBefore(value, good.nextSibling) : parent.appendChild(value));\n                }\n                else if (value instanceof Array) {\n                    insertArray(value);\n                }\n                else if (value !== null && value !== undefined && value !== false && value !== true) {\n                    value = document.createTextNode(value.toString());\n                    good = range.end = (good.nextSibling ? parent.insertBefore(value, good.nextSibling) : parent.appendChild(value));\n                }\n            }\n            else {\n                if (value instanceof Node) {\n                    if (test !== value) {\n                        if (good === null) {\n                            if (range.end === value)\n                                range.end = value.previousSibling;\n                            parent.replaceChild(value, test);\n                            range.start = value;\n                            if (range.end === test)\n                                range.end = value;\n                            test = value.nextSibling;\n                        }\n                        else {\n                            if (test.nextSibling === value && test !== value.nextSibling && test !== range.end) {\n                                parent.removeChild(test);\n                                test = value.nextSibling;\n                            }\n                            else {\n                                if (range.end === value)\n                                    range.end = value.previousSibling;\n                                parent.insertBefore(value, test);\n                            }\n                        }\n                    }\n                    else {\n                        test = test.nextSibling;\n                    }\n                    good = value;\n                }\n                else if (value instanceof Array) {\n                    insertArray(value);\n                }\n                else if (value !== null && value !== undefined && value !== true && value !== false) {\n                    value = value.toString();\n                    if (test.nodeType === TEXT_NODE) {\n                        test.data = value;\n                        if (good === null)\n                            range.start = test;\n                        good = test, test = good.nextSibling;\n                    }\n                    else {\n                        value = document.createTextNode(value);\n                        parent.insertBefore(value, test);\n                        if (good === null)\n                            range.start = value;\n                        good = value;\n                    }\n                }\n            }\n        }\n    }\n}\n","import { S } from './index';\nexport function content(parent, value, current) {\n    var t = typeof value;\n    if (current === value) {\n        // nothing to do\n    }\n    else if (t === 'string') {\n        // if a Text node already exists, it's faster to set its .data than set the parent.textContent\n        if (current !== \"\" && typeof current === 'string') {\n            current = parent.firstChild.data = value;\n        }\n        else {\n            current = parent.textContent = value;\n        }\n    }\n    else if (t === 'number') {\n        value = value.toString();\n        if (current !== \"\" && typeof current === 'string') {\n            current = parent.firstChild.data = value;\n        }\n        else {\n            current = parent.textContent = value;\n        }\n    }\n    else if (value == null || t === 'boolean') { // null, undefined, true or false\n        clear(parent);\n        current = \"\";\n    }\n    else if (t === 'function') {\n        S(function () {\n            current = content(parent, value(), current);\n        });\n    }\n    else if (value instanceof Node) {\n        if (Array.isArray(current)) {\n            if (current.length === 0) {\n                parent.appendChild(value);\n            }\n            else if (current.length === 1) {\n                parent.replaceChild(value, current[0]);\n            }\n            else {\n                clear(parent);\n                parent.appendChild(value);\n            }\n        }\n        else if (current === \"\") {\n            parent.appendChild(value);\n        }\n        else {\n            parent.replaceChild(value, parent.firstChild);\n        }\n        current = value;\n    }\n    else if (Array.isArray(value)) {\n        var array = normalizeIncomingArray([], value);\n        if (array.length === 0) {\n            clear(parent);\n        }\n        else {\n            if (Array.isArray(current)) {\n                if (current.length === 0) {\n                    appendNodes(parent, array, 0, array.length);\n                }\n                else {\n                    reconcileArrays(parent, current, array);\n                }\n            }\n            else if (current === \"\") {\n                appendNodes(parent, array, 0, array.length);\n            }\n            else {\n                reconcileArrays(parent, [parent.firstChild], array);\n            }\n        }\n        current = array;\n    }\n    else {\n        throw new Error(\"content must be Node, stringable, or array of same\");\n    }\n    return current;\n}\nvar NOMATCH = -1, NOINSERT = -2;\nvar RECONCILE_ARRAY_BATCH = 0;\nvar RECONCILE_ARRAY_BITS = 16, RECONCILE_ARRAY_INC = 1 << RECONCILE_ARRAY_BITS, RECONCILE_ARRAY_MASK = RECONCILE_ARRAY_INC - 1;\n// reconcile the content of parent from ns to us\n// see ivi's excellent writeup of diffing arrays in a vdom library: \n// https://github.com/ivijs/ivi/blob/2c81ead934b9128e092cc2a5ef2d3cabc73cb5dd/packages/ivi/src/vdom/implementation.ts#L1187\n// this code isn't identical, since we're diffing real dom nodes to nodes-or-strings, \n// but the core methodology of trimming ends and reversals, matching nodes, then using\n// the longest increasing subsequence to minimize DOM ops is inspired by ivi.\nfunction reconcileArrays(parent, ns, us) {\n    var ulen = us.length, \n    // n = nodes, u = updates\n    // ranges defined by min and max indices\n    nmin = 0, nmax = ns.length - 1, umin = 0, umax = ulen - 1, \n    // start nodes of ranges\n    n = ns[nmin], u = us[umin], \n    // end nodes of ranges\n    nx = ns[nmax], ux = us[umax], \n    // node, if any, just after ux, used for doing .insertBefore() to put nodes at end\n    ul = nx.nextSibling, i, j, k, loop = true;\n    // scan over common prefixes, suffixes, and simple reversals\n    fixes: while (loop) {\n        loop = false;\n        // common prefix, u === n\n        while (equable(u, n, umin, us)) {\n            umin++;\n            nmin++;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            u = us[umin];\n            n = ns[nmin];\n        }\n        // common suffix, ux === nx\n        while (equable(ux, nx, umax, us)) {\n            ul = nx;\n            umax--;\n            nmax--;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            ux = us[umax];\n            nx = ns[nmax];\n        }\n        // reversal u === nx, have to swap node forward\n        while (equable(u, nx, umin, us)) {\n            loop = true;\n            parent.insertBefore(nx, n);\n            umin++;\n            nmax--;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            u = us[umin];\n            nx = ns[nmax];\n        }\n        // reversal ux === n, have to swap node back\n        while (equable(ux, n, umax, us)) {\n            loop = true;\n            if (ul === null)\n                parent.appendChild(n);\n            else\n                parent.insertBefore(n, ul);\n            ul = n;\n            umax--;\n            nmin++;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            ux = us[umax];\n            n = ns[nmin];\n        }\n    }\n    // if that covered all updates, just need to remove any remaining nodes and we're done\n    if (umin > umax) {\n        // remove any remaining nodes\n        while (nmin <= nmax) {\n            parent.removeChild(ns[nmax]);\n            nmax--;\n        }\n        return;\n    }\n    // if that covered all current nodes, just need to insert any remaining updates and we're done\n    if (nmin > nmax) {\n        // insert any remaining nodes\n        while (umin <= umax) {\n            insertOrAppend(parent, us[umin], ul, umin, us);\n            umin++;\n        }\n        return;\n    }\n    // simple cases don't apply, have to actually match up nodes and figure out minimum DOM ops\n    // loop through nodes and mark them with a special property indicating their order\n    // we'll then go through the updates and look for those properties\n    // in case any of the updates have order properties left over from earlier runs, we \n    // use the low bits of the order prop to record a batch identifier.\n    // I'd much rather use a Map than a special property, but Maps of objects are really\n    // slow currently, like only 100k get/set ops / second\n    // for Text nodes, all that matters is their order, as they're easily, interchangeable\n    // so we record their positions in ntext[]\n    var ntext = [];\n    // update global batch identifer\n    RECONCILE_ARRAY_BATCH = (RECONCILE_ARRAY_BATCH + 1) % RECONCILE_ARRAY_INC;\n    for (i = nmin, j = (nmin << RECONCILE_ARRAY_BITS) + RECONCILE_ARRAY_BATCH; i <= nmax; i++, j += RECONCILE_ARRAY_INC) {\n        n = ns[i];\n        // add or update special order property\n        if (n.__surplus_order === undefined) {\n            Object.defineProperty(n, '__surplus_order', { value: j, writable: true });\n        }\n        else {\n            n.__surplus_order = j;\n        }\n        if (n instanceof Text) {\n            ntext.push(i);\n        }\n    }\n    // now loop through us, looking for the order property, otherwise recording NOMATCH\n    var src = new Array(umax - umin + 1), utext = [], preserved = 0;\n    for (i = umin; i <= umax; i++) {\n        u = us[i];\n        if (typeof u === 'string') {\n            utext.push(i);\n            src[i - umin] = NOMATCH;\n        }\n        else if ((j = u.__surplus_order) !== undefined && (j & RECONCILE_ARRAY_MASK) === RECONCILE_ARRAY_BATCH) {\n            j >>= RECONCILE_ARRAY_BITS;\n            src[i - umin] = j;\n            ns[j] = null;\n            preserved++;\n        }\n        else {\n            src[i - umin] = NOMATCH;\n        }\n    }\n    if (preserved === 0 && nmin === 0 && nmax === ns.length - 1) {\n        // no nodes preserved, use fast clear and append\n        clear(parent);\n        while (umin <= umax) {\n            insertOrAppend(parent, us[umin], null, umin, us);\n            umin++;\n        }\n        return;\n    }\n    // find longest common sequence between ns and us, represented as the indices \n    // of the longest increasing subsequence in src\n    var lcs = longestPositiveIncreasingSubsequence(src);\n    // we know we can preserve their order, so march them as NOINSERT\n    for (i = 0; i < lcs.length; i++) {\n        src[lcs[i]] = NOINSERT;\n    }\n    /*\n              0   1   2   3   4   5   6   7\n    ns    = [ n,  n,  t,  n,  n,  n,  t,  n ]\n                  |          /   /       /\n                  |        /   /       /\n                  +------/---/-------/----+\n                       /   /       /      |\n    us    = [ n,  s,  n,  n,  s,  n,  s,  n ]\n    src   = [-1, -1,  4,  5, -1,  7, -1,  1 ]\n    lis   = [         2,  3,      5]\n                      j\n    utext = [     1,          4,      6 ]\n                  i\n    ntext = [         2,              6 ]\n                      k\n    */\n    // replace strings in us with Text nodes, reusing Text nodes from ns when we can do so without moving them\n    var utexti = 0, lcsj = 0, ntextk = 0;\n    for (i = 0, j = 0, k = 0; i < utext.length; i++) {\n        utexti = utext[i];\n        // need to answer qeustion \"if utext[i] falls between two lcs nodes, is there an ntext between them which we can reuse?\"\n        // first, find j such that lcs[j] is the first lcs node *after* utext[i]\n        while (j < lcs.length && (lcsj = lcs[j]) < utexti - umin)\n            j++;\n        // now, find k such that ntext[k] is the first ntext *after* lcs[j-1] (or after start, if j === 0)\n        while (k < ntext.length && (ntextk = ntext[k], j !== 0) && ntextk < src[lcs[j - 1]])\n            k++;\n        // if ntext[k] < lcs[j], then we know ntext[k] falls between lcs[j-1] (or start) and lcs[j] (or end)\n        // that means we can re-use it without moving it\n        if (k < ntext.length && (j === lcs.length || ntextk < src[lcsj])) {\n            n = ns[ntextk];\n            u = us[utexti];\n            if (n.data !== u)\n                n.data = u;\n            ns[ntextk] = null;\n            us[utexti] = n;\n            src[utexti] = NOINSERT;\n            k++;\n        }\n        else {\n            // if we didn't find one to re-use, make a new Text node\n            us[utexti] = document.createTextNode(us[utexti]);\n        }\n    }\n    // remove stale nodes in ns\n    while (nmin <= nmax) {\n        n = ns[nmin];\n        if (n !== null) {\n            parent.removeChild(n);\n        }\n        nmin++;\n    }\n    // insert new nodes\n    while (umin <= umax) {\n        ux = us[umax];\n        if (src[umax - umin] !== NOINSERT) {\n            if (ul === null)\n                parent.appendChild(ux);\n            else\n                parent.insertBefore(ux, ul);\n        }\n        ul = ux;\n        umax--;\n    }\n}\n// two nodes are \"equable\" if they are identical (===) or if we can make them the same, i.e. they're \n// Text nodes, which we can reuse with the new text\nfunction equable(u, n, i, us) {\n    if (u === n) {\n        return true;\n    }\n    else if (typeof u === 'string' && n instanceof Text) {\n        if (n.data !== u)\n            n.data = u;\n        us[i] = n;\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction appendNodes(parent, array, i, end) {\n    var node;\n    for (; i < end; i++) {\n        node = array[i];\n        if (node instanceof Node) {\n            parent.appendChild(node);\n        }\n        else {\n            node = array[i] = document.createTextNode(node);\n            parent.appendChild(node);\n        }\n    }\n}\nfunction insertOrAppend(parent, node, marker, i, us) {\n    if (typeof node === 'string') {\n        node = us[i] = document.createTextNode(node);\n    }\n    if (marker === null)\n        parent.appendChild(node);\n    else\n        parent.insertBefore(node, marker);\n}\nfunction normalizeIncomingArray(normalized, array) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        var item = array[i];\n        if (item instanceof Node) {\n            normalized.push(item);\n        }\n        else if (item == null || item === true || item === false) { // matches null, undefined, true or false\n            // skip\n        }\n        else if (Array.isArray(item)) {\n            normalizeIncomingArray(normalized, item);\n        }\n        else if (typeof item === 'string') {\n            normalized.push(item);\n        }\n        else {\n            normalized.push(item.toString());\n        }\n    }\n    return normalized;\n}\nfunction clear(node) {\n    node.textContent = \"\";\n}\n// return an array of the indices of ns that comprise the longest increasing subsequence within ns\nfunction longestPositiveIncreasingSubsequence(ns) {\n    var seq = [], is = [], l = -1, pre = new Array(ns.length);\n    for (var i = 0, len = ns.length; i < len; i++) {\n        var n = ns[i];\n        if (n < 0)\n            continue;\n        var j = findGreatestIndexLEQ(seq, n);\n        if (j !== -1)\n            pre[i] = is[j];\n        if (j === l) {\n            l++;\n            seq[l] = n;\n            is[l] = i;\n        }\n        else if (n < seq[j + 1]) {\n            seq[j + 1] = n;\n            is[j + 1] = i;\n        }\n    }\n    for (i = is[l]; l >= 0; i = pre[i], l--) {\n        seq[l] = i;\n    }\n    return seq;\n}\nfunction findGreatestIndexLEQ(seq, n) {\n    // invariant: lo is guaranteed to be index of a value <= n, hi to be >\n    // therefore, they actually start out of range: (-1, last + 1)\n    var lo = -1, hi = seq.length;\n    // fast path for simple increasing sequences\n    if (hi > 0 && seq[hi - 1] <= n)\n        return hi - 1;\n    while (hi - lo > 1) {\n        var mid = Math.floor((lo + hi) / 2);\n        if (seq[mid] > n) {\n            hi = mid;\n        }\n        else {\n            lo = mid;\n        }\n    }\n    return lo;\n}\n","var svgNS = \"http://www.w3.org/2000/svg\";\nexport function createElement(tag, className, parent) {\n    var el = document.createElement(tag);\n    if (className)\n        el.className = className;\n    if (parent)\n        parent.appendChild(el);\n    return el;\n}\nexport function createSvgElement(tag, className, parent) {\n    var el = document.createElementNS(svgNS, tag);\n    if (className)\n        el.setAttribute(\"class\", className);\n    if (parent)\n        parent.appendChild(el);\n    return el;\n}\nexport function createComment(text, parent) {\n    var comment = document.createComment(text);\n    parent.appendChild(comment);\n    return comment;\n}\nexport function createTextNode(text, parent) {\n    var node = document.createTextNode(text);\n    parent.appendChild(node);\n    return node;\n}\nexport function setAttribute(node, name, value) {\n    if (value === false || value === null || value === undefined)\n        node.removeAttribute(name);\n    else\n        node.setAttribute(name, value);\n}\nexport function setAttributeNS(node, namespace, name, value) {\n    if (value === false || value === null || value === undefined)\n        node.removeAttributeNS(namespace, name);\n    else\n        node.setAttributeNS(namespace, name, value);\n}\n","var \n// pre-seed the caches with a few special cases, so we don't need to check for them in the common cases\nhtmlFieldCache = {\n    // special props\n    style: ['style', null, 3 /* Assign */],\n    ref: ['ref', null, 2 /* Ignore */],\n    fn: ['fn', null, 2 /* Ignore */],\n    // attr compat\n    class: ['className', null, 0 /* Property */],\n    for: ['htmlFor', null, 0 /* Property */],\n    \"accept-charset\": ['acceptCharset', null, 0 /* Property */],\n    \"http-equiv\": ['httpEquiv', null, 0 /* Property */],\n    // a few React oddities, mostly disagreeing about casing\n    onDoubleClick: ['ondblclick', null, 0 /* Property */],\n    spellCheck: ['spellcheck', null, 0 /* Property */],\n    allowFullScreen: ['allowFullscreen', null, 0 /* Property */],\n    autoCapitalize: ['autocapitalize', null, 0 /* Property */],\n    autoFocus: ['autofocus', null, 0 /* Property */],\n    autoPlay: ['autoplay', null, 0 /* Property */],\n    // other\n    // role is part of the ARIA spec but not caught by the aria- attr filter\n    role: ['role', null, 1 /* Attribute */]\n}, svgFieldCache = {\n    // special props\n    style: ['style', null, 3 /* Assign */],\n    ref: ['ref', null, 2 /* Ignore */],\n    fn: ['fn', null, 2 /* Ignore */],\n    // property compat\n    className: ['class', null, 1 /* Attribute */],\n    htmlFor: ['for', null, 1 /* Attribute */],\n    tabIndex: ['tabindex', null, 1 /* Attribute */],\n    // React compat\n    onDoubleClick: ['ondblclick', null, 0 /* Property */],\n    // attributes with eccentric casing - some SVG attrs are snake-cased, some camelCased\n    allowReorder: ['allowReorder', null, 1 /* Attribute */],\n    attributeName: ['attributeName', null, 1 /* Attribute */],\n    attributeType: ['attributeType', null, 1 /* Attribute */],\n    autoReverse: ['autoReverse', null, 1 /* Attribute */],\n    baseFrequency: ['baseFrequency', null, 1 /* Attribute */],\n    calcMode: ['calcMode', null, 1 /* Attribute */],\n    clipPathUnits: ['clipPathUnits', null, 1 /* Attribute */],\n    contentScriptType: ['contentScriptType', null, 1 /* Attribute */],\n    contentStyleType: ['contentStyleType', null, 1 /* Attribute */],\n    diffuseConstant: ['diffuseConstant', null, 1 /* Attribute */],\n    edgeMode: ['edgeMode', null, 1 /* Attribute */],\n    externalResourcesRequired: ['externalResourcesRequired', null, 1 /* Attribute */],\n    filterRes: ['filterRes', null, 1 /* Attribute */],\n    filterUnits: ['filterUnits', null, 1 /* Attribute */],\n    gradientTransform: ['gradientTransform', null, 1 /* Attribute */],\n    gradientUnits: ['gradientUnits', null, 1 /* Attribute */],\n    kernelMatrix: ['kernelMatrix', null, 1 /* Attribute */],\n    kernelUnitLength: ['kernelUnitLength', null, 1 /* Attribute */],\n    keyPoints: ['keyPoints', null, 1 /* Attribute */],\n    keySplines: ['keySplines', null, 1 /* Attribute */],\n    keyTimes: ['keyTimes', null, 1 /* Attribute */],\n    lengthAdjust: ['lengthAdjust', null, 1 /* Attribute */],\n    limitingConeAngle: ['limitingConeAngle', null, 1 /* Attribute */],\n    markerHeight: ['markerHeight', null, 1 /* Attribute */],\n    markerUnits: ['markerUnits', null, 1 /* Attribute */],\n    maskContentUnits: ['maskContentUnits', null, 1 /* Attribute */],\n    maskUnits: ['maskUnits', null, 1 /* Attribute */],\n    numOctaves: ['numOctaves', null, 1 /* Attribute */],\n    pathLength: ['pathLength', null, 1 /* Attribute */],\n    patternContentUnits: ['patternContentUnits', null, 1 /* Attribute */],\n    patternTransform: ['patternTransform', null, 1 /* Attribute */],\n    patternUnits: ['patternUnits', null, 1 /* Attribute */],\n    pointsAtX: ['pointsAtX', null, 1 /* Attribute */],\n    pointsAtY: ['pointsAtY', null, 1 /* Attribute */],\n    pointsAtZ: ['pointsAtZ', null, 1 /* Attribute */],\n    preserveAlpha: ['preserveAlpha', null, 1 /* Attribute */],\n    preserveAspectRatio: ['preserveAspectRatio', null, 1 /* Attribute */],\n    primitiveUnits: ['primitiveUnits', null, 1 /* Attribute */],\n    refX: ['refX', null, 1 /* Attribute */],\n    refY: ['refY', null, 1 /* Attribute */],\n    repeatCount: ['repeatCount', null, 1 /* Attribute */],\n    repeatDur: ['repeatDur', null, 1 /* Attribute */],\n    requiredExtensions: ['requiredExtensions', null, 1 /* Attribute */],\n    requiredFeatures: ['requiredFeatures', null, 1 /* Attribute */],\n    specularConstant: ['specularConstant', null, 1 /* Attribute */],\n    specularExponent: ['specularExponent', null, 1 /* Attribute */],\n    spreadMethod: ['spreadMethod', null, 1 /* Attribute */],\n    startOffset: ['startOffset', null, 1 /* Attribute */],\n    stdDeviation: ['stdDeviation', null, 1 /* Attribute */],\n    stitchTiles: ['stitchTiles', null, 1 /* Attribute */],\n    surfaceScale: ['surfaceScale', null, 1 /* Attribute */],\n    systemLanguage: ['systemLanguage', null, 1 /* Attribute */],\n    tableValues: ['tableValues', null, 1 /* Attribute */],\n    targetX: ['targetX', null, 1 /* Attribute */],\n    targetY: ['targetY', null, 1 /* Attribute */],\n    textLength: ['textLength', null, 1 /* Attribute */],\n    viewBox: ['viewBox', null, 1 /* Attribute */],\n    viewTarget: ['viewTarget', null, 1 /* Attribute */],\n    xChannelSelector: ['xChannelSelector', null, 1 /* Attribute */],\n    yChannelSelector: ['yChannelSelector', null, 1 /* Attribute */],\n    zoomAndPan: ['zoomAndPan', null, 1 /* Attribute */],\n};\nvar attributeOnlyRx = /-/, deepAttrRx = /^style-/, isAttrOnlyField = function (field) { return attributeOnlyRx.test(field) && !deepAttrRx.test(field); }, propOnlyRx = /^(on|style)/, isPropOnlyField = function (field) { return propOnlyRx.test(field); }, propPartRx = /[a-z][A-Z]/g, getAttrName = function (field) { return field.replace(propPartRx, function (m) { return m[0] + '-' + m[1]; }).toLowerCase(); }, jsxEventPropRx = /^on[A-Z]/, attrPartRx = /\\-(?:[a-z]|$)/g, getPropName = function (field) {\n    var prop = field.replace(attrPartRx, function (m) { return m.length === 1 ? '' : m[1].toUpperCase(); });\n    return jsxEventPropRx.test(prop) ? prop.toLowerCase() : prop;\n}, deepPropRx = /^(style)([A-Z])/, buildPropData = function (prop) {\n    var m = deepPropRx.exec(prop);\n    return m ? [m[2].toLowerCase() + prop.substr(m[0].length), m[1], 0 /* Property */] : [prop, null, 0 /* Property */];\n}, attrNamespaces = {\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n}, attrNamespaceRx = new RegExp(\"^(\" + Object.keys(attrNamespaces).join('|') + \")-(.*)\"), buildAttrData = function (attr) {\n    var m = attrNamespaceRx.exec(attr);\n    return m ? [m[2], attrNamespaces[m[1]], 1 /* Attribute */] : [attr, null, 1 /* Attribute */];\n};\nexport var getFieldData = function (field, svg) {\n    var cache = svg ? svgFieldCache : htmlFieldCache, cached = cache[field];\n    if (cached)\n        return cached;\n    var attr = svg && !isPropOnlyField(field)\n        || !svg && isAttrOnlyField(field), name = attr ? getAttrName(field) : getPropName(field);\n    if (name !== field && (cached = cache[name]))\n        return cached;\n    var data = attr ? buildAttrData(name) : buildPropData(name);\n    return cache[field] = data;\n};\n","import { setAttribute } from './dom';\nimport { getFieldData } from './fieldData';\nimport { setAttributeNS } from './index';\nexport function assign(a, b) {\n    var props = Object.keys(b);\n    for (var i = 0, len = props.length; i < len; i++) {\n        var name = props[i];\n        a[name] = b[name];\n    }\n}\nexport function spread(node, obj, svg) {\n    var props = Object.keys(obj);\n    for (var i = 0, len = props.length; i < len; i++) {\n        var name = props[i];\n        setField(node, name, obj[name], svg);\n    }\n}\nfunction setField(node, field, value, svg) {\n    var _a = getFieldData(field, svg), name = _a[0], namespace = _a[1], flags = _a[2], type = flags & 3 /* Type */;\n    if (type === 0 /* Property */) {\n        if (namespace)\n            node = node[namespace];\n        node[name] = value;\n    }\n    else if (type === 1 /* Attribute */) {\n        if (namespace)\n            setAttributeNS(node, namespace, name, value);\n        else\n            setAttribute(node, name, value);\n    }\n    else if (type === 3 /* Assign */) {\n        if (value && typeof value === 'object')\n            assign(node.style, value);\n    }\n}\n","// Public interface\r\nvar S = function S(fn, value) {\r\n    var node = new ComputationNode(fn, value);\r\n    return function computation() {\r\n        return node.current();\r\n    };\r\n};\r\n// compatibility with commonjs systems that expect default export to be at require('s.js').default rather than just require('s-js')\r\nObject.defineProperty(S, 'default', { value: S });\r\nexport default S;\r\nS.root = function root(fn) {\r\n    var owner = Owner, root = fn.length === 0 ? UNOWNED : new ComputationNode(null, null), result = undefined, disposer = fn.length === 0 ? null : function _dispose() {\r\n        if (RunningClock !== null) {\r\n            RootClock.disposes.add(root);\r\n        }\r\n        else {\r\n            dispose(root);\r\n        }\r\n    };\r\n    Owner = root;\r\n    if (RunningClock === null) {\r\n        result = topLevelRoot(fn, disposer, owner);\r\n    }\r\n    else {\r\n        result = disposer === null ? fn() : fn(disposer);\r\n        Owner = owner;\r\n    }\r\n    return result;\r\n};\r\nfunction topLevelRoot(fn, disposer, owner) {\r\n    try {\r\n        return disposer === null ? fn() : fn(disposer);\r\n    }\r\n    finally {\r\n        Owner = owner;\r\n    }\r\n}\r\nS.on = function on(ev, fn, seed, onchanges) {\r\n    if (Array.isArray(ev))\r\n        ev = callAll(ev);\r\n    onchanges = !!onchanges;\r\n    return S(on, seed);\r\n    function on(value) {\r\n        var running = RunningNode;\r\n        ev();\r\n        if (onchanges)\r\n            onchanges = false;\r\n        else {\r\n            RunningNode = null;\r\n            value = fn(value);\r\n            RunningNode = running;\r\n        }\r\n        return value;\r\n    }\r\n};\r\nfunction callAll(ss) {\r\n    return function all() {\r\n        for (var i = 0; i < ss.length; i++)\r\n            ss[i]();\r\n    };\r\n}\r\nS.effect = function effect(fn, value) {\r\n    new ComputationNode(fn, value);\r\n};\r\nS.data = function data(value) {\r\n    var node = new DataNode(value);\r\n    return function data(value) {\r\n        if (arguments.length === 0) {\r\n            return node.current();\r\n        }\r\n        else {\r\n            return node.next(value);\r\n        }\r\n    };\r\n};\r\nS.value = function value(current, eq) {\r\n    var data = S.data(current), age = -1;\r\n    return function value(update) {\r\n        if (arguments.length === 0) {\r\n            return data();\r\n        }\r\n        else {\r\n            var same = eq ? eq(current, update) : current === update;\r\n            if (!same) {\r\n                var time = RootClock.time;\r\n                if (age === time)\r\n                    throw new Error(\"conflicting values: \" + update + \" is not the same as \" + current);\r\n                age = time;\r\n                current = update;\r\n                data(update);\r\n            }\r\n            return update;\r\n        }\r\n    };\r\n};\r\nS.freeze = function freeze(fn) {\r\n    var result = undefined;\r\n    if (RunningClock !== null) {\r\n        result = fn();\r\n    }\r\n    else {\r\n        RunningClock = RootClock;\r\n        RunningClock.changes.reset();\r\n        try {\r\n            result = fn();\r\n            event();\r\n        }\r\n        finally {\r\n            RunningClock = null;\r\n        }\r\n    }\r\n    return result;\r\n};\r\nS.sample = function sample(fn) {\r\n    var result, running = RunningNode;\r\n    if (running !== null) {\r\n        RunningNode = null;\r\n        result = fn();\r\n        RunningNode = running;\r\n    }\r\n    else {\r\n        result = fn();\r\n    }\r\n    return result;\r\n};\r\nS.cleanup = function cleanup(fn) {\r\n    if (Owner !== null) {\r\n        if (Owner.cleanups === null)\r\n            Owner.cleanups = [fn];\r\n        else\r\n            Owner.cleanups.push(fn);\r\n    }\r\n    else {\r\n        console.warn(\"cleanups created without a root or parent will never be run\");\r\n    }\r\n};\r\n// experimental : exposing node constructors and some state\r\nS.makeDataNode = function makeDataNode(value) {\r\n    return new DataNode(value);\r\n};\r\nS.makeComputationNode = function makeComputationNode(fn, seed) {\r\n    return new ComputationNode(fn, seed);\r\n};\r\nS.isFrozen = function isFrozen() {\r\n    return RunningClock !== null;\r\n};\r\nS.isListening = function isListening() {\r\n    return RunningNode !== null;\r\n};\r\n// Internal implementation\r\n/// Graph classes and operations\r\nvar Clock = /** @class */ (function () {\r\n    function Clock() {\r\n        this.time = 0;\r\n        this.changes = new Queue(); // batched changes to data nodes\r\n        this.updates = new Queue(); // computations to update\r\n        this.disposes = new Queue(); // disposals to run after current batch of updates finishes\r\n    }\r\n    return Clock;\r\n}());\r\nvar RootClockProxy = {\r\n    time: function () { return RootClock.time; }\r\n};\r\nvar DataNode = /** @class */ (function () {\r\n    function DataNode(value) {\r\n        this.value = value;\r\n        this.pending = NOTPENDING;\r\n        this.log = null;\r\n    }\r\n    DataNode.prototype.current = function () {\r\n        if (RunningNode !== null) {\r\n            logDataRead(this, RunningNode);\r\n        }\r\n        return this.value;\r\n    };\r\n    DataNode.prototype.next = function (value) {\r\n        if (RunningClock !== null) {\r\n            if (this.pending !== NOTPENDING) { // value has already been set once, check for conflicts\r\n                if (value !== this.pending) {\r\n                    throw new Error(\"conflicting changes: \" + value + \" !== \" + this.pending);\r\n                }\r\n            }\r\n            else { // add to list of changes\r\n                this.pending = value;\r\n                RootClock.changes.add(this);\r\n            }\r\n        }\r\n        else { // not batching, respond to change now\r\n            if (this.log !== null) {\r\n                this.pending = value;\r\n                RootClock.changes.add(this);\r\n                event();\r\n            }\r\n            else {\r\n                this.value = value;\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    DataNode.prototype.clock = function () {\r\n        return RootClockProxy;\r\n    };\r\n    return DataNode;\r\n}());\r\nvar ComputationNode = /** @class */ (function () {\r\n    function ComputationNode(fn, value) {\r\n        this.state = CURRENT;\r\n        this.source1 = null;\r\n        this.source1slot = 0;\r\n        this.sources = null;\r\n        this.sourceslots = null;\r\n        this.log = null;\r\n        this.owned = null;\r\n        this.cleanups = null;\r\n        this.fn = fn;\r\n        this.value = value;\r\n        this.age = RootClock.time;\r\n        if (fn === null)\r\n            return;\r\n        var owner = Owner, running = RunningNode;\r\n        if (owner === null)\r\n            console.warn(\"computations created without a root or parent will never be disposed\");\r\n        Owner = RunningNode = this;\r\n        if (RunningClock === null) {\r\n            toplevelComputation(this);\r\n        }\r\n        else {\r\n            this.value = this.fn(this.value);\r\n        }\r\n        if (owner && owner !== UNOWNED) {\r\n            if (owner.owned === null)\r\n                owner.owned = [this];\r\n            else\r\n                owner.owned.push(this);\r\n        }\r\n        Owner = owner;\r\n        RunningNode = running;\r\n    }\r\n    ComputationNode.prototype.current = function () {\r\n        if (RunningNode !== null) {\r\n            if (this.age === RootClock.time) {\r\n                if (this.state === RUNNING)\r\n                    throw new Error(\"circular dependency\");\r\n                else\r\n                    updateNode(this); // checks for state === STALE internally, so don't need to check here\r\n            }\r\n            logComputationRead(this, RunningNode);\r\n        }\r\n        return this.value;\r\n    };\r\n    ComputationNode.prototype.clock = function () {\r\n        return RootClockProxy;\r\n    };\r\n    return ComputationNode;\r\n}());\r\nvar Log = /** @class */ (function () {\r\n    function Log() {\r\n        this.node1 = null;\r\n        this.node1slot = 0;\r\n        this.nodes = null;\r\n        this.nodeslots = null;\r\n    }\r\n    return Log;\r\n}());\r\nvar Queue = /** @class */ (function () {\r\n    function Queue() {\r\n        this.items = [];\r\n        this.count = 0;\r\n    }\r\n    Queue.prototype.reset = function () {\r\n        this.count = 0;\r\n    };\r\n    Queue.prototype.add = function (item) {\r\n        this.items[this.count++] = item;\r\n    };\r\n    Queue.prototype.run = function (fn) {\r\n        var items = this.items;\r\n        for (var i = 0; i < this.count; i++) {\r\n            fn(items[i]);\r\n            items[i] = null;\r\n        }\r\n        this.count = 0;\r\n    };\r\n    return Queue;\r\n}());\r\n// Constants\r\nvar NOTPENDING = {}, CURRENT = 0, STALE = 1, RUNNING = 2;\r\n// \"Globals\" used to keep track of current system state\r\nvar RootClock = new Clock(), RunningClock = null, // currently running clock \r\nRunningNode = null, // currently running computation\r\nOwner = null, // owner for new computations\r\nUNOWNED = new ComputationNode(null, null);\r\n// Functions\r\nfunction logRead(from, to) {\r\n    var fromslot, toslot = to.source1 === null ? -1 : to.sources === null ? 0 : to.sources.length;\r\n    if (from.node1 === null) {\r\n        from.node1 = to;\r\n        from.node1slot = toslot;\r\n        fromslot = -1;\r\n    }\r\n    else if (from.nodes === null) {\r\n        from.nodes = [to];\r\n        from.nodeslots = [toslot];\r\n        fromslot = 0;\r\n    }\r\n    else {\r\n        fromslot = from.nodes.length;\r\n        from.nodes.push(to);\r\n        from.nodeslots.push(toslot);\r\n    }\r\n    if (to.source1 === null) {\r\n        to.source1 = from;\r\n        to.source1slot = fromslot;\r\n    }\r\n    else if (to.sources === null) {\r\n        to.sources = [from];\r\n        to.sourceslots = [fromslot];\r\n    }\r\n    else {\r\n        to.sources.push(from);\r\n        to.sourceslots.push(fromslot);\r\n    }\r\n}\r\nfunction logDataRead(data, to) {\r\n    if (data.log === null)\r\n        data.log = new Log();\r\n    logRead(data.log, to);\r\n}\r\nfunction logComputationRead(node, to) {\r\n    if (node.log === null)\r\n        node.log = new Log();\r\n    logRead(node.log, to);\r\n}\r\nfunction event() {\r\n    // b/c we might be under a top level S.root(), have to preserve current root\r\n    var owner = Owner;\r\n    RootClock.updates.reset();\r\n    RootClock.time++;\r\n    try {\r\n        run(RootClock);\r\n    }\r\n    finally {\r\n        RunningClock = RunningNode = null;\r\n        Owner = owner;\r\n    }\r\n}\r\nfunction toplevelComputation(node) {\r\n    RunningClock = RootClock;\r\n    RootClock.changes.reset();\r\n    RootClock.updates.reset();\r\n    try {\r\n        node.value = node.fn(node.value);\r\n        if (RootClock.changes.count > 0 || RootClock.updates.count > 0) {\r\n            RootClock.time++;\r\n            run(RootClock);\r\n        }\r\n    }\r\n    finally {\r\n        RunningClock = Owner = RunningNode = null;\r\n    }\r\n}\r\nfunction run(clock) {\r\n    var running = RunningClock, count = 0;\r\n    RunningClock = clock;\r\n    clock.disposes.reset();\r\n    // for each batch ...\r\n    while (clock.changes.count !== 0 || clock.updates.count !== 0 || clock.disposes.count !== 0) {\r\n        if (count > 0) // don't tick on first run, or else we expire already scheduled updates\r\n            clock.time++;\r\n        clock.changes.run(applyDataChange);\r\n        clock.updates.run(updateNode);\r\n        clock.disposes.run(dispose);\r\n        // if there are still changes after excessive batches, assume runaway            \r\n        if (count++ > 1e5) {\r\n            throw new Error(\"Runaway clock detected\");\r\n        }\r\n    }\r\n    RunningClock = running;\r\n}\r\nfunction applyDataChange(data) {\r\n    data.value = data.pending;\r\n    data.pending = NOTPENDING;\r\n    if (data.log)\r\n        markComputationsStale(data.log);\r\n}\r\nfunction markComputationsStale(log) {\r\n    var node1 = log.node1, nodes = log.nodes;\r\n    // mark all downstream nodes stale which haven't been already\r\n    if (node1 !== null)\r\n        markNodeStale(node1);\r\n    if (nodes !== null) {\r\n        for (var i = 0, len = nodes.length; i < len; i++) {\r\n            markNodeStale(nodes[i]);\r\n        }\r\n    }\r\n}\r\nfunction markNodeStale(node) {\r\n    var time = RootClock.time;\r\n    if (node.age < time) {\r\n        node.age = time;\r\n        node.state = STALE;\r\n        RootClock.updates.add(node);\r\n        if (node.owned !== null)\r\n            markOwnedNodesForDisposal(node.owned);\r\n        if (node.log !== null)\r\n            markComputationsStale(node.log);\r\n    }\r\n}\r\nfunction markOwnedNodesForDisposal(owned) {\r\n    for (var i = 0; i < owned.length; i++) {\r\n        var child = owned[i];\r\n        child.age = RootClock.time;\r\n        child.state = CURRENT;\r\n        if (child.owned !== null)\r\n            markOwnedNodesForDisposal(child.owned);\r\n    }\r\n}\r\nfunction updateNode(node) {\r\n    if (node.state === STALE) {\r\n        var owner = Owner, running = RunningNode;\r\n        Owner = RunningNode = node;\r\n        node.state = RUNNING;\r\n        cleanup(node, false);\r\n        node.value = node.fn(node.value);\r\n        node.state = CURRENT;\r\n        Owner = owner;\r\n        RunningNode = running;\r\n    }\r\n}\r\nfunction cleanup(node, final) {\r\n    var source1 = node.source1, sources = node.sources, sourceslots = node.sourceslots, cleanups = node.cleanups, owned = node.owned, i, len;\r\n    if (cleanups !== null) {\r\n        for (i = 0; i < cleanups.length; i++) {\r\n            cleanups[i](final);\r\n        }\r\n        node.cleanups = null;\r\n    }\r\n    if (owned !== null) {\r\n        for (i = 0; i < owned.length; i++) {\r\n            dispose(owned[i]);\r\n        }\r\n        node.owned = null;\r\n    }\r\n    if (source1 !== null) {\r\n        cleanupSource(source1, node.source1slot);\r\n        node.source1 = null;\r\n    }\r\n    if (sources !== null) {\r\n        for (i = 0, len = sources.length; i < len; i++) {\r\n            cleanupSource(sources.pop(), sourceslots.pop());\r\n        }\r\n    }\r\n}\r\nfunction cleanupSource(source, slot) {\r\n    var nodes = source.nodes, nodeslots = source.nodeslots, last, lastslot;\r\n    if (slot === -1) {\r\n        source.node1 = null;\r\n    }\r\n    else {\r\n        last = nodes.pop();\r\n        lastslot = nodeslots.pop();\r\n        if (slot !== nodes.length) {\r\n            nodes[slot] = last;\r\n            nodeslots[slot] = lastslot;\r\n            if (lastslot === -1) {\r\n                last.source1slot = slot;\r\n            }\r\n            else {\r\n                last.sourceslots[lastslot] = slot;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction dispose(node) {\r\n    node.fn = null;\r\n    node.log = null;\r\n    cleanup(node, true);\r\n}\r\n","export { insert } from './insert';\nexport { content } from './content';\nexport * from './dom';\nexport { spread, assign } from './spread';\nexport { default as S } from 's-js';\n","import { SDataArray } from 's-array';\nimport * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { AlertsCtrl } from './alerts-ctrl';\nimport { Alert } from './alerts-model';\n\nexport interface AlertsProperties {\n  readonly alerts: SDataArray<Alert>;\n  readonly ctrl: AlertsCtrl;\n}\n\n/**\n * Creates a new HTML element that will contain all alerts that are to be shown to the user.\n */\nexport function AlertsView({alerts, ctrl}: AlertsProperties): HTMLElement {\n  return (\n      <div class=\"alert-wrapper\" aria-live=\"polite\" aria-atomic=\"true\">\n        {alerts.mapSample((alert) =>\n            <div class=\"toast fade show\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n              <div class=\"toast-header\">\n                <strong class=\"mr-auto\">{alert.title}</strong>\n                <button type=\"button\" class=\"ml-2 mb-1 close\" aria-label=\"Close\" onClick={() => ctrl.remove(alert)}>\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div class=\"toast-body\">{alert.message}</div>\n            </div>\n        )}\n      </div>\n  );\n}\n","import S, { DataSignal } from 's-js';\n\n/**\n * Counter of data signals that carry `true`.\n *\n * This class implements a counter that is updated in runtime O(1) whenever a signal changes.\n */\nexport class Counter {\n  private readonly signalToDisposeFnMap_: Map<() => boolean, () => void> = new Map();\n  private readonly countChangedSignal_: DataSignal<null> = S.data(null);\n  private numTrueSignals_: number = 0;\n\n  /**\n   * Constructor.\n   *\n   * @param count Signal that will be carry the number of `true` signals observed by this counter.\n   */\n  public constructor(\n      count: DataSignal<number>\n  ) {\n    // 'seed' is undefined (the calculation does not keep a state), and 'onchanges' is false (do the initial run).\n    S.on(this.countChangedSignal_, () => count(this.numTrueSignals_), undefined, false);\n  }\n\n  /**\n   * Adds a signal to the counter.\n   *\n   * @throws Error if the given signal has been added before\n   */\n  public add(signal: () => boolean): void {\n    if (this.signalToDisposeFnMap_.has(signal)) {\n      throw new Error('Counter.add() called more than once for same signal.');\n    }\n    this.signalToDisposeFnMap_.set(signal, S.root((disposeFn) => {\n      let didAddToCounter: boolean = false;\n      // 'seed' is undefined (the calculation does not keep a state), and 'onchanges' is false (do the initial run).\n      S.on(signal, () => {\n        const isCurrentlyTrue: boolean = S.sample(signal);\n        if (isCurrentlyTrue && !didAddToCounter) {\n          ++this.numTrueSignals_;\n          this.countChangedSignal_(null);\n        } else if (!isCurrentlyTrue && didAddToCounter) {\n          --this.numTrueSignals_;\n          this.countChangedSignal_(null);\n        }\n        didAddToCounter = isCurrentlyTrue;\n      }, undefined, false);\n      return disposeFn;\n    }));\n  }\n\n  /**\n   * Removes a signal from the counter.\n   *\n   * @throws Error if the given signal has not previously beend added with {@link add}()\n   */\n  public delete(signal: () => boolean): void {\n    const disposeFn = this.signalToDisposeFnMap_.get(signal);\n    if (disposeFn === undefined) {\n      throw new Error('Counter.delete() called without a corresponding prior add() call.');\n    }\n    if (S.sample(signal)) {\n      --this.numTrueSignals_;\n      this.countChangedSignal_(null);\n    }\n    disposeFn();\n    this.signalToDisposeFnMap_.delete(signal);\n  }\n}\n","/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\n\n(function sortableModule(factory) {\n\t\"use strict\";\n\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(factory);\n\t}\n\telse if (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t\tmodule.exports = factory();\n\t}\n\telse {\n\t\t/* jshint sub:true */\n\t\twindow[\"Sortable\"] = factory();\n\t}\n})(function sortableFactory() {\n\t\"use strict\";\n\n\tif (typeof window === \"undefined\" || !window.document) {\n\t\treturn function sortableError() {\n\t\t\tthrow new Error(\"Sortable.js requires a window with a document\");\n\t\t};\n\t}\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\t\tlastDownEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\t\tscrollCustomFn,\n\n\t\toldIndex,\n\t\tnewIndex,\n\t\toldDraggableIndex,\n\t\tnewDraggableIndex,\n\n\t\tactiveGroup,\n\t\tputSortable,\n\n\t\tautoScrolls = [],\n\t\tscrolling = false,\n\n\t\tawaitingDragStarted = false,\n\t\tignoreNextClick = false,\n\t\tsortables = [],\n\n\t\tpointerElemChangedInterval,\n\t\tlastPointerElemX,\n\t\tlastPointerElemY,\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\n\t\tlastTarget,\n\t\tlastDirection,\n\t\tpastFirstInvertThresh = false,\n\t\tisCircumstantialInvert = false,\n\t\tlastMode, // 'swap' or 'insert'\n\n\t\ttargetMoveDistance,\n\n\t\t// For positioning ghost absolutely\n\t\tghostRelativeParent,\n\t\tghostRelativeParentInitialScroll = [], // (left, top)\n\n\t\trealDragElRect, // dragEl rect after current animation\n\n\t\t/** @const */\n\t\tR_SPACE = /\\s+/g,\n\n\t\texpando = 'Sortable' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\t\tsetTimeout = win.setTimeout,\n\n\t\t$ = win.jQuery || win.Zepto,\n\t\tPolymer = win.Polymer,\n\n\t\tcaptureMode = {\n\t\t\tcapture: false,\n\t\t\tpassive: false\n\t\t},\n\n\t\tIE11OrLess = !!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\\.|msie|iemobile)/i),\n\t\tEdge = !!navigator.userAgent.match(/Edge/i),\n\t\tFireFox = !!navigator.userAgent.match(/firefox/i),\n\t\tSafari = !!(navigator.userAgent.match(/safari/i) && !navigator.userAgent.match(/chrome/i) && !navigator.userAgent.match(/android/i)),\n\t\tIOS = !!(navigator.userAgent.match(/iP(ad|od|hone)/i)),\n\n\t\tPositionGhostAbsolutely = IOS,\n\n\t\tCSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n\n\t\t// This will not pass for IE9, because IE9 DnD only works on anchors\n\t\tsupportDraggable = ('draggable' in document.createElement('div')),\n\n\t\tsupportCssPointerEvents = (function() {\n\t\t\t// false when <= IE11\n\t\t\tif (IE11OrLess) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar el = document.createElement('x');\n\t\t\tel.style.cssText = 'pointer-events:auto';\n\t\t\treturn el.style.pointerEvents === 'auto';\n\t\t})(),\n\n\t\t_silent = false,\n\t\t_alignedSilent = false,\n\n\t\tabs = Math.abs,\n\t\tmin = Math.min,\n\t\tmax = Math.max,\n\n\t\tsavedInputChecked = [],\n\n\t\t_detectDirection = function(el, options) {\n\t\t\tvar elCSS = _css(el),\n\t\t\t\telWidth = parseInt(elCSS.width)\n\t\t\t\t\t- parseInt(elCSS.paddingLeft)\n\t\t\t\t\t- parseInt(elCSS.paddingRight)\n\t\t\t\t\t- parseInt(elCSS.borderLeftWidth)\n\t\t\t\t\t- parseInt(elCSS.borderRightWidth),\n\t\t\t\tchild1 = _getChild(el, 0, options),\n\t\t\t\tchild2 = _getChild(el, 1, options),\n\t\t\t\tfirstChildCSS = child1 && _css(child1),\n\t\t\t\tsecondChildCSS = child2 && _css(child2),\n\t\t\t\tfirstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + _getRect(child1).width,\n\t\t\t\tsecondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + _getRect(child2).width;\n\n\t\t\tif (elCSS.display === 'flex') {\n\t\t\t\treturn elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse'\n\t\t\t\t? 'vertical' : 'horizontal';\n\t\t\t}\n\n\t\t\tif (elCSS.display === 'grid') {\n\t\t\t\treturn elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n\t\t\t}\n\n\t\t\tif (child1 && firstChildCSS.float !== 'none') {\n\t\t\t\tvar touchingSideChild2 = firstChildCSS.float === 'left' ? 'left' : 'right';\n\n\t\t\t\treturn child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ?\n\t\t\t\t\t'vertical' : 'horizontal';\n\t\t\t}\n\n\t\t\treturn (child1 &&\n\t\t\t\t(\n\t\t\t\t\tfirstChildCSS.display === 'block' ||\n\t\t\t\t\tfirstChildCSS.display === 'flex' ||\n\t\t\t\t\tfirstChildCSS.display === 'table' ||\n\t\t\t\t\tfirstChildCSS.display === 'grid' ||\n\t\t\t\t\tfirstChildWidth >= elWidth &&\n\t\t\t\t\telCSS[CSSFloatProperty] === 'none' ||\n\t\t\t\t\tchild2 &&\n\t\t\t\t\telCSS[CSSFloatProperty] === 'none' &&\n\t\t\t\t\tfirstChildWidth + secondChildWidth > elWidth\n\t\t\t\t) ?\n\t\t\t\t'vertical' : 'horizontal'\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n\t\t * @param  {Number} x      X position\n\t\t * @param  {Number} y      Y position\n\t\t * @return {HTMLElement}   Element of the first found nearest Sortable\n\t\t */\n\t\t_detectNearestEmptySortable = function(x, y) {\n\t\t\tfor (var i = 0; i < sortables.length; i++) {\n\t\t\t\tif (_lastChild(sortables[i])) continue;\n\n\t\t\t\tvar rect = _getRect(sortables[i]),\n\t\t\t\t\tthreshold = sortables[i][expando].options.emptyInsertThreshold,\n\t\t\t\t\tinsideHorizontally = x >= (rect.left - threshold) && x <= (rect.right + threshold),\n\t\t\t\t\tinsideVertically = y >= (rect.top - threshold) && y <= (rect.bottom + threshold);\n\n\t\t\t\tif (threshold && insideHorizontally && insideVertically) {\n\t\t\t\t\treturn sortables[i];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_isClientInRowColumn = function(x, y, el, axis, options) {\n\t\t\tvar targetRect = _getRect(el),\n\t\t\t\ttargetS1Opp = axis === 'vertical' ? targetRect.left : targetRect.top,\n\t\t\t\ttargetS2Opp = axis === 'vertical' ? targetRect.right : targetRect.bottom,\n\t\t\t\tmouseOnOppAxis = axis === 'vertical' ? x : y;\n\n\t\t\treturn targetS1Opp < mouseOnOppAxis && mouseOnOppAxis < targetS2Opp;\n\t\t},\n\n\t\t_isElInRowColumn = function(el1, el2, axis) {\n\t\t\tvar el1Rect = el1 === dragEl && realDragElRect || _getRect(el1),\n\t\t\t\tel2Rect = el2 === dragEl && realDragElRect || _getRect(el2),\n\t\t\t\tel1S1Opp = axis === 'vertical' ? el1Rect.left : el1Rect.top,\n\t\t\t\tel1S2Opp = axis === 'vertical' ? el1Rect.right : el1Rect.bottom,\n\t\t\t\tel1OppLength = axis === 'vertical' ? el1Rect.width : el1Rect.height,\n\t\t\t\tel2S1Opp = axis === 'vertical' ? el2Rect.left : el2Rect.top,\n\t\t\t\tel2S2Opp = axis === 'vertical' ? el2Rect.right : el2Rect.bottom,\n\t\t\t\tel2OppLength = axis === 'vertical' ? el2Rect.width : el2Rect.height;\n\n\t\t\treturn (\n\t\t\t\tel1S1Opp === el2S1Opp ||\n\t\t\t\tel1S2Opp === el2S2Opp ||\n\t\t\t\t(el1S1Opp + el1OppLength / 2) === (el2S1Opp + el2OppLength / 2)\n\t\t\t);\n\t\t},\n\n\t\t_getParentAutoScrollElement = function(el, includeSelf) {\n\t\t\t// skip to window\n\t\t\tif (!el || !el.getBoundingClientRect) return _getWindowScrollingElement();\n\n\t\t\tvar elem = el;\n\t\t\tvar gotSelf = false;\n\t\t\tdo {\n\t\t\t\t// we don't need to get elem css if it isn't even overflowing in the first place (performance)\n\t\t\t\tif (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n\t\t\t\t\tvar elemCSS = _css(elem);\n\t\t\t\t\tif (\n\t\t\t\t\t\telem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') ||\n\t\t\t\t\t\telem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (!elem || !elem.getBoundingClientRect || elem === document.body) return _getWindowScrollingElement();\n\n\t\t\t\t\t\tif (gotSelf || includeSelf) return elem;\n\t\t\t\t\t\tgotSelf = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/* jshint boss:true */\n\t\t\t} while (elem = elem.parentNode);\n\n\t\t\treturn _getWindowScrollingElement();\n\t\t},\n\n\t\t_getWindowScrollingElement = function() {\n\t\t\tif (IE11OrLess) {\n\t\t\t\treturn document.documentElement;\n\t\t\t} else {\n\t\t\t\treturn document.scrollingElement;\n\t\t\t}\n\t\t},\n\n\t\t_scrollBy = function(el, x, y) {\n\t\t\tel.scrollLeft += x;\n\t\t\tel.scrollTop += y;\n\t\t},\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl, /**Boolean*/isFallback) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (options.scroll) {\n\t\t\t\tvar _this = rootEl ? rootEl[expando] : window,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinScroller = _getWindowScrollingElement(),\n\n\t\t\t\t\tscrollThisInstance = false;\n\n\t\t\t\t// Detect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\t_clearAutoScrolls();\n\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollCustomFn = options.scrollFn;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = _getParentAutoScrollElement(rootEl, true);\n\t\t\t\t\t\tscrollParentEl = scrollEl;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tvar layersOut = 0;\n\t\t\t\tvar currentParent = scrollEl;\n\t\t\t\tdo {\n\t\t\t\t\tvar\tel = currentParent,\n\t\t\t\t\t\trect = _getRect(el),\n\n\t\t\t\t\t\ttop = rect.top,\n\t\t\t\t\t\tbottom = rect.bottom,\n\t\t\t\t\t\tleft = rect.left,\n\t\t\t\t\t\tright = rect.right,\n\n\t\t\t\t\t\twidth = rect.width,\n\t\t\t\t\t\theight = rect.height,\n\n\t\t\t\t\t\tscrollWidth,\n\t\t\t\t\t\tscrollHeight,\n\n\t\t\t\t\t\tcss,\n\n\t\t\t\t\t\tvx,\n\t\t\t\t\t\tvy,\n\n\t\t\t\t\t\tcanScrollX,\n\t\t\t\t\t\tcanScrollY,\n\n\t\t\t\t\t\tscrollPosX,\n\t\t\t\t\t\tscrollPosY;\n\n\n\t\t\t\t\tscrollWidth = el.scrollWidth;\n\t\t\t\t\tscrollHeight = el.scrollHeight;\n\n\t\t\t\t\tcss = _css(el);\n\n\t\t\t\t\tscrollPosX = el.scrollLeft;\n\t\t\t\t\tscrollPosY = el.scrollTop;\n\n\t\t\t\t\tif (el === winScroller) {\n\t\t\t\t\t\tcanScrollX = width < scrollWidth && (css.overflowX === 'auto' || css.overflowX === 'scroll' || css.overflowX === 'visible');\n\t\t\t\t\t\tcanScrollY = height < scrollHeight && (css.overflowY === 'auto' || css.overflowY === 'scroll' || css.overflowY === 'visible');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcanScrollX = width < scrollWidth && (css.overflowX === 'auto' || css.overflowX === 'scroll');\n\t\t\t\t\t\tcanScrollY = height < scrollHeight && (css.overflowY === 'auto' || css.overflowY === 'scroll');\n\t\t\t\t\t}\n\n\t\t\t\t\tvx = canScrollX && (abs(right - x) <= sens && (scrollPosX + width) < scrollWidth) - (abs(left - x) <= sens && !!scrollPosX);\n\n\t\t\t\t\tvy = canScrollY && (abs(bottom - y) <= sens && (scrollPosY + height) < scrollHeight) - (abs(top - y) <= sens && !!scrollPosY);\n\n\n\t\t\t\t\tif (!autoScrolls[layersOut]) {\n\t\t\t\t\t\tfor (var i = 0; i <= layersOut; i++) {\n\t\t\t\t\t\t\tif (!autoScrolls[i]) {\n\t\t\t\t\t\t\t\tautoScrolls[i] = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n\t\t\t\t\t\tautoScrolls[layersOut].el = el;\n\t\t\t\t\t\tautoScrolls[layersOut].vx = vx;\n\t\t\t\t\t\tautoScrolls[layersOut].vy = vy;\n\n\t\t\t\t\t\tclearInterval(autoScrolls[layersOut].pid);\n\n\t\t\t\t\t\tif (el && (vx != 0 || vy != 0)) {\n\t\t\t\t\t\t\tscrollThisInstance = true;\n\t\t\t\t\t\t\t/* jshint loopfunc:true */\n\t\t\t\t\t\t\tautoScrolls[layersOut].pid = setInterval((function () {\n\t\t\t\t\t\t\t\t// emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n\t\t\t\t\t\t\t\tif (isFallback && this.layer === 0) {\n\t\t\t\t\t\t\t\t\tSortable.active._emulateDragOver(true);\n\t\t\t\t\t\t\t\t\tSortable.active._onTouchMove(touchEvt, true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n\t\t\t\t\t\t\t\tvar scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n\t\t\t\t\t\t\t\tif ('function' === typeof(scrollCustomFn)) {\n\t\t\t\t\t\t\t\t\tif (scrollCustomFn.call(_this, scrollOffsetX, scrollOffsetY, evt, touchEvt, autoScrolls[this.layer].el) !== 'continue') {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n\t\t\t\t\t\t\t}).bind({layer: layersOut}), 24);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlayersOut++;\n\t\t\t\t} while (options.bubbleScroll && currentParent !== winScroller && (currentParent = _getParentAutoScrollElement(currentParent, false)));\n\t\t\t\tscrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n\t\t\t}\n\t\t}, 30),\n\n\t\t_clearAutoScrolls = function () {\n\t\t\tautoScrolls.forEach(function(autoScroll) {\n\t\t\t\tclearInterval(autoScroll.pid);\n\t\t\t});\n\t\t\tautoScrolls = [];\n\t\t},\n\n\t\t_prepareGroup = function (options) {\n\t\t\tfunction toFn(value, pull) {\n\t\t\t\treturn function(to, from, dragEl, evt) {\n\t\t\t\t\tvar sameGroup = to.options.group.name &&\n\t\t\t\t\t\t\t\t\tfrom.options.group.name &&\n\t\t\t\t\t\t\t\t\tto.options.group.name === from.options.group.name;\n\n\t\t\t\t\tif (value == null && (pull || sameGroup)) {\n\t\t\t\t\t\t// Default pull value\n\t\t\t\t\t\t// Default pull and put value if same group\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if (value == null || value === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (pull && value === 'clone') {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t} else if (typeof value === 'function') {\n\t\t\t\t\t\treturn toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar otherGroup = (pull ? to : from).options.group.name;\n\n\t\t\t\t\t\treturn (value === true ||\n\t\t\t\t\t\t(typeof value === 'string' && value === otherGroup) ||\n\t\t\t\t\t\t(value.join && value.indexOf(otherGroup) > -1));\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar group = {};\n\t\t\tvar originalGroup = options.group;\n\n\t\t\tif (!originalGroup || typeof originalGroup != 'object') {\n\t\t\t\toriginalGroup = {name: originalGroup};\n\t\t\t}\n\n\t\t\tgroup.name = originalGroup.name;\n\t\t\tgroup.checkPull = toFn(originalGroup.pull, true);\n\t\t\tgroup.checkPut = toFn(originalGroup.put);\n\t\t\tgroup.revertClone = originalGroup.revertClone;\n\n\t\t\toptions.group = group;\n\t\t},\n\n\t\t_checkAlignment = function(evt) {\n\t\t\tif (!dragEl || !dragEl.parentNode) return;\n\t\t\tdragEl.parentNode[expando] && dragEl.parentNode[expando]._computeIsAligned(evt);\n\t\t},\n\n\t\t_hideGhostForTarget = function() {\n\t\t\tif (!supportCssPointerEvents && ghostEl) {\n\t\t\t\t_css(ghostEl, 'display', 'none');\n\t\t\t}\n\t\t},\n\n\t\t_unhideGhostForTarget = function() {\n\t\t\tif (!supportCssPointerEvents && ghostEl) {\n\t\t\t\t_css(ghostEl, 'display', '');\n\t\t\t}\n\t\t};\n\n\n\t// #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\tdocument.addEventListener('click', function(evt) {\n\t\tif (ignoreNextClick) {\n\t\t\tevt.preventDefault();\n\t\t\tevt.stopPropagation && evt.stopPropagation();\n\t\t\tevt.stopImmediatePropagation && evt.stopImmediatePropagation();\n\t\t\tignoreNextClick = false;\n\t\t\treturn false;\n\t\t}\n\t}, true);\n\n\tvar nearestEmptyInsertDetectEvent = function(evt) {\n\t\tif (dragEl) {\n\t\t\tevt = evt.touches ? evt.touches[0] : evt;\n\t\t\tvar nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n\t\t\tif (nearest) {\n\t\t\t\t// Create imitation event\n\t\t\t\tvar event = {};\n\t\t\t\tfor (var i in evt) {\n\t\t\t\t\tevent[i] = evt[i];\n\t\t\t\t}\n\t\t\t\tevent.target = event.rootEl = nearest;\n\t\t\t\tevent.preventDefault = void 0;\n\t\t\t\tevent.stopPropagation = void 0;\n\t\t\t\tnearest[expando]._onDragOver(event);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tif (!(el && el.nodeType && el.nodeType === 1)) {\n\t\t\tthrow 'Sortable: `el` must be HTMLElement, not ' + {}.toString.call(el);\n\t\t}\n\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: null,\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tbubbleScroll: true,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? '>li' : '>*',\n\t\t\tswapThreshold: 1, // percentage; 0 <= x <= 1\n\t\t\tinvertSwap: false, // invert always\n\t\t\tinvertedSwapThreshold: null, // will be set to same as swapThreshold if default\n\t\t\tremoveCloneOnHide: true,\n\t\t\tdirection: function() {\n\t\t\t\treturn _detectDirection(el, this.options);\n\t\t\t},\n\t\t\tghostClass: 'sortable-ghost',\n\t\t\tchosenClass: 'sortable-chosen',\n\t\t\tdragClass: 'sortable-drag',\n\t\t\tignore: 'a, img',\n\t\t\tfilter: null,\n\t\t\tpreventOnFilter: true,\n\t\t\tanimation: 0,\n\t\t\teasing: null,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: 'data-id',\n\t\t\tdelay: 0,\n\t\t\tdelayOnTouchOnly: false,\n\t\t\ttouchStartThreshold: parseInt(window.devicePixelRatio, 10) || 1,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: 'sortable-fallback',\n\t\t\tfallbackOnBody: false,\n\t\t\tfallbackTolerance: 0,\n\t\t\tfallbackOffset: {x: 0, y: 0},\n\t\t\tsupportPointer: Sortable.supportPointer !== false && ('PointerEvent' in window),\n\t\t\temptyInsertThreshold: 5\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\tif (this.nativeDraggable) {\n\t\t\t// Touch start threshold cannot be greater than the native dragstart threshold\n\t\t\tthis.options.touchStartThreshold = 1;\n\t\t}\n\n\t\t// Bind events\n\t\tif (options.supportPointer) {\n\t\t\t_on(el, 'pointerdown', this._onTapStart);\n\t\t} else {\n\t\t\t_on(el, 'mousedown', this._onTapStart);\n\t\t\t_on(el, 'touchstart', this._onTapStart);\n\t\t}\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, 'dragover', this);\n\t\t\t_on(el, 'dragenter', this);\n\t\t}\n\n\t\tsortables.push(this.el);\n\n\t\t// Restore sorting\n\t\toptions.store && options.store.get && this.sort(options.store.get(this) || []);\n\t}\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_computeIsAligned: function(evt) {\n\t\t\tvar target;\n\n\t\t\tif (ghostEl && !supportCssPointerEvents) {\n\t\t\t\t_hideGhostForTarget();\n\t\t\t\ttarget = document.elementFromPoint(evt.clientX, evt.clientY);\n\t\t\t\t_unhideGhostForTarget();\n\t\t\t} else {\n\t\t\t\ttarget = evt.target;\n\t\t\t}\n\n\t\t\ttarget = _closest(target, this.options.draggable, this.el, false);\n\t\t\tif (_alignedSilent) return;\n\t\t\tif (!dragEl || dragEl.parentNode !== this.el) return;\n\n\t\t\tvar children = this.el.children;\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t// Don't change for target in case it is changed to aligned before onDragOver is fired\n\t\t\t\tif (_closest(children[i], this.options.draggable, this.el, false) && children[i] !== target) {\n\t\t\t\t\tchildren[i].sortableMouseAligned = _isClientInRowColumn(evt.clientX, evt.clientY, children[i], this._getDirection(evt, null), this.options);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Used for nulling last target when not in element, nothing to do with checking if aligned\n\t\t\tif (!_closest(target, this.options.draggable, this.el, true)) {\n\t\t\t\tlastTarget = null;\n\t\t\t}\n\n\t\t\t_alignedSilent = true;\n\t\t\tsetTimeout(function() {\n\t\t\t\t_alignedSilent = false;\n\t\t\t}, 30);\n\n\t\t},\n\n\t\t_getDirection: function(evt, target) {\n\t\t\treturn (typeof this.options.direction === 'function') ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n\t\t},\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tif (!evt.cancelable) return;\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\tpreventOnFilter = options.preventOnFilter,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = evt.target.shadowRoot && ((evt.path && evt.path[0]) || (evt.composedPath && evt.composedPath()[0])) || target,\n\t\t\t\tfilter = options.filter,\n\t\t\t\tstartIndex,\n\t\t\t\tstartDraggableIndex;\n\n\t\t\t_saveInputCheckedState(el);\n\n\t\t\t// Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\t\t\tif (dragEl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button and enabled\n\t\t\t}\n\n\t\t\t// cancel dnd if original target is content editable\n\t\t\tif (originalTarget.isContentEditable) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttarget = _closest(target, options.draggable, el, false);\n\n\n\t\t\tif (lastDownEl === target) {\n\t\t\t\t// Ignoring duplicate `down`\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Get the index of the dragged element within its parent\n\t\t\tstartIndex = _index(target);\n\t\t\tstartDraggableIndex = _index(target, options.draggable);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === 'function') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, 'filter', target, el, el, startIndex, undefined, startDraggableIndex);\n\t\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(',').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el, false);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, 'filter', target, el, el, startIndex, undefined, startDraggableIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el, false)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target, startIndex, startDraggableIndex);\n\t\t},\n\n\n\t\t_handleAutoScroll: function(evt, fallback) {\n\t\t\tif (!dragEl || !this.options.scroll) return;\n\t\t\tvar x = evt.clientX,\n\t\t\t\ty = evt.clientY,\n\n\t\t\t\telem = document.elementFromPoint(x, y),\n\t\t\t\t_this = this;\n\n\t\t\t// IE does not seem to have native autoscroll,\n\t\t\t// Edge's autoscroll seems too conditional,\n\t\t\t// MACOS Safari does not have autoscroll,\n\t\t\t// Firefox and Chrome are good\n\t\t\tif (fallback || Edge || IE11OrLess || Safari) {\n\t\t\t\t_autoScroll(evt, _this.options, elem, fallback);\n\n\t\t\t\t// Listener for pointer element change\n\t\t\t\tvar ogElemScroller = _getParentAutoScrollElement(elem, true);\n\t\t\t\tif (\n\t\t\t\t\tscrolling &&\n\t\t\t\t\t(\n\t\t\t\t\t\t!pointerElemChangedInterval ||\n\t\t\t\t\t\tx !== lastPointerElemX ||\n\t\t\t\t\t\ty !== lastPointerElemY\n\t\t\t\t\t)\n\t\t\t\t) {\n\n\t\t\t\t\tpointerElemChangedInterval && clearInterval(pointerElemChangedInterval);\n\t\t\t\t\t// Detect for pointer elem change, emulating native DnD behaviour\n\t\t\t\t\tpointerElemChangedInterval = setInterval(function() {\n\t\t\t\t\t\tif (!dragEl) return;\n\t\t\t\t\t\t// could also check if scroll direction on newElem changes due to parent autoscrolling\n\t\t\t\t\t\tvar newElem = _getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\t\t\t\t\t\tif (newElem !== ogElemScroller) {\n\t\t\t\t\t\t\togElemScroller = newElem;\n\t\t\t\t\t\t\t_clearAutoScrolls();\n\t\t\t\t\t\t\t_autoScroll(evt, _this.options, ogElemScroller, fallback);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\t\t\t\t\tlastPointerElemX = x;\n\t\t\t\t\tlastPointerElemY = y;\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n\t\t\t\tif (!_this.options.bubbleScroll || _getParentAutoScrollElement(elem, true) === _getWindowScrollingElement()) {\n\t\t\t\t\t_clearAutoScrolls();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t_autoScroll(evt, _this.options, _getParentAutoScrollElement(elem, false), false);\n\t\t\t}\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target, /** Number */startIndex, /** Number */startDraggableIndex) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tlastDownEl = target;\n\t\t\t\tactiveGroup = options.group;\n\t\t\t\toldIndex = startIndex;\n\t\t\t\toldDraggableIndex = startDraggableIndex;\n\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: (touch || evt).clientX,\n\t\t\t\t\tclientY: (touch || evt).clientY\n\t\t\t\t};\n\n\t\t\t\tthis._lastX = (touch || evt).clientX;\n\t\t\t\tthis._lastY = (touch || evt).clientY;\n\n\t\t\t\tdragEl.style['will-change'] = 'all';\n\t\t\t\t// undo animation if needed\n\t\t\t\tdragEl.style.transition = '';\n\t\t\t\tdragEl.style.transform = '';\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDragEvents();\n\n\t\t\t\t\tif (!FireFox && _this.nativeDraggable) {\n\t\t\t\t\t\tdragEl.draggable = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(evt, touch);\n\n\t\t\t\t\t// Drag start event\n\t\t\t\t\t_dispatchEvent(_this, rootEl, 'choose', dragEl, rootEl, rootEl, oldIndex, undefined, oldDraggableIndex);\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, options.chosenClass, true);\n\t\t\t\t};\n\n\t\t\t\t// Disable \"draggable\"\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\t_on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n\t\t\t\t_on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n\t\t\t\t_on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n\n\t\t\t\t_on(ownerDocument, 'mouseup', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchend', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchcancel', _this._onDrop);\n\n\t\t\t\t// Make dragEl draggable (must be before delay for FireFox)\n\t\t\t\tif (FireFox && this.nativeDraggable) {\n\t\t\t\t\tthis.options.touchStartThreshold = 4;\n\t\t\t\t\tdragEl.draggable = true;\n\t\t\t\t}\n\n\t\t\t\t// Delay is impossible for native DnD in Edge or IE\n\t\t\t\tif (options.delay && (options.delayOnTouchOnly ? touch : true) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n\t\t\t\t\t_on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n\t\t\t\t\toptions.supportPointer && _on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_delayedDragTouchMoveHandler: function (/** TouchEvent|PointerEvent **/e) {\n\t\t\tvar touch = e.touches ? e.touches[0] : e;\n\t\t\tif (max(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY))\n\t\t\t\t\t>= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))\n\t\t\t) {\n\t\t\t\tthis._disableDelayedDrag();\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tdragEl && _disableDraggable(dragEl);\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\tthis._disableDelayedDragEvents();\n\t\t},\n\n\t\t_disableDelayedDragEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\t\t\t_off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchend', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n\t\t\t_off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n\t\t\t_off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Event */evt, /** Touch */touch) {\n\t\t\ttouch = touch || (evt.pointerType == 'touch' ? evt : null);\n\n\t\t\tif (!this.nativeDraggable || touch) {\n\t\t\t\tif (this.options.supportPointer) {\n\t\t\t\t\t_on(document, 'pointermove', this._onTouchMove);\n\t\t\t\t} else if (touch) {\n\t\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\n\t\t\t\t} else {\n\t\t\t\t\t_on(document, 'mousemove', this._onTouchMove);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_on(dragEl, 'dragend', this);\n\t\t\t\t_on(rootEl, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\t// Timeout neccessary for IE9\n\t\t\t\t\t_nextTick(function () {\n\t\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function (fallback, evt) {\n\t\t\tawaitingDragStarted = false;\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t_on(document, 'dragover', this._handleAutoScroll);\n\t\t\t\t\t_on(document, 'dragover', _checkAlignment);\n\t\t\t\t}\n\t\t\t\tvar options = this.options;\n\n\t\t\t\t// Apply effect\n\t\t\t\t!fallback && _toggleClass(dragEl, options.dragClass, false);\n\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\n\n\t\t\t\t// In case dragging an animated element\n\t\t\t\t_css(dragEl, 'transform', '');\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\tfallback && this._appendGhost();\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, rootEl, oldIndex, undefined, oldDraggableIndex, undefined, evt);\n\t\t\t} else {\n\t\t\t\tthis._nulling();\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function (forAutoScroll) {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY && !forAutoScroll) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\t_hideGhostForTarget();\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n\t\t\t\tvar parent = target;\n\n\t\t\t\twhile (target && target.shadowRoot) {\n\t\t\t\t\ttarget = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n\t\t\t\t\tif (target === parent) break;\n\t\t\t\t\tparent = target;\n\t\t\t\t}\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando]) {\n\t\t\t\t\t\t\tvar inserted;\n\n\t\t\t\t\t\t\tinserted = parent[expando]._onDragOver({\n\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (inserted && !this.options.dragoverBubble) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\t\t\t\tdragEl.parentNode[expando]._computeIsAligned(touchEvt);\n\n\t\t\t\t_unhideGhostForTarget();\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt, forAutoScroll) {\n\t\t\tif (tapEvt) {\n\t\t\t\tvar\toptions = this.options,\n\t\t\t\t\tfallbackTolerance = options.fallbackTolerance,\n\t\t\t\t\tfallbackOffset = options.fallbackOffset,\n\t\t\t\t\ttouch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tmatrix = ghostEl && _matrix(ghostEl),\n\t\t\t\t\tscaleX = ghostEl && matrix && matrix.a,\n\t\t\t\t\tscaleY = ghostEl && matrix && matrix.d,\n\t\t\t\t\trelativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && _getRelativeScrollOffset(ghostRelativeParent),\n\t\t\t\t\tdx = ((touch.clientX - tapEvt.clientX)\n\t\t\t\t\t\t\t+ fallbackOffset.x) / (scaleX || 1)\n\t\t\t\t\t\t\t+ (relativeScrollOffset ? (relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0]) : 0) / (scaleX || 1),\n\t\t\t\t\tdy = ((touch.clientY - tapEvt.clientY)\n\t\t\t\t\t\t\t+ fallbackOffset.y) / (scaleY || 1)\n\t\t\t\t\t\t\t+ (relativeScrollOffset ? (relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1]) : 0) / (scaleY || 1),\n\t\t\t\t\ttranslate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';\n\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active && !awaitingDragStarted) {\n\t\t\t\t\tif (fallbackTolerance &&\n\t\t\t\t\t\tmin(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY)) < fallbackTolerance\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._onDragStart(evt, true);\n\t\t\t\t}\n\n\t\t\t\t!forAutoScroll && this._handleAutoScroll(touch, true);\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\n\n\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\t// Bug if using scale(): https://stackoverflow.com/questions/2637058\n\t\t\t// Not being adjusted for\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar container = this.options.fallbackOnBody ? document.body : rootEl,\n\t\t\t\t\trect = _getRect(dragEl, true, container, !PositionGhostAbsolutely),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\toptions = this.options;\n\n\t\t\t\t// Position absolutely\n\t\t\t\tif (PositionGhostAbsolutely) {\n\t\t\t\t\t// Get relatively positioned parent\n\t\t\t\t\tghostRelativeParent = container;\n\n\t\t\t\t\twhile (\n\t\t\t\t\t\t_css(ghostRelativeParent, 'position') === 'static' &&\n\t\t\t\t\t\t_css(ghostRelativeParent, 'transform') === 'none' &&\n\t\t\t\t\t\tghostRelativeParent !== document\n\t\t\t\t\t) {\n\t\t\t\t\t\tghostRelativeParent = ghostRelativeParent.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ghostRelativeParent !== document) {\n\t\t\t\t\t\tvar ghostRelativeParentRect = _getRect(ghostRelativeParent, true);\n\n\t\t\t\t\t\trect.top -= ghostRelativeParentRect.top;\n\t\t\t\t\t\trect.left -= ghostRelativeParentRect.left;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n\t\t\t\t\t\tif (ghostRelativeParent === document) ghostRelativeParent = _getWindowScrollingElement();\n\n\t\t\t\t\t\trect.top += ghostRelativeParent.scrollTop;\n\t\t\t\t\t\trect.left += ghostRelativeParent.scrollLeft;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tghostRelativeParent = _getWindowScrollingElement();\n\t\t\t\t\t}\n\t\t\t\t\tghostRelativeParentInitialScroll = _getRelativeScrollOffset(ghostRelativeParent);\n\t\t\t\t}\n\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, options.fallbackClass, true);\n\t\t\t\t_toggleClass(ghostEl, options.dragClass, true);\n\n\t\t\t\t_css(ghostEl, 'box-sizing', 'border-box');\n\t\t\t\t_css(ghostEl, 'margin', 0);\n\t\t\t\t_css(ghostEl, 'top', rect.top);\n\t\t\t\t_css(ghostEl, 'left', rect.left);\n\t\t\t\t_css(ghostEl, 'width', rect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height);\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\n\t\t\t\t_css(ghostEl, 'position', (PositionGhostAbsolutely ? 'absolute' : 'fixed'));\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\n\t\t\t\t_css(ghostEl, 'pointerEvents', 'none');\n\n\t\t\t\tcontainer.appendChild(ghostEl);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/fallback) {\n\t\t\tvar _this = this;\n\t\t\tvar dataTransfer = evt.dataTransfer;\n\t\t\tvar options = _this.options;\n\n\t\t\t// Setup clone\n\t\t\tcloneEl = _clone(dragEl);\n\n\t\t\tcloneEl.draggable = false;\n\t\t\tcloneEl.style['will-change'] = '';\n\n\t\t\tthis._hideClone();\n\n\t\t\t_toggleClass(cloneEl, _this.options.chosenClass, false);\n\n\n\t\t\t// #1143: IFrame support workaround\n\t\t\t_this._cloneId = _nextTick(function () {\n\t\t\t\tif (!_this.options.removeCloneOnHide) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t}\n\t\t\t\t_dispatchEvent(_this, rootEl, 'clone', dragEl);\n\t\t\t});\n\n\n\t\t\t!fallback && _toggleClass(dragEl, options.dragClass, true);\n\n\t\t\t// Set proper drop events\n\t\t\tif (fallback) {\n\t\t\t\tignoreNextClick = true;\n\t\t\t\t_this._loopId = setInterval(_this._emulateDragOver, 50);\n\t\t\t} else {\n\t\t\t\t// Undo what was set in _prepareDragStart before drag started\n\t\t\t\t_off(document, 'mouseup', _this._onDrop);\n\t\t\t\t_off(document, 'touchend', _this._onDrop);\n\t\t\t\t_off(document, 'touchcancel', _this._onDrop);\n\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\t\toptions.setData && options.setData.call(_this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, 'drop', _this);\n\n\t\t\t\t// #1276 fix:\n\t\t\t\t_css(dragEl, 'transform', 'translateZ(0)');\n\t\t\t}\n\n\t\t\tawaitingDragStarted = true;\n\n\t\t\t_this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n\t\t\t_on(document, 'selectstart', _this);\n\t\t\tif (Safari) {\n\t\t\t\t_css(document.body, 'user-select', 'none');\n\t\t\t}\n\t\t},\n\n\n\t\t// Returns true - if no further action is needed (either inserted or another condition)\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget = evt.target,\n\t\t\t\tdragRect,\n\t\t\t\ttargetRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tactiveSortable = Sortable.active,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tcanSort = options.sort,\n\t\t\t\t_this = this;\n\n\t\t\tif (_silent) return;\n\n\t\t\t// Return invocation when dragEl is inserted (or completed)\n\t\t\tfunction completed(insertion) {\n\t\t\t\tif (insertion) {\n\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactiveSortable._showClone(_this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (activeSortable) {\n\t\t\t\t\t\t// Set ghost class to new sortable's ghost class\n\t\t\t\t\t\t_toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n\t\t\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (putSortable !== _this && _this !== Sortable.active) {\n\t\t\t\t\t\tputSortable = _this;\n\t\t\t\t\t} else if (_this === Sortable.active) {\n\t\t\t\t\t\tputSortable = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Animation\n\t\t\t\t\tdragRect && _this._animate(dragRect, dragEl);\n\t\t\t\t\ttarget && targetRect && _this._animate(targetRect, target);\n\t\t\t\t}\n\n\n\t\t\t\t// Null lastTarget if it is not inside a previously swapped element\n\t\t\t\tif ((target === dragEl && !dragEl.animated) || (target === el && !target.animated)) {\n\t\t\t\t\tlastTarget = null;\n\t\t\t\t}\n\n\t\t\t\t// no bubbling and not fallback\n\t\t\t\tif (!options.dragoverBubble && !evt.rootEl && target !== document) {\n\t\t\t\t\t_this._handleAutoScroll(evt);\n\t\t\t\t\tdragEl.parentNode[expando]._computeIsAligned(evt);\n\n\t\t\t\t\t// Do not detect for empty insert if already inserted\n\t\t\t\t\t!insertion && nearestEmptyInsertDetectEvent(evt);\n\t\t\t\t}\n\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Call when dragEl has been inserted\n\t\t\tfunction changed() {\n\t\t\t\t_dispatchEvent(_this, rootEl, 'change', target, el, rootEl, oldIndex, _index(dragEl), oldDraggableIndex, _index(dragEl, options.draggable), evt);\n\t\t\t}\n\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t}\n\n\n\t\t\tmoved = true;\n\n\t\t\ttarget = _closest(target, options.draggable, el, true);\n\n\t\t\t// target is dragEl or target is animated\n\t\t\tif (dragEl.contains(evt.target) || target.animated) {\n\t\t\t\treturn completed(false);\n\t\t\t}\n\n\t\t\tif (target !== dragEl) {\n\t\t\t\tignoreNextClick = false;\n\t\t\t}\n\n\t\t\tif (activeSortable && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t: (\n\t\t\t\t\t\tputSortable === this ||\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t(this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) &&\n\t\t\t\t\t\t\tgroup.checkPut(this, activeSortable, dragEl, evt)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tvar axis = this._getDirection(evt, target);\n\n\t\t\t\tdragRect = _getRect(dragEl);\n\n\t\t\t\tif (revert) {\n\t\t\t\t\tthis._hideClone();\n\t\t\t\t\tparentEl = rootEl; // actualization\n\n\t\t\t\t\tif (nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, nextEl);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn completed(true);\n\t\t\t\t}\n\n\t\t\t\tvar elLastChild = _lastChild(el);\n\n\t\t\t\tif (!elLastChild || _ghostIsLast(evt, axis, el) && !elLastChild.animated) {\n\t\t\t\t\t// assign target only if condition is true\n\t\t\t\t\tif (elLastChild && el === evt.target) {\n\t\t\t\t\t\ttarget = elLastChild;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\ttargetRect = _getRect(target);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactiveSortable._showClone(this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\trealDragElRect = null;\n\n\t\t\t\t\t\tchanged();\n\t\t\t\t\t\treturn completed(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && target !== dragEl && target.parentNode === el) {\n\t\t\t\t\tvar direction = 0,\n\t\t\t\t\t\ttargetBeforeFirstSwap,\n\t\t\t\t\t\taligned = target.sortableMouseAligned,\n\t\t\t\t\t\tdifferentLevel = dragEl.parentNode !== el,\n\t\t\t\t\t\tside1 = axis === 'vertical' ? 'top' : 'left',\n\t\t\t\t\t\tscrolledPastTop = _isScrolledPast(target, 'top') || _isScrolledPast(dragEl, 'top'),\n\t\t\t\t\t\tscrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n\n\t\t\t\t\tif (lastTarget !== target) {\n\t\t\t\t\t\tlastMode = null;\n\t\t\t\t\t\ttargetBeforeFirstSwap = _getRect(target)[side1];\n\t\t\t\t\t\tpastFirstInvertThresh = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Reference: https://www.lucidchart.com/documents/view/10fa0e93-e362-4126-aca2-b709ee56bd8b/0\n\t\t\t\t\tif (\n\t\t\t\t\t\t_isElInRowColumn(dragEl, target, axis) && aligned ||\n\t\t\t\t\t\tdifferentLevel ||\n\t\t\t\t\t\tscrolledPastTop ||\n\t\t\t\t\t\toptions.invertSwap ||\n\t\t\t\t\t\tlastMode === 'insert' ||\n\t\t\t\t\t\t// Needed, in the case that we are inside target and inserted because not aligned... aligned will stay false while inside\n\t\t\t\t\t\t// and lastMode will change to 'insert', but we must swap\n\t\t\t\t\t\tlastMode === 'swap'\n\t\t\t\t\t) {\n\t\t\t\t\t\t// New target that we will be inside\n\t\t\t\t\t\tif (lastMode !== 'swap') {\n\t\t\t\t\t\t\tisCircumstantialInvert = options.invertSwap || differentLevel;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdirection = _getSwapDirection(evt, target, axis,\n\t\t\t\t\t\t\toptions.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold,\n\t\t\t\t\t\t\tisCircumstantialInvert,\n\t\t\t\t\t\t\tlastTarget === target);\n\t\t\t\t\t\tlastMode = 'swap';\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Insert at position\n\t\t\t\t\t\tdirection = _getInsertDirection(target);\n\t\t\t\t\t\tlastMode = 'insert';\n\t\t\t\t\t}\n\t\t\t\t\tif (direction === 0) return completed(false);\n\n\t\t\t\t\trealDragElRect = null;\n\t\t\t\t\tlastTarget = target;\n\n\t\t\t\t\tlastDirection = direction;\n\n\t\t\t\t\ttargetRect = _getRect(target);\n\n\t\t\t\t\tvar nextSibling = target.nextElementSibling,\n\t\t\t\t\t\tafter = false;\n\n\t\t\t\t\tafter = direction === 1;\n\n\t\t\t\t\tvar moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactiveSortable._showClone(this);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Undo chrome's scroll adjustment\n\t\t\t\t\t\tif (scrolledPastTop) {\n\t\t\t\t\t\t\t_scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\t// must be done before animation\n\t\t\t\t\t\tif (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n\t\t\t\t\t\t\ttargetMoveDistance = abs(targetBeforeFirstSwap - _getRect(target)[side1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchanged();\n\n\t\t\t\t\t\treturn completed(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (el.contains(dragEl)) {\n\t\t\t\t\treturn completed(false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = _getRect(target);\n\n\t\t\t\tif (target === dragEl) {\n\t\t\t\t\trealDragElRect = currentRect;\n\t\t\t\t}\n\n\t\t\t\tif (prevRect.nodeType === 1) {\n\t\t\t\t\tprevRect = _getRect(prevRect);\n\t\t\t\t}\n\n\t\t\t\t// Check if actually moving position\n\t\t\t\tif ((prevRect.left + prevRect.width / 2) !== (currentRect.left + currentRect.width / 2)\n\t\t\t\t\t|| (prevRect.top + prevRect.height / 2) !== (currentRect.top + currentRect.height / 2)\n\t\t\t\t) {\n\t\t\t\t\tvar matrix = _matrix(this.el),\n\t\t\t\t\t\tscaleX = matrix && matrix.a,\n\t\t\t\t\t\tscaleY = matrix && matrix.d;\n\n\t\t\t\t\t_css(target, 'transition', 'none');\n\t\t\t\t\t_css(target, 'transform', 'translate3d('\n\t\t\t\t\t\t+ (prevRect.left - currentRect.left) / (scaleX ? scaleX : 1) + 'px,'\n\t\t\t\t\t\t+ (prevRect.top - currentRect.top) / (scaleY ? scaleY : 1) + 'px,0)'\n\t\t\t\t\t);\n\n\t\t\t\t\tthis._repaint(target);\n\t\t\t\t\t_css(target, 'transition', 'transform ' + ms + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n\t\t\t\t\t_css(target, 'transform', 'translate3d(0,0,0)');\n\t\t\t\t}\n\n\t\t\t\t(typeof target.animated === 'number') && clearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, 'transition', '');\n\t\t\t\t\t_css(target, 'transform', '');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_repaint: function(target) {\n\t\t\treturn target.offsetWidth;\n\t\t},\n\n\t\t_offMoveEvents: function() {\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\n\t\t\t_off(document, 'pointermove', this._onTouchMove);\n\t\t\t_off(document, 'dragover', nearestEmptyInsertDetectEvent);\n\t\t\t_off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n\t\t\t_off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(ownerDocument, 'mouseup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchend', this._onDrop);\n\t\t\t_off(ownerDocument, 'pointerup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchcancel', this._onDrop);\n\t\t\t_off(document, 'selectstart', this);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\t\t\tawaitingDragStarted = false;\n\t\t\tscrolling = false;\n\t\t\tisCircumstantialInvert = false;\n\t\t\tpastFirstInvertThresh = false;\n\n\t\t\tclearInterval(this._loopId);\n\n\t\t\tclearInterval(pointerElemChangedInterval);\n\t\t\t_clearAutoScrolls();\n\t\t\t_cancelThrottle();\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t_cancelNextTick(this._cloneId);\n\t\t\t_cancelNextTick(this._dragStartId);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, 'mousemove', this._onTouchMove);\n\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, 'drop', this);\n\t\t\t\t_off(el, 'dragstart', this._onDragStart);\n\t\t\t\t_off(document, 'dragover', this._handleAutoScroll);\n\t\t\t\t_off(document, 'dragover', _checkAlignment);\n\t\t\t}\n\n\t\t\tif (Safari) {\n\t\t\t\t_css(document.body, 'user-select', '');\n\t\t\t}\n\n\t\t\tthis._offMoveEvents();\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (rootEl === parentEl || (putSortable && putSortable.lastPutMode !== 'clone')) {\n\t\t\t\t\t// Remove clone\n\t\t\t\t\tcloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n\t\t\t\t}\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, 'dragend', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\t\t\t\t\tdragEl.style['will-change'] = '';\n\n\t\t\t\t\t// Remove class's\n\t\t\t\t\t_toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\t// Drag stop event\n\t\t\t\t\t_dispatchEvent(this, rootEl, 'unchoose', dragEl, parentEl, rootEl, oldIndex, null, oldDraggableIndex, null, evt);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl);\n\t\t\t\t\t\tnewDraggableIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'add', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'remove', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tputSortable && putSortable.save();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl);\n\t\t\t\t\t\t\tnewDraggableIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'update', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\t/* jshint eqnull:true */\n\t\t\t\t\t\tif (newIndex == null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t\tnewDraggableIndex = oldDraggableIndex;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'end', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tthis._nulling();\n\t\t},\n\n\t\t_nulling: function() {\n\t\t\trootEl =\n\t\t\tdragEl =\n\t\t\tparentEl =\n\t\t\tghostEl =\n\t\t\tnextEl =\n\t\t\tcloneEl =\n\t\t\tlastDownEl =\n\n\t\t\tscrollEl =\n\t\t\tscrollParentEl =\n\t\t\tautoScrolls.length =\n\n\t\t\tpointerElemChangedInterval =\n\t\t\tlastPointerElemX =\n\t\t\tlastPointerElemY =\n\n\t\t\ttapEvt =\n\t\t\ttouchEvt =\n\n\t\t\tmoved =\n\t\t\tnewIndex =\n\t\t\toldIndex =\n\n\t\t\tlastTarget =\n\t\t\tlastDirection =\n\n\t\t\trealDragElRect =\n\n\t\t\tputSortable =\n\t\t\tactiveGroup =\n\t\t\tSortable.active = null;\n\n\t\t\tsavedInputChecked.forEach(function (el) {\n\t\t\t\tel.checked = true;\n\t\t\t});\n\n\t\t\tsavedInputChecked.length = 0;\n\t\t},\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tswitch (evt.type) {\n\t\t\t\tcase 'drop':\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tthis._onDrop(evt);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'dragenter':\n\t\t\t\tcase 'dragover':\n\t\t\t\t\tif (dragEl) {\n\t\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'selectstart':\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el, false)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl, false)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el, false);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === 'group') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, 'mousedown', this._onTapStart);\n\t\t\t_off(el, 'touchstart', this._onTapStart);\n\t\t\t_off(el, 'pointerdown', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, 'dragover', this);\n\t\t\t\t_off(el, 'dragenter', this);\n\t\t\t}\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n\t\t\t\tel.removeAttribute('draggable');\n\t\t\t});\n\n\t\t\tthis._onDrop();\n\n\t\t\tsortables.splice(sortables.indexOf(this.el), 1);\n\n\t\t\tthis.el = el = null;\n\t\t},\n\n\t\t_hideClone: function() {\n\t\t\tif (!cloneEl.cloneHidden) {\n\t\t\t\t_css(cloneEl, 'display', 'none');\n\t\t\t\tcloneEl.cloneHidden = true;\n\t\t\t\tif (cloneEl.parentNode && this.options.removeCloneOnHide) {\n\t\t\t\t\tcloneEl.parentNode.removeChild(cloneEl);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_showClone: function(putSortable) {\n\t\t\tif (putSortable.lastPutMode !== 'clone') {\n\t\t\t\tthis._hideClone();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (cloneEl.cloneHidden) {\n\t\t\t\t// show clone at dragEl or original position\n\t\t\t\tif (rootEl.contains(dragEl) && !this.options.group.revertClone) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t} else if (nextEl) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, nextEl);\n\t\t\t\t} else {\n\t\t\t\t\trootEl.appendChild(cloneEl);\n\t\t\t\t}\n\n\t\t\t\tif (this.options.group.revertClone) {\n\t\t\t\t\tthis._animate(dragEl, cloneEl);\n\t\t\t\t}\n\t\t\t\t_css(cloneEl, 'display', '');\n\t\t\t\tcloneEl.cloneHidden = false;\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx, includeCTX) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\n\t\t\tdo {\n\t\t\t\tif (\n\t\t\t\t\tselector != null &&\n\t\t\t\t\t(\n\t\t\t\t\t\tselector[0] === '>' ?\n\t\t\t\t\t\tel.parentNode === ctx && _matches(el, selector) :\n\t\t\t\t\t\t_matches(el, selector)\n\t\t\t\t\t) ||\n\t\t\t\t\tincludeCTX && el === ctx\n\t\t\t\t) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\n\t\t\t\tif (el === ctx) break;\n\t\t\t\t/* jshint boss:true */\n\t\t\t} while (el = _getParentOrHost(el));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _getParentOrHost(el) {\n\t\treturn (el.host && el !== document && el.host.nodeType)\n\t\t\t? el.host\n\t\t\t: el.parentNode;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = 'move';\n\t\t}\n\t\tevt.cancelable && evt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, IE11OrLess ? false : captureMode);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, IE11OrLess ? false : captureMode);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el && name) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n\t\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style) && prop.indexOf('webkit') === -1) {\n\t\t\t\t\tprop = '-webkit-' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _matrix(el) {\n\t\tvar appliedTransforms = '';\n\t\tdo {\n\t\t\tvar transform = _css(el, 'transform');\n\n\t\t\tif (transform && transform !== 'none') {\n\t\t\t\tappliedTransforms = transform + ' ' + appliedTransforms;\n\t\t\t}\n\t\t\t/* jshint boss:true */\n\t\t} while (el = el.parentNode);\n\n\t\tif (window.DOMMatrix) {\n\t\t\treturn new DOMMatrix(appliedTransforms);\n\t\t} else if (window.WebKitCSSMatrix) {\n\t\t\treturn new WebKitCSSMatrix(appliedTransforms);\n\t\t} else if (window.CSSMatrix) {\n\t\t\treturn new CSSMatrix(appliedTransforms);\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(\n\t\tsortable, rootEl, name,\n\t\ttargetEl, toEl, fromEl,\n\t\tstartIndex, newIndex,\n\t\tstartDraggableIndex, newDraggableIndex,\n\t\toriginalEvt\n\t) {\n\t\tsortable = (sortable || rootEl[expando]);\n\t\tvar evt,\n\t\t\toptions = sortable.options,\n\t\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\t\t// Support for new CustomEvent feature\n\t\tif (window.CustomEvent && !IE11OrLess && !Edge) {\n\t\t\tevt = new CustomEvent(name, {\n\t\t\t\tbubbles: true,\n\t\t\t\tcancelable: true\n\t\t\t});\n\t\t} else {\n\t\t\tevt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, true);\n\t\t}\n\n\t\tevt.to = toEl || rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\tevt.oldDraggableIndex = startDraggableIndex;\n\t\tevt.newDraggableIndex = newDraggableIndex;\n\n\t\tevt.originalEvent = originalEvt;\n\t\tevt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n\t\tif (rootEl) {\n\t\t\trootEl.dispatchEvent(evt);\n\t\t}\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvt, willInsertAfter) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\t\t// Support for new CustomEvent feature\n\t\tif (window.CustomEvent && !IE11OrLess && !Edge) {\n\t\t\tevt = new CustomEvent('move', {\n\t\t\t\tbubbles: true,\n\t\t\t\tcancelable: true\n\t\t\t});\n\t\t} else {\n\t\t\tevt = document.createEvent('Event');\n\t\t\tevt.initEvent('move', true, true);\n\t\t}\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || _getRect(toEl);\n\t\tevt.willInsertAfter = willInsertAfter;\n\n\t\tevt.originalEvent = originalEvt;\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt, originalEvt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\t/**\n\t * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n\t * and non-draggable elements\n\t * @param  {HTMLElement} el       The parent element\n\t * @param  {Number} childNum      The index of the child\n\t * @param  {Object} options       Parent Sortable's options\n\t * @return {HTMLElement}          The child at index childNum, or null if not found\n\t */\n\tfunction _getChild(el, childNum, options) {\n\t\tvar currentChild = 0,\n\t\t\ti = 0,\n\t\t\tchildren = el.children;\n\n\t\twhile (i < children.length) {\n\t\t\tif (\n\t\t\t\tchildren[i].style.display !== 'none' &&\n\t\t\t\tchildren[i] !== ghostEl &&\n\t\t\t\tchildren[i] !== dragEl &&\n\t\t\t\t_closest(children[i], options.draggable, el, false)\n\t\t\t) {\n\t\t\t\tif (currentChild === childNum) {\n\t\t\t\t\treturn children[i];\n\t\t\t\t}\n\t\t\t\tcurrentChild++;\n\t\t\t}\n\n\t\t\ti++;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n\t * @param  {HTMLElement} el       Parent element\n\t * @return {HTMLElement}          The last child, ignoring ghostEl\n\t */\n\tfunction _lastChild(el) {\n\t\tvar last = el.lastElementChild;\n\n\t\twhile (last && (last === ghostEl || _css(last, 'display') === 'none')) {\n\t\t\tlast = last.previousElementSibling;\n\t\t}\n\n\t\treturn last || null;\n\t}\n\n\tfunction _ghostIsLast(evt, axis, el) {\n\t\tvar elRect = _getRect(_lastChild(el)),\n\t\t\tmouseOnAxis = axis === 'vertical' ? evt.clientY : evt.clientX,\n\t\t\tmouseOnOppAxis = axis === 'vertical' ? evt.clientX : evt.clientY,\n\t\t\ttargetS2 = axis === 'vertical' ? elRect.bottom : elRect.right,\n\t\t\ttargetS1Opp = axis === 'vertical' ? elRect.left : elRect.top,\n\t\t\ttargetS2Opp = axis === 'vertical' ? elRect.right : elRect.bottom,\n\t\t\tspacer = 10;\n\n\t\treturn (\n\t\t\taxis === 'vertical' ?\n\t\t\t\t(mouseOnOppAxis > targetS2Opp + spacer || mouseOnOppAxis <= targetS2Opp && mouseOnAxis > targetS2 && mouseOnOppAxis >= targetS1Opp) :\n\t\t\t\t(mouseOnAxis > targetS2 && mouseOnOppAxis > targetS1Opp || mouseOnAxis <= targetS2 && mouseOnOppAxis > targetS2Opp + spacer)\n\t\t);\n\t}\n\n\tfunction _getSwapDirection(evt, target, axis, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n\t\tvar targetRect = _getRect(target),\n\t\t\tmouseOnAxis = axis === 'vertical' ? evt.clientY : evt.clientX,\n\t\t\ttargetLength = axis === 'vertical' ? targetRect.height : targetRect.width,\n\t\t\ttargetS1 = axis === 'vertical' ? targetRect.top : targetRect.left,\n\t\t\ttargetS2 = axis === 'vertical' ? targetRect.bottom : targetRect.right,\n\t\t\tdragRect = _getRect(dragEl),\n\t\t\tinvert = false;\n\n\n\t\tif (!invertSwap) {\n\t\t\t// Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n\t\t\tif (isLastTarget && targetMoveDistance < targetLength * swapThreshold) { // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n\t\t\t\t// check if past first invert threshold on side opposite of lastDirection\n\t\t\t\tif (!pastFirstInvertThresh &&\n\t\t\t\t\t(lastDirection === 1 ?\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2\n\t\t\t\t\t\t) :\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\t// past first invert threshold, do not restrict inverted threshold to dragEl shadow\n\t\t\t\t\tpastFirstInvertThresh = true;\n\t\t\t\t}\n\n\t\t\t\tif (!pastFirstInvertThresh) {\n\t\t\t\t\tvar dragS1 = axis === 'vertical' ? dragRect.top : dragRect.left,\n\t\t\t\t\t\tdragS2 = axis === 'vertical' ? dragRect.bottom : dragRect.right;\n\t\t\t\t\t// dragEl shadow (target move distance shadow)\n\t\t\t\t\tif (\n\t\t\t\t\t\tlastDirection === 1 ?\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n\t\t\t\t\t\t) :\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis > targetS2 - targetMoveDistance\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn lastDirection * -1;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tinvert = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Regular\n\t\t\t\tif (\n\t\t\t\t\tmouseOnAxis > targetS1 + (targetLength * (1 - swapThreshold) / 2) &&\n\t\t\t\t\tmouseOnAxis < targetS2 - (targetLength * (1 - swapThreshold) / 2)\n\t\t\t\t) {\n\t\t\t\t\treturn _getInsertDirection(target);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinvert = invert || invertSwap;\n\n\t\tif (invert) {\n\t\t\t// Invert of regular\n\t\t\tif (\n\t\t\t\tmouseOnAxis < targetS1 + (targetLength * invertedSwapThreshold / 2) ||\n\t\t\t\tmouseOnAxis > targetS2 - (targetLength * invertedSwapThreshold / 2)\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn ((mouseOnAxis > targetS1 + targetLength / 2) ? 1 : -1);\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\t/**\n\t * Gets the direction dragEl must be swapped relative to target in order to make it\n\t * seem that dragEl has been \"inserted\" into that element's position\n\t * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n\t * @return {Number}                   Direction dragEl must be swapped\n\t */\n\tfunction _getInsertDirection(target) {\n\t\tvar dragElIndex = _index(dragEl),\n\t\t\ttargetIndex = _index(target);\n\n\t\tif (dragElIndex < targetIndex) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent for a selected set of\n\t * elements\n\t * @param  {HTMLElement} el\n\t * @param  {selector} selector\n\t * @return {number}\n\t */\n\tfunction _index(el, selector) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif ((el.nodeName.toUpperCase() !== 'TEMPLATE') && el !== cloneEl && (!selector || _matches(el, selector))) {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _matches(/**HTMLElement*/el, /**String*/selector) {\n\t\tif (!selector) return;\n\n\t\tselector[0] === '>' && (selector = selector.substring(1));\n\n\t\tif (el) {\n\t\t\ttry {\n\t\t\t\tif (el.matches) {\n\t\t\t\t\treturn el.matches(selector);\n\t\t\t\t} else if (el.msMatchesSelector) {\n\t\t\t\t\treturn el.msMatchesSelector(selector);\n\t\t\t\t} else if (el.webkitMatchesSelector) {\n\t\t\t\t\treturn el.webkitMatchesSelector(selector);\n\t\t\t\t}\n\t\t\t} catch(_) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tvar _throttleTimeout;\n\tfunction _throttle(callback, ms) {\n\t\treturn function () {\n\t\t\tif (!_throttleTimeout) {\n\t\t\t\tvar args = arguments,\n\t\t\t\t\t_this = this;\n\n\t\t\t\t_throttleTimeout = setTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\t_throttleTimeout = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _cancelThrottle() {\n\t\tclearTimeout(_throttleTimeout);\n\t\t_throttleTimeout = void 0;\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\tfunction _clone(el) {\n\t\tif (Polymer && Polymer.dom) {\n\t\t\treturn Polymer.dom(el).cloneNode(true);\n\t\t}\n\t\telse if ($) {\n\t\t\treturn $(el).clone(true)[0];\n\t\t}\n\t\telse {\n\t\t\treturn el.cloneNode(true);\n\t\t}\n\t}\n\n\tfunction _saveInputCheckedState(root) {\n\t\tsavedInputChecked.length = 0;\n\n\t\tvar inputs = root.getElementsByTagName('input');\n\t\tvar idx = inputs.length;\n\n\t\twhile (idx--) {\n\t\t\tvar el = inputs[idx];\n\t\t\tel.checked && savedInputChecked.push(el);\n\t\t}\n\t}\n\n\tfunction _nextTick(fn) {\n\t\treturn setTimeout(fn, 0);\n\t}\n\n\tfunction _cancelNextTick(id) {\n\t\treturn clearTimeout(id);\n\t}\n\n\n\t/**\n\t * Returns the \"bounding client rect\" of given element\n\t * @param  {HTMLElement} el                The element whose boundingClientRect is wanted\n\t * @param  {[HTMLElement]} container       the parent the element will be placed in\n\t * @param  {[Boolean]} adjustForTransform  Whether the rect should compensate for parent's transform\n\t * @return {Object}                        The boundingClientRect of el\n\t */\n\tfunction _getRect(el, adjustForTransform, container, adjustForFixed) {\n\t\tif (!el.getBoundingClientRect && el !== win) return;\n\n\t\tvar elRect,\n\t\t\ttop,\n\t\t\tleft,\n\t\t\tbottom,\n\t\t\tright,\n\t\t\theight,\n\t\t\twidth;\n\n\t\tif (el !== win && el !== _getWindowScrollingElement()) {\n\t\t\telRect = el.getBoundingClientRect();\n\t\t\ttop = elRect.top;\n\t\t\tleft = elRect.left;\n\t\t\tbottom = elRect.bottom;\n\t\t\tright = elRect.right;\n\t\t\theight = elRect.height;\n\t\t\twidth = elRect.width;\n\t\t} else {\n\t\t\ttop = 0;\n\t\t\tleft = 0;\n\t\t\tbottom = window.innerHeight;\n\t\t\tright = window.innerWidth;\n\t\t\theight = window.innerHeight;\n\t\t\twidth = window.innerWidth;\n\t\t}\n\n\t\tif (adjustForFixed && el !== win) {\n\t\t\t// Adjust for translate()\n\t\t\tcontainer = container || el.parentNode;\n\n\t\t\t// solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n\t\t\t// Not needed on <= IE11\n\t\t\tif (!IE11OrLess) {\n\t\t\t\tdo {\n\t\t\t\t\tif (container && container.getBoundingClientRect && _css(container, 'transform') !== 'none') {\n\t\t\t\t\t\tvar containerRect = container.getBoundingClientRect();\n\n\t\t\t\t\t\t// Set relative to edges of padding box of container\n\t\t\t\t\t\ttop -= containerRect.top + parseInt(_css(container, 'border-top-width'));\n\t\t\t\t\t\tleft -= containerRect.left + parseInt(_css(container, 'border-left-width'));\n\t\t\t\t\t\tbottom = top + elRect.height;\n\t\t\t\t\t\tright = left + elRect.width;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t} while (container = container.parentNode);\n\t\t\t}\n\t\t}\n\n\t\tif (adjustForTransform && el !== win) {\n\t\t\t// Adjust for scale()\n\t\t\tvar matrix = _matrix(container || el),\n\t\t\t\tscaleX = matrix && matrix.a,\n\t\t\t\tscaleY = matrix && matrix.d;\n\n\t\t\tif (matrix) {\n\t\t\t\ttop /= scaleY;\n\t\t\t\tleft /= scaleX;\n\n\t\t\t\twidth /= scaleX;\n\t\t\t\theight /= scaleY;\n\n\t\t\t\tbottom = top + height;\n\t\t\t\tright = left + width;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttop: top,\n\t\t\tleft: left,\n\t\t\tbottom: bottom,\n\t\t\tright: right,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t}\n\n\n\t/**\n\t * Checks if a side of an element is scrolled past a side of it's parents\n\t * @param  {HTMLElement}  el       The element who's side being scrolled out of view is in question\n\t * @param  {String}       side     Side of the element in question ('top', 'left', 'right', 'bottom')\n\t * @return {HTMLElement}           The parent scroll element that the el's side is scrolled past, or null if there is no such element\n\t */\n\tfunction _isScrolledPast(el, side) {\n\t\tvar parent = _getParentAutoScrollElement(el, true),\n\t\t\telSide = _getRect(el)[side];\n\n\t\t/* jshint boss:true */\n\t\twhile (parent) {\n\t\t\tvar parentSide = _getRect(parent)[side],\n\t\t\t\tvisible;\n\n\t\t\tif (side === 'top' || side === 'left') {\n\t\t\t\tvisible = elSide >= parentSide;\n\t\t\t} else {\n\t\t\t\tvisible = elSide <= parentSide;\n\t\t\t}\n\n\t\t\tif (!visible) return parent;\n\n\t\t\tif (parent === _getWindowScrollingElement()) break;\n\n\t\t\tparent = _getParentAutoScrollElement(parent, false);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n\t * The value is returned in real pixels.\n\t * @param  {HTMLElement} el\n\t * @return {Array}             Offsets in the format of [left, top]\n\t */\n\tfunction _getRelativeScrollOffset(el) {\n\t\tvar offsetLeft = 0,\n\t\t\toffsetTop = 0,\n\t\t\twinScroller = _getWindowScrollingElement();\n\n\t\tif (el) {\n\t\t\tdo {\n\t\t\t\tvar matrix = _matrix(el),\n\t\t\t\t\tscaleX = matrix.a,\n\t\t\t\t\tscaleY = matrix.d;\n\n\t\t\t\toffsetLeft += el.scrollLeft * scaleX;\n\t\t\t\toffsetTop += el.scrollTop * scaleY;\n\t\t\t} while (el !== winScroller && (el = el.parentNode));\n\t\t}\n\n\t\treturn [offsetLeft, offsetTop];\n\t}\n\n\t// Fixed #973:\n\t_on(document, 'touchmove', function(evt) {\n\t\tif ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n\t\t\tevt.preventDefault();\n\t\t}\n\t});\n\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el, false);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tclone: _clone,\n\t\tindex: _index,\n\t\tnextTick: _nextTick,\n\t\tcancelNextTick: _cancelNextTick,\n\t\tdetectDirection: _detectDirection,\n\t\tgetChild: _getChild\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = '1.9.0';\n\treturn Sortable;\n});\n","import { SDataArray } from 's-array';\nimport S, { DataSignal } from 's-js';\nimport Sortable from 'sortablejs';\nimport { Counter } from './counter';\n\n/**\n * One-way binds the given data-signal array to react to UI changes in the given HTML element (note the currying).\n */\nexport function sortableBindSarray<T>(sArray: SDataArray<T>, sortableOptions?: {[name: string]: any}):\n    (element: HTMLElement) => void {\n  return (element) => {\n    // noinspection JSUnusedGlobalSymbols\n    Sortable.create(element, {\n      ...sortableOptions,\n      onEnd: (event: Sortable.SortableEvent) => {\n        // It's unclear whether oldIndex or newIndex are ever undefined. However, this is the current type declaration\n        // in @types/sortablejs.\n        if (event.oldIndex === undefined || event.newIndex === undefined || event.newIndex === event.oldIndex) {\n          return;\n        }\n        const from: number = event.oldIndex;\n        const to: number = event.newIndex;\n        S.freeze(() => {\n          const item: T = sArray()[from];\n          sArray.splice(from, 1);\n          sArray.splice(to, 0, item);\n        });\n      },\n    });\n  };\n}\n\nfunction bind<T extends number | string, U extends HTMLInputElement | HTMLSelectElement>(\n    signal: DataSignal<T>,\n    get: (element: U) => T,\n    set: (element: U, newValue: T) => void,\n    invalidCounter?: Counter\n): (element: U) => void {\n  return (element) => {\n    let isCurrentlyUpdatingSignal = false;\n    const isInvalidSignal: DataSignal<boolean> = S.value(false);\n    S(() => {\n      const newValue: T = signal();\n      if (!isCurrentlyUpdatingSignal) {\n        set(element, newValue);\n      }\n      isInvalidSignal(!element.checkValidity());\n    });\n\n    const event = 'input';\n    element.addEventListener(event, valueListener, false);\n    if (invalidCounter !== undefined) {\n      invalidCounter.add(isInvalidSignal);\n    }\n    S.cleanup(() => {\n      element.removeEventListener(event, valueListener);\n      if (invalidCounter !== undefined) {\n        invalidCounter.delete(isInvalidSignal);\n      }\n    });\n\n    function valueListener(): void {\n      const current: T = S.sample(signal);\n      const updated: T = get(element);\n      if (current !== updated) {\n        isCurrentlyUpdatingSignal = true;\n        try {\n          signal(updated);\n        } finally {\n          isCurrentlyUpdatingSignal = false;\n        }\n      }\n    }\n  };\n}\n\n/**\n * Two-way binds the given `number` data signal with the given `<input>` element (note the currying).\n */\nexport function bindNumber(signal: DataSignal<number>, invalidCounter?: Counter):\n    (element: HTMLInputElement) => void {\n  return bind(\n      signal,\n      (element) => element.valueAsNumber,\n      (element, newValue) => element.valueAsNumber = newValue,\n      invalidCounter\n  );\n}\n\n/**\n * Two-way binds the given `string` data signal with the given `<input>` element (note the currying).\n */\nexport function bindString(signal: DataSignal<string>, invalidCounter?: Counter):\n    (element: HTMLInputElement | HTMLSelectElement) => void {\n  return bind(\n      signal,\n      (element) => element.value,\n      (element, newValue) => element.value = newValue,\n      invalidCounter\n  );\n}\n\n/**\n * Two-way binds the given data signal with the given `input` element (note the currying): The element is checked if\n * and only if the data signal has the given on-value.\n */\nexport function bindToOnValue<T>(signal: DataSignal<T>, onValue: T): (element: HTMLInputElement) => void {\n  return (element) => {\n    let currentlyUpdatingSignal = false;\n    S(() => {\n      const newValue: T = signal();\n      if (!currentlyUpdatingSignal) {\n        element.checked = newValue === onValue;\n      }\n    });\n\n    const event = 'change';\n    element.addEventListener(event, radioListener, false);\n    S.cleanup(() => element.removeEventListener(event, radioListener));\n\n    function radioListener(): void {\n      if (element.checked) {\n        currentlyUpdatingSignal = true;\n        try {\n          signal(onValue);\n        } finally {\n          currentlyUpdatingSignal = false;\n        }\n      }\n    }\n  };\n}\n\n/**\n * Two-way binds the given data signal with the given `<select multiple>` element (note the currying).\n */\nexport function bindStringSet(signal: DataSignal<Set<string>>): (element: HTMLSelectElement) => void {\n  return (element) => {\n    let currentlyUpdatingSignal = false;\n    S(() => {\n      const activeOptions: Set<string> = signal();\n      if (!currentlyUpdatingSignal) {\n        for (const option of element.options) {\n          option.selected = activeOptions.has(option.value);\n        }\n      }\n    });\n    const event = 'input';\n    element.addEventListener(event, valueListener, false);\n    S.cleanup(() => element.removeEventListener(event, valueListener));\n\n    function valueListener(): void {\n      const current: Set<string> = S.sample(signal);\n      const updated: Set<string> = toSet();\n      if (!setEquals(current, updated)) {\n        currentlyUpdatingSignal = true;\n        try {\n          signal(updated);\n        } finally {\n          currentlyUpdatingSignal = false;\n        }\n      }\n    }\n\n    function toSet(): Set<string> {\n      return Array.from(element.options)\n          .filter((option) => option.selected)\n          .reduce((set, option) => set.add(option.value), new Set<string>());\n    }\n  };\n}\n\nfunction setEquals<T>(left: Set<T>, right: Set<T>): boolean {\n  if (left.size !== right.size) {\n    return false;\n  }\n  for (const value of left) {\n    if (!right.has(value)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * One-way binds the presence of CSS classes on the given HTML element to react to the given signal (note the currying).\n */\nexport function withClassIff(signal: () => boolean, ...classes: string[]): (element: HTMLElement) => void {\n  return (element) => {\n    // The typical use of this function is to add an attribute of form 'fn={withClassIf(booleanSignal)}' to the HTML\n    // (or SVG) element in JSX. Surplus already wraps each computation in an S.js computation. Hence, it is not\n    // necessary (for the intended effect) to wrap the following in another S.js lambda. However, by doing so we can\n    // restrict the scope of what is re-executed if the signal changes. Without the S.js lambda here, the entire\n    // computation in the fn attribute would be re-executed (which would include running this function).\n    S(() => {\n      if (signal()) {\n        element.classList.add(...classes);\n      } else {\n        element.classList.remove(...classes);\n      }\n    });\n  };\n}\n\n/**\n * If the given signal is changed to the given value, focus on the given HTML element.\n */\nexport function focusOnChangeToValue<T>(signal: () => T, value: T): (element: HTMLElement) => void {\n  return (element) => {\n    let previousValue: T = S.sample(signal);\n    S(() => {\n      const newValue: T = signal();\n      if (newValue !== previousValue && newValue === value) {\n        // We cannot focus immediately, because the input may still be hidden (the order in which S.js invokes the\n        // computations is undefined). We therefore need to await the end of the S.js transaction!\n        setTimeout(() => element.focus());\n      }\n      previousValue = newValue;\n    });\n  };\n}\n\n/**\n * One-way binds the href attribute to react to the given signal.\n *\n * This function is necessary because we want to remove the href attribute if the given signal is the empty URL (as\n * opposed to setting the href attribute to the empty string, which would still be shown as a link in the browser).\n */\nexport function hrefFrom(signal: () => string): (element: HTMLAnchorElement) => void {\n  return (element) => {\n    S(() => {\n      const url: string = signal();\n      if (url.length === 0) {\n        element.removeAttribute('href');\n      } else {\n        element.setAttribute('href', url);\n      }\n    });\n  };\n}\n","import { SDataArray } from 's-array';\nimport { DataSignal } from 's-js';\n\nexport interface Jsonable {\n  toJSON(): any;\n}\n\n/**\n * Makes an s.js signal jsonable by adding a `toJSON` method that extracts its value during JSONization.\n *\n * Adapted from GitHub project\n * [adamhaile/surplus-todomvc](https://github.com/adamhaile/surplus-todomvc/blob/37ffcdfca66a11365ff88aeed5db9f38b97ba2c6/src/models.ts).\n */\nexport function jsonable<T extends () => any>(s: T): T & Jsonable {\n  const augmentedSignal = s as T & Jsonable;\n  augmentedSignal.toJSON = toJSON;\n  return augmentedSignal;\n}\n\nfunction toJSON(this: () => any): any {\n  const value: any = this();\n  // A good idea here would be to check if value.toJSON exists. But this is not public API, and we don't need this in\n  // this project.\n  if (value instanceof Set) {\n    return [...value];\n  } else {\n    return value;\n  }\n}\n\n/**\n * Creates a new plain JSON value for the given value (which may contain signals or `Set` instances).\n */\nexport function toPlain<T>(source: T): Plain<T> {\n  if (typeof source === 'function' && 'toJSON' in source) {\n    return toPlain(source());\n  } else if (Array.isArray(source)) {\n    return source.map(toPlain) as Plain<T>;\n  } else if (source instanceof Set) {\n    return toPlain(Array.from(source)) as Plain<T>;\n  } else if (typeof source === 'object' && source !== null) {\n    const typedSource: Record<string, any> = source;\n    const target: Record<string, any> = {};\n    for (const key in typedSource) {\n      if (typedSource.hasOwnProperty(key) && key !== 'transient') {\n        const plainValue = toPlain(typedSource[key]);\n        if (plainValue !== undefined) {\n          target[key] = plainValue;\n        }\n      }\n    }\n    return target as Plain<T>;\n  } else {\n    return source as Plain<T>;\n  }\n}\n\n/**\n * Construct a type with the properties of T, but make those properties optional whose keys are in the union K.\n */\ntype MakeOptional<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>> & Partial<Pick<T, K>>;\n\n// The following requires at least TypeScript 3.4. See: https://github.com/Microsoft/TypeScript/issues/24622\ntype PlainHelper<T> =\n    T extends SDataArray<infer U1> ? U1[] :\n    T extends DataSignal<infer U2> ? U2 :\n    T extends Set<infer U3> ? U3[] :\n    T extends ({[P in keyof T]: T[P]} & {transient: any}) ?\n        MakeOptional<{[P in keyof T]: PlainHelper<T[P]>}, 'transient'> :\n    T extends {[P in keyof T]: T[P]} ? {[P in keyof T]: PlainHelper<T[P]>} :\n    T;\n\nexport type Plain<T> = PlainHelper<PlainHelper<PlainHelper<T>>>;\n","/**\n * Function that always throws an error.\n *\n * The purpose of this function is to be used as a compile-time type completeness check; for instance, in a `switch`\n * statement. Calling this function will cause no error *only if* control-flow-based type analysis infers the argument\n * type as `never`  in other words, if the function call cannot be reached.\n */\nexport function unreachableCase(x: never): never {\n  throw new Error(`Unexpected case that should be unreachable: ${x}`);\n}\n\n/**\n * Returns the given value as string if the type of the value is `string`, `boolean`, or `number`; otherwise,\n * returns the given default value.\n *\n * This function is meant to be used when we cannot trust the type system (typically, user input).\n */\nexport function ensureString(value: string, defaultValue: string = ''): string {\n  const actualValue: unknown = value;\n  switch (typeof actualValue) {\n    case 'string': return actualValue;\n    case 'boolean': case 'number': return actualValue.toString();\n    default: return defaultValue;\n  }\n}\n\n/**\n * Returns the given value if it is a number, or otherwise the given default value.\n *\n * This function is meant to be used when we cannot trust the type system (typically, user input).\n */\nexport function ensureNumber(value: number, defaultValue: number = 0): number {\n  const actualValue: unknown = value;\n  return typeof actualValue === 'number'\n      ? actualValue\n      : defaultValue;\n}\n\n/**\n * Returns the given value if it is a boolean, or otherwise the given default value.\n *\n * This function is meant to be used when we cannot trust the type system (typically, user input).\n */\nexport function ensureBoolean(value: boolean, defaultValue: boolean = false): boolean {\n  const actualValue: unknown = value;\n  return typeof actualValue === 'boolean'\n      ? actualValue\n      : defaultValue;\n}\n\n/**\n * Returns a newly created array where each element is the result of invoking `ensureElementType()`. If the given value\n * is not an array, returns the default array.\n *\n * This function is meant to be used when we cannot trust the type system (typically, user input).\n */\nexport function ensureArray<T>(value: T[], defaultValue: T[] = [], validElementPredicate: (element: T) => boolean):\n    T[] {\n  return Array.isArray(value) && value.findIndex((element) => !validElementPredicate(element)) === -1\n      ? value\n      : defaultValue;\n}\n","import S, { DataSignal } from 's-js';\nimport { jsonable, Plain, toPlain } from '../../utils/s';\nimport { ensureString } from '../../utils/typescript';\n\n/**\n * Non-transient state of the settings UI component.\n */\nexport interface Settings {\n  readonly name: DataSignal<string>;\n  readonly youTrackBaseUrl: DataSignal<string>;\n  readonly hubUrl: DataSignal<string>;\n  readonly youTrackServiceId: DataSignal<string>;\n}\n\n/**\n * Creates a new state for the settings UI component.\n */\nexport function createSettings(): Settings {\n  return {\n    name: jsonable(S.value('')),\n    youTrackBaseUrl: jsonable(S.value('')),\n    hubUrl: jsonable(S.value('')),\n    youTrackServiceId: jsonable(S.value('')),\n  };\n}\n\n/**\n * Updates the state of the settings UI component to the given values in a plain JSON object.\n *\n * The update is performed within a single S.js transaction.\n *\n * @param settings state of the settings UI component\n * @param plain plain JSON object\n */\nexport function assignSettings(settings: Settings, plain: Plain<Settings>): void {\n  S.freeze(() => {\n    settings.name(ensureString(plain.name));\n    settings.youTrackBaseUrl(ensureString(plain.youTrackBaseUrl));\n    settings.hubUrl(ensureString(plain.hubUrl));\n    settings.youTrackServiceId(ensureString(plain.youTrackServiceId));\n  });\n}\n\n/**\n * Creates a new normalized plain JSON value for the given settings.\n *\n * Normalization means that the YouTrack base URL is the result of {@link toNormalizedUrl}().\n */\nexport function toNormalizedPlainSettings<T extends Settings>(settings: T): Plain<T> {\n  const plainSettings = toPlain(settings);\n  return {\n    ...plainSettings,\n    youTrackBaseUrl: toNormalizedUrl(plainSettings.youTrackBaseUrl),\n    hubUrl: toNormalizedUrl(plainSettings.youTrackBaseUrl),\n  };\n}\n\n/**\n * Returns the normalized URL.\n *\n * Normalization means returning a syntactically valid URL that ends with a slash (/).\n *\n * @return the normalized URL, or the empty string if the given URL is not valid\n */\nexport function toNormalizedUrl(urlString: string): string {\n  try {\n    const url = new URL(urlString);\n    if (url.host.length === 0) {\n      // Oddly, Safari 12's implementation of the URL constructor does not throw on 'http:' or 'https:' whereas both\n      // Chrome and Firefox do.\n      return '';\n    } else if (url.pathname.length === 0 || url.pathname.charAt(url.pathname.length - 1) !== '/') {\n      url.pathname = url.pathname.concat('/');\n    }\n    return url.toString();\n  } catch (exception) {\n    if (!(exception instanceof TypeError)) {\n      throw exception;\n    }\n    return '';\n  }\n}\n","import { strict as assert } from 'assert';\nimport S, { DataSignal } from 's-js';\nimport { hrefFrom } from '../../utils/surplus';\nimport { Settings, toNormalizedUrl } from './settings-model';\n\n/**\n * Controller for elementary settings (name of YouTrack instance, base URL, etc.).\n */\nexport class SettingsCtrl {\n  public readonly normalizedBaseUrl: () => string;\n  public readonly normalizedHubUrl: () => string;\n  public readonly isInCloudUrl: () => boolean;\n\n  public static currentUri(): URL {\n    const uri = new URL(window.location.href);\n    uri.hash = '';\n    uri.username = '';\n    uri.password = '';\n    uri.search = '';\n    return uri;\n  }\n\n  public static currentOrigin(): URL {\n    const uri = SettingsCtrl.currentUri();\n    uri.pathname = '';\n    return uri;\n  }\n\n  public constructor(\n      private readonly settings_: Settings\n  ) {\n    this.normalizedBaseUrl = S(() => toNormalizedUrl(this.settings_.youTrackBaseUrl()));\n    this.normalizedHubUrl = S(() => toNormalizedUrl(this.settings_.hubUrl()));\n    const isInCloudUrlSignal: DataSignal<boolean> = S.value(false);\n    this.isInCloudUrl = isInCloudUrlSignal;\n\n    let previousNormalizedBaseUrl: string = S.sample(this.normalizedBaseUrl);\n    // 'seed' is undefined (the calculation does not keep a state), and 'onchanges' is false (do the initial run).\n    S.on(this.normalizedBaseUrl, () => {\n      const normalizedBaseUrl = S.sample(this.normalizedBaseUrl);\n      const {hubUrl, isInCloudUrl} = hubUrlFromYouTrackBaseUrl(normalizedBaseUrl);\n      isInCloudUrlSignal(isInCloudUrl);\n\n      const previousHubUrl = S.sample(settings_.hubUrl);\n      if (previousHubUrl === '' || isInCloudUrl ||\n          previousHubUrl === hubUrlFromYouTrackBaseUrl(previousNormalizedBaseUrl).hubUrl) {\n        // The hub URL is currently the default one for the base URL. Keep in sync.\n        // If the current if-condition is not true, the user has modified the hub URL, so it shouldn't be updates.\n        previousNormalizedBaseUrl = normalizedBaseUrl;\n        this.settings_.hubUrl(hubUrl);\n      }\n    }, undefined, false);\n  }\n\n  public hrefRelativeToBaseUrl(relativePath: string): (element: HTMLAnchorElement) => void {\n    const signal = (): string => {\n      const baseUrl = this.normalizedBaseUrl();\n      return baseUrl.length === 0\n          ? ''\n          : new URL(relativePath, baseUrl).toString();\n    };\n    return hrefFrom(signal);\n  }\n\n  public hubRelativeToBaseUrlAndServiceId(relativePath: (serviceId: string) => string):\n      (element: HTMLAnchorElement) => void {\n    const signal = (): string => {\n      const baseUrl = this.normalizedBaseUrl();\n      const serviceId = this.settings_.youTrackServiceId();\n      return (baseUrl.length === 0 || serviceId.length === 0)\n          ? ''\n          : new URL(relativePath(serviceId), this.normalizedBaseUrl()).toString();\n    };\n    return hrefFrom(signal);\n  }\n}\n\nfunction hubUrlFromYouTrackBaseUrl(baseUrl: string): {hubUrl: string, isInCloudUrl: boolean} {\n  assert(baseUrl.length === 0 || baseUrl.endsWith('/'));\n\n  const inCloudMatch: RegExpMatchArray | null = baseUrl.match(/^(https:\\/\\/[^./]*\\.myjetbrains\\.com\\/)youtrack\\/$/);\n  let hubUrl: string;\n  let isInCloudUrl: boolean = false;\n  if (inCloudMatch !== null) {\n    // https://www.jetbrains.com/help/youtrack/incloud/OAuth-Authorization.html#HubOauthEndpoints\n    hubUrl = `${inCloudMatch[1]}hub`;\n    isInCloudUrl = true;\n  } else if (baseUrl.length > 0) {\n    // https://www.jetbrains.com/help/youtrack/standalone/OAuth-Authorization.html#HubOauthEndpoints\n    hubUrl = `${baseUrl}hub`;\n  } else {\n    hubUrl = '';\n  }\n  return {hubUrl, isInCloudUrl};\n}\n","import { authorizationFor, getMinutesPerWorkWeek, httpGet } from '@fschopp/project-planning-for-you-track';\nimport S, { DataSignal } from 's-js';\nimport { CustomField, IssueLinkType, SavedQuery, User } from '../../youtrack-rest';\nimport { AlertsCtrl } from '../alerts/alerts-ctrl';\nimport { YouTrackMetadata } from './you-track-metadata-model';\n\nenum YouTrackRestUrl {\n  CUSTOM_FIELDS = 'api/admin/customFieldSettings/customFields',\n  ISSUE_LINK_TYPES = 'api/issueLinkTypes',\n  SAVED_QUERIES = 'api/savedQueries',\n  USERS = 'api/admin/users',\n}\n\n/**\n * Controller for retrieving YouTrack metadata.\n *\n * This class provides signals containing lists of users, saved searches, etc.\n */\nexport class YouTrackMetadataCtrl {\n  /**\n   * Signal carrying YouTrack metadata. Default values are used if {@link youTrackMetadata} is `undefined`.\n   */\n  public readonly definedYouTrackMetadata: () => YouTrackMetadata;\n\n  /**\n   * Signal carrying a (possibly empty) map of YouTrack users, index by ID.\n   */\n  public readonly youTrackUserMap: () => Map<string, User>;\n\n  /**\n   * Signal carrying a (possibly empty) map of YouTrack issue links, indexed by ID.\n   */\n  public readonly directedIssueLinkTypes: () => Map<string, IssueLinkType>;\n\n  /**\n   * Signal carrying a (possibly empty) map from YouTrack saved search ID to YouTrack saved search.\n   */\n  public readonly savedQueries: () => Map<string, SavedQuery>;\n\n  /**\n   * Signal indicating whether metadata requests to YouTrack are currently pending.\n   */\n  public pendingMetadata: () => boolean;\n\n  public constructor(\n      youTrackMetadata: DataSignal<YouTrackMetadata | undefined>,\n      normalizedBaseUrl: () => string,\n      alertCtrl: AlertsCtrl\n  ) {\n    const pendingMetadata: DataSignal<boolean> = S.value(false);\n    this.pendingMetadata = pendingMetadata;\n\n    this.definedYouTrackMetadata = S(() => {\n      const currentYouTrackMetadata: YouTrackMetadata | undefined = youTrackMetadata();\n      return currentYouTrackMetadata !== undefined && normalizedBaseUrl() === currentYouTrackMetadata.baseUrl\n          ? currentYouTrackMetadata\n          : emptyYouTrackMetadata();\n    });\n    this.youTrackUserMap = S(() =>\n        this.definedYouTrackMetadata().users\n            .reduce((map, user) => map.set(user.id, user), new Map<string, User>())\n    );\n    this.directedIssueLinkTypes = S(() =>\n        this.definedYouTrackMetadata().issueLinkTypes\n            .filter((linkType) => linkType.directed)\n            .reduce((map, linkType) => map.set(linkType.id, linkType), new Map<string, IssueLinkType>())\n    );\n    this.savedQueries = S(() =>\n        this.definedYouTrackMetadata().savedSearches\n            .reduce((map, savedQuery) => map.set(savedQuery.id, savedQuery), new Map<string, SavedQuery>())\n    );\n\n    S(() => {\n      const currentBaseUrl: string = normalizedBaseUrl();\n      const currentYouTrackMetadata: YouTrackMetadata | undefined = S.sample(youTrackMetadata);\n      if (currentBaseUrl.length > 0 && !S.sample(pendingMetadata) && currentYouTrackMetadata === undefined &&\n          authorizationFor(currentBaseUrl) !== undefined) {\n        pendingMetadata(true);\n        Promise\n            .all([\n              loadCustomFields(currentBaseUrl),\n              loadIssueLinkTypes(currentBaseUrl),\n              loadSavedSearches(currentBaseUrl),\n              loadUsers(currentBaseUrl),\n              getMinutesPerWorkWeek(currentBaseUrl),\n            ])\n            .then(([customFields, issueLinkTypes, savedSearches, users, minutesPerWorkWeek]) => {\n              youTrackMetadata({\n                baseUrl: currentBaseUrl,\n                customFields,\n                issueLinkTypes,\n                savedSearches,\n                users,\n                minutesPerWorkWeek,\n              });\n            })\n            .catch((exception) => alertCtrl.alert('Failed to retrieve YouTrack metadata', exception))\n            .finally(() => pendingMetadata(false));\n      }\n    });\n  }\n\n  /**\n   * Returns a new signal containing a map from YouTrack issue field ID to custom field.\n   *\n   * The returned map only contains entries with the given field type (such as `enum[1]`, `period`, etc.).\n   */\n  public mapOfCustomFieldTypes(fieldTypeId: string): () => Map<string, CustomField> {\n    return S(() => this.definedYouTrackMetadata().customFields\n        .filter((customField) => customField.fieldType.id === fieldTypeId)\n        .reduce((map, customField) => map.set(customField.id, customField), new Map<string, CustomField>())\n    );\n  }\n}\n\nasync function loadCustomFields(baseUrl: string): Promise<CustomField[]> {\n  const queryParams = {\n    fields: 'fieldDefaults(bundle(id,values(color(background,foreground),id,isResolved,name,ordinal))),' +\n        'fieldType(id),id,name',\n  };\n  return await httpGet<CustomField[]>(baseUrl, YouTrackRestUrl.CUSTOM_FIELDS, queryParams);\n}\n\nasync function loadIssueLinkTypes(baseUrl: string): Promise<IssueLinkType[]> {\n  const queryParams = {\n    fields: 'directed,id,name,sourceToTarget,targetToSource',\n  };\n  return await httpGet<IssueLinkType[]>(baseUrl, YouTrackRestUrl.ISSUE_LINK_TYPES, queryParams);\n}\n\nasync function loadSavedSearches(baseUrl: string): Promise<SavedQuery[]> {\n  const queryParams = {\n    fields: 'id,name,owner(fullName)',\n  };\n  return await httpGet<SavedQuery[]>(baseUrl, YouTrackRestUrl.SAVED_QUERIES, queryParams);\n}\n\nasync function loadUsers(baseUrl: string): Promise<User[]> {\n  const queryParams = {\n    fields: 'avatarUrl,id,fullName',\n  };\n  return await httpGet<User[]>(baseUrl, YouTrackRestUrl.USERS, queryParams);\n}\n\nfunction emptyYouTrackMetadata(): YouTrackMetadata {\n  return {\n    baseUrl: '',\n    customFields: [],\n    issueLinkTypes: [],\n    savedSearches: [],\n    users: [],\n    minutesPerWorkWeek: 5 * 8 * 60,\n  };\n}\n","import { goToOauthPage, } from '@fschopp/project-planning-for-you-track';\nimport S from 's-js';\nimport { Counter } from '../../utils/counter';\nimport { AlertsCtrl } from '../alerts/alerts-ctrl';\nimport { SettingsCtrl } from '../settings/settings-ctrl';\nimport { Settings } from '../settings/settings-model';\nimport { YouTrackMetadataCtrl } from '../you-track-metadata/you-track-metadata-ctrl';\nimport { App, AppComputation } from './app-model';\n\n/**\n * Controller for {@link App}.\n *\n * @typeparam T Type of of the user-provided state; that is, of {@link App.settings}.\n */\nexport class AppCtrl<T extends Settings> {\n  /**\n   * Creates a new {@link AppCtrl}, including all transitive (controller) dependencies.\n   *\n   * This method is a convenience method. It creates and wires dependencies such as {@link AlertsCtrl} or\n   * {@link SettingsCtrl}, using reasonable defaults.\n   *\n   * @typeparam T Type of of the user-provided state; that is, of {@link App.settings}.\n   * @param app The user-provided application state.\n   * @param appComputation The computed application state.\n   */\n  public static createDefaultAppCtrl<T extends Settings>(app: App<T>, appComputation: AppComputation): AppCtrl<T> {\n    const settingsCtrl: SettingsCtrl = new SettingsCtrl(app.settings);\n    const alertsCtrl: AlertsCtrl = new AlertsCtrl(appComputation.alerts);\n    const youTrackMetadataCtrl: YouTrackMetadataCtrl =\n        new YouTrackMetadataCtrl(appComputation.youTrackMetadata, settingsCtrl.normalizedBaseUrl, alertsCtrl);\n    const invalidCounter = new Counter(appComputation.numInvalidSettings);\n    return new AppCtrl(app, appComputation, settingsCtrl, alertsCtrl, youTrackMetadataCtrl, invalidCounter);\n  }\n\n  /**\n   * Constructor.\n   *\n   * @param app_ The user-provided application state.\n   * @param appComputation_ The computed application state.\n   * @param settingsCtrl The controller for elementary settings (name of YouTrack instance, base URL, etc.).\n   * @param alertsCtrl The controller for displaying alerts to the user.\n   * @param youTrackMetadataCtrl The controller for retrieving YouTrack metadata.\n   * @param invalidCounter The controller for counting the number of invalid settings. Unfortunately, in its current\n   *     form, only the views update the counter. This is because the count information originates from the HTML5\n   *     constraint validation and makes its way into `invalidCounter` predominantly through data binding (for instance,\n   *     with {@link bindString}()). This somewhat blurs the lines between controller and view. A more principled\n   *     distribution of concerns would be to have the validation entirely done by controllers. The refactoring will be\n   *     left for the future...\n   */\n  public constructor(\n      private readonly app_: App<T>,\n      private readonly appComputation_: AppComputation,\n      public readonly settingsCtrl: SettingsCtrl,\n      public readonly alertsCtrl: AlertsCtrl,\n      public readonly youTrackMetadataCtrl: YouTrackMetadataCtrl,\n      public readonly invalidCounter: Counter\n  ) {\n    // 'seed' is undefined (the calculation does not keep a state), and 'onchanges' is true (skip the initial run).\n    S.on(this.appComputation_.connect, () => this.connect(), undefined, true);\n\n    // Bind document.title to react to changes of this.app.transient.appName\n    S(() => {\n      const appName: string = this.appComputation_.name();\n      const title: string = this.app_.settings.name();\n      document.title = title.length > 0\n          ? `${appName}: ${title}`\n          : appName;\n    });\n  }\n\n  public showErrorIfFailure(title: string, promise: Promise<void>): void {\n    promise\n        .catch((exception) => this.alertsCtrl.alert(title, exception))\n        .finally(() => {\n          this.appComputation_.progress(undefined);\n        });\n  }\n\n  private connect(): void {\n    goToOauthPage(this.settingsCtrl.normalizedBaseUrl(), this.settingsCtrl.normalizedHubUrl(),\n        this.app_.settings.youTrackServiceId(), this.app_);\n  }\n}\n","// synchronous array signals for S.js\nimport S from \"s-js\";\nexport default function SArray(values) {\n    if (!Array.isArray(values))\n        throw new Error(\"SArray must be initialized with an array\");\n    var dirty = S.data(false), mutations = [], mutcount = 0, pops = 0, shifts = 0, data = S.root(function () { return S.on(dirty, update, values, true); });\n    // add mutators\n    var array = function array(newvalues) {\n        if (arguments.length > 0) {\n            mutation(function array() { values = newvalues; });\n            return newvalues;\n        }\n        else {\n            return data();\n        }\n    };\n    array.push = push;\n    array.pop = pop;\n    array.unshift = unshift;\n    array.shift = shift;\n    array.splice = splice;\n    // not ES5\n    array.remove = remove;\n    array.removeAll = removeAll;\n    lift(array);\n    return array;\n    function mutation(m) {\n        mutations[mutcount++] = m;\n        dirty(true);\n    }\n    function update() {\n        if (pops)\n            values.splice(values.length - pops, pops);\n        if (shifts)\n            values.splice(0, shifts);\n        pops = 0;\n        shifts = 0;\n        for (var i = 0; i < mutcount; i++) {\n            mutations[i]();\n            mutations[i] = null;\n        }\n        mutcount = 0;\n        return values;\n    }\n    // mutators\n    function push(item) {\n        mutation(function push() { values.push(item); });\n        return array;\n    }\n    function pop() {\n        array();\n        if ((pops + shifts) < values.length) {\n            var value = values[values.length - ++pops];\n            dirty(true);\n            return value;\n        }\n    }\n    function unshift(item) {\n        mutation(function unshift() { values.unshift(item); });\n        return array;\n    }\n    function shift() {\n        array();\n        if ((pops + shifts) < values.length) {\n            var value = values[shifts++];\n            dirty(true);\n            return value;\n        }\n    }\n    function splice( /* arguments */) {\n        var args = Array.prototype.slice.call(arguments);\n        mutation(function splice() { Array.prototype.splice.apply(values, args); });\n        return array;\n    }\n    function remove(item) {\n        mutation(function remove() {\n            for (var i = 0; i < values.length; i++) {\n                if (values[i] === item) {\n                    values.splice(i, 1);\n                    break;\n                }\n            }\n        });\n        return array;\n    }\n    function removeAll(item) {\n        mutation(function removeAll() {\n            for (var i = 0; i < values.length;) {\n                if (values[i] === item) {\n                    values.splice(i, 1);\n                }\n                else {\n                    i++;\n                }\n            }\n        });\n        return array;\n    }\n}\n// util to add transformer methods\nexport function lift(seq) {\n    var _seq = seq;\n    _seq.concat = chainConcat;\n    _seq.every = chainEvery;\n    _seq.filter = chainFilter;\n    _seq.find = chainFind;\n    //s.findIndex = findIndex;\n    _seq.forEach = chainForEach;\n    _seq.includes = chainIncludes;\n    //s.indexOf   = indexOf;\n    //s.join      = join;\n    //s.lastIndexOf = lastIndexOf;\n    _seq.map = chainMap;\n    _seq.sort = chainSort;\n    _seq.reduce = chainReduce;\n    _seq.reduceRight = chainReduceRight;\n    _seq.reverse = chainReverse;\n    _seq.slice = chainSlice;\n    _seq.some = chainSome;\n    // non-ES5 transformers\n    _seq.mapS = chainMapS;\n    _seq.mapSample = chainMapSample;\n    _seq.mapSequentially = chainMapSequentially;\n    _seq.orderBy = chainOrderBy;\n    return _seq;\n}\nexport function mapS(seq, enter, exit, move) {\n    var items = [], mapped = [], disposers = [], len = 0;\n    S(function () { S.cleanup(function () { disposers.forEach(function (d) { d(); }); }); });\n    return S.on(seq, function mapS() {\n        var new_items = seq(), new_len = new_items.length, temp = new Array(new_len), tempdisposers = new Array(new_len), from = null, to = null, i, j, k, item;\n        if (move)\n            from = [], to = [];\n        // 1) step through all old items and see if they can be found in the new set; if so, save them in a temp array and mark them moved; if not, exit them\n        NEXT: for (i = 0, k = 0; i < len; i++) {\n            item = items[i];\n            for (j = 0; j < new_len; j++, k = (k + 1) % new_len) {\n                if (item === new_items[k] && !temp.hasOwnProperty(k.toString())) {\n                    temp[k] = mapped[i];\n                    tempdisposers[k] = disposers[i];\n                    if (move && i !== k) {\n                        from.push(i);\n                        to.push(k);\n                    }\n                    k = (k + 1) % new_len;\n                    continue NEXT;\n                }\n            }\n            if (exit)\n                exit(item, mapped[i](), i);\n            disposers[i]();\n        }\n        if (move && from.length)\n            move(items, mapped, from, to);\n        // 2) set all the new values, pulling from the temp array if copied, otherwise entering the new value\n        for (i = 0; i < new_len; i++) {\n            if (temp.hasOwnProperty(i.toString())) {\n                mapped[i] = temp[i];\n                disposers[i] = tempdisposers[i];\n            }\n            else {\n                mapped[i] = S.root(mapper);\n            }\n        }\n        // 3) in case the new set is shorter than the old, set the length of the mapped array\n        len = mapped.length = new_len;\n        // 4) save a copy of the mapped items for the next update\n        items = new_items.slice();\n        return mapped;\n        function mapper(disposer) {\n            disposers[i] = disposer;\n            var _item = new_items[i], _i = i;\n            return S(function (value) { return enter(_item, value, _i); }, undefined);\n        }\n    });\n}\nfunction chainMapS(enter, exit, move) {\n    var r = lift(mapS(this, enter, exit, move));\n    r.combine = chainCombine;\n    return r;\n}\nexport function mapSample(seq, enter, exit, move) {\n    var items = [], mapped = [], disposers = [], len = 0;\n    S(function () { S.cleanup(function () { disposers.forEach(function (d) { d(); }); }); });\n    return S.on(seq, function mapSample() {\n        var new_items = seq(), new_len = new_items.length, new_indices, new_indices_next, temp, tempdisposers, from = null, to = null, i, j, start, end, new_end, item;\n        // fast path for empty arrays\n        if (new_len === 0) {\n            if (len !== 0) {\n                if (exit !== undefined) {\n                    for (i = 0; i < len; i++) {\n                        item = items[i];\n                        exit(item, mapped[i], i);\n                        disposers[i]();\n                    }\n                }\n                else {\n                    for (i = 0; i < len; i++) {\n                        disposers[i]();\n                    }\n                }\n                items = [];\n                mapped = [];\n                disposers = [];\n                len = 0;\n            }\n        }\n        else if (len === 0) {\n            for (j = 0; j < new_len; j++) {\n                items[j] = new_items[j];\n                mapped[j] = S.root(mapper);\n            }\n            len = new_len;\n        }\n        else {\n            new_indices = new Map();\n            temp = new Array(new_len);\n            tempdisposers = new Array(new_len);\n            if (move)\n                from = [], to = [];\n            // skip common prefix and suffix\n            for (start = 0, end = Math.min(len, new_len); start < end && items[start] === new_items[start]; start++)\n                ;\n            for (end = len - 1, new_end = new_len - 1; end >= 0 && new_end >= 0 && items[end] === new_items[new_end]; end--, new_end--) {\n                temp[new_end] = mapped[end];\n                tempdisposers[new_end] = disposers[end];\n            }\n            // 0) prepare a map of all indices in new_items, scanning backwards so we encounter them in natural order\n            new_indices_next = new Array(new_end + 1);\n            for (j = new_end; j >= start; j--) {\n                item = new_items[j];\n                i = new_indices.get(item);\n                new_indices_next[j] = i === undefined ? -1 : i;\n                new_indices.set(item, j);\n            }\n            // 1) step through all old items and see if they can be found in the new set; if so, save them in a temp array and mark them moved; if not, exit them\n            for (i = start; i <= end; i++) {\n                item = items[i];\n                j = new_indices.get(item);\n                if (j !== undefined && j !== -1) {\n                    temp[j] = mapped[i];\n                    tempdisposers[j] = disposers[i];\n                    if (move && i !== j) {\n                        from.push(i);\n                        to.push(j);\n                    }\n                    j = new_indices_next[j];\n                    new_indices.set(item, j);\n                }\n                else {\n                    if (exit)\n                        exit(item, mapped[i], i);\n                    disposers[i]();\n                }\n            }\n            if (move && (from.length !== 0 || end !== len - 1)) {\n                end++, new_end++;\n                while (end < len) {\n                    from.push(end++);\n                    to.push(new_end++);\n                }\n                move(items, mapped, from, to);\n            }\n            // 2) set all the new values, pulling from the temp array if copied, otherwise entering the new value\n            for (j = start; j < new_len; j++) {\n                if (temp.hasOwnProperty(j)) {\n                    mapped[j] = temp[j];\n                    disposers[j] = tempdisposers[j];\n                }\n                else {\n                    mapped[j] = S.root(mapper);\n                }\n            }\n            // 3) in case the new set is shorter than the old, set the length of the mapped array\n            len = mapped.length = new_len;\n            // 4) save a copy of the mapped items for the next update\n            items = new_items.slice();\n        }\n        return mapped;\n        function mapper(disposer) {\n            disposers[j] = disposer;\n            return enter(new_items[j], mapped[j], j);\n        }\n    });\n}\nfunction chainMapSample(enter, exit, move) {\n    return lift(mapSample(this, enter, exit, move));\n}\nexport function mapSequentially(seq, update) {\n    var mapped = [];\n    return S(function mapSequentially() {\n        var s = seq();\n        for (var i = 0; i < s.length; i++) {\n            mapped[i] = update(s[i], mapped[i], i);\n        }\n        if (mapped.length > s.length)\n            mapped.length = s.length;\n        return mapped;\n    });\n}\nfunction chainMapSequentially(enter) {\n    return lift(mapSequentially(this, enter));\n}\nexport function forEach(seq, enter, exit, move) {\n    var items = [], len = 0;\n    return S.on(seq, function forEach() {\n        var new_items = seq(), new_len = new_items.length, found = new Array(new_len), from = [], to = [], i, j, k, item;\n        // 1) step through all old items and see if they can be found in the new set; if so, save them in a temp array and mark them moved; if not, exit them\n        NEXT: for (i = 0, k = 0; i < len; i++) {\n            item = items[i];\n            for (j = 0; j < new_len; j++, k = (k + 1) % new_len) {\n                if (item === new_items[k] && !found[k]) {\n                    found[k] = true;\n                    if (i !== k) {\n                        from.push(i);\n                        to.push(k);\n                    }\n                    k = (k + 1) % new_len;\n                    continue NEXT;\n                }\n            }\n            if (exit)\n                exit(item, i);\n        }\n        if (move && from.length)\n            move(from, to);\n        // 2) set all the new values, pulling from the temp array if copied, otherwise entering the new value\n        for (var i = 0; i < new_len; i++) {\n            if (!found[i])\n                enter(new_items[i], i);\n        }\n        // 3) in case the new set is shorter than the old, set the length of the mapped array\n        len = new_len;\n        // 4) save a copy of the mapped items for the next update\n        items = new_items.slice();\n        return items;\n    });\n}\nfunction chainForEach(enter, exit, move) {\n    return lift(forEach(this, enter, exit, move));\n}\nexport function combine(seq) {\n    return S(function combine() {\n        var s = seq(), result = new Array(s.length);\n        for (var i = 0; i < s.length; i++) {\n            result[i] = s[i]();\n        }\n        return result;\n    });\n}\nfunction chainCombine() {\n    return lift(combine(this));\n}\nexport function map(seq, enter, exit, move) {\n    return combine(mapS(seq, enter, exit, move == undefined ? undefined :\n        function (items, mapped, from, to) { move(items, mapped.map(function (s) { return s(); }), from, to); }));\n}\nfunction chainMap(enter, exit, move) {\n    return lift(map(this, enter, exit, move));\n}\nexport function find(seq, pred) {\n    return S(function find() {\n        var s = seq(), i, item;\n        for (i = 0; i < s.length; i++) {\n            item = s[i];\n            if (pred(item))\n                return item;\n        }\n        return undefined;\n    });\n}\nfunction chainFind(pred) {\n    return find(this, pred);\n}\nexport function includes(seq, o) {\n    return S(function find() {\n        var s = seq();\n        for (var i = 0; i < s.length; i++) {\n            if (s[i] === o)\n                return true;\n        }\n        return false;\n    });\n}\nfunction chainIncludes(o) {\n    return includes(this, o);\n}\nexport function sort(seq, fn) {\n    return S(function sort() {\n        var copy = seq().slice(0);\n        if (fn)\n            copy.sort(fn);\n        else\n            copy.sort();\n        return copy;\n    });\n}\nfunction chainSort(fn) {\n    return lift(sort(this, fn));\n}\nexport function orderBy(seq, by) {\n    var key, fn;\n    if (typeof by !== 'function') {\n        key = by;\n        fn = function (o) { return o[key]; };\n    }\n    else {\n        fn = by;\n    }\n    return S(function orderBy() {\n        var copy = seq().slice(0);\n        copy.sort(function (a, b) {\n            a = fn(a);\n            b = fn(b);\n            return a < b ? -1 : a > b ? 1 : 0;\n        });\n        return copy;\n    });\n}\nfunction chainOrderBy(by) {\n    return lift(orderBy(this, by));\n}\nexport function filter(seq, predicate) {\n    return S(function filter() {\n        var s = seq(), result = [], i, v;\n        for (i = 0; i < s.length; i++) {\n            v = s[i];\n            if (predicate(v))\n                result.push(v);\n        }\n        return result;\n    });\n}\nfunction chainFilter(predicate) {\n    return lift(filter(this, predicate));\n}\nexport function concat(seq) {\n    var others = [];\n    for (var _a = 1; _a < arguments.length; _a++) {\n        others[_a - 1] = arguments[_a];\n    }\n    return S(function concat() {\n        var s = seq();\n        for (var i = 0; i < others.length; i++) {\n            s = s.concat(others[i]());\n        }\n        return s;\n    });\n}\nfunction chainConcat() {\n    var others = [];\n    for (var _a = 0; _a < arguments.length; _a++) {\n        others[_a] = arguments[_a];\n    }\n    return lift(concat.apply(void 0, [this].concat(others)));\n}\nexport function reduce(seq, fn, seed) {\n    return S(function reduce() {\n        var s = seq(), result = seed instanceof Function ? seed() : seed;\n        for (var i = 0; i < s.length; i++) {\n            result = fn(result, s[i], i, s);\n        }\n        return result;\n    });\n}\nfunction chainReduce(fn, seed) {\n    return reduce(this, fn, seed);\n}\nexport function reduceRight(seq, fn, seed) {\n    return S(function reduceRight() {\n        var s = seq(), result = seed instanceof Function ? seed() : seed;\n        for (var i = s.length - 1; i >= 0; i--) {\n            result = fn(result, s[i], i, s);\n        }\n        return result;\n    });\n}\nfunction chainReduceRight(fn, seed) {\n    return reduceRight(this, fn, seed);\n}\nexport function every(seq, fn) {\n    return S(function every() {\n        var s = seq();\n        for (var i = 0; i < s.length; i++) {\n            if (!fn(s[i]))\n                return false;\n        }\n        return true;\n    });\n}\nfunction chainEvery(fn) {\n    return every(this, fn);\n}\nexport function some(seq, fn) {\n    return S(function some() {\n        var s = seq();\n        if (fn === undefined)\n            return s.length !== 0;\n        for (var i = 0; i < s.length; i++) {\n            if (fn(s[i]))\n                return true;\n        }\n        return false;\n    });\n}\nfunction chainSome(fn) {\n    return some(this, fn);\n}\nexport function reverse(seq) {\n    return S(function () {\n        var copy = seq().slice(0);\n        copy.reverse();\n        return copy;\n    });\n}\nfunction chainReverse() {\n    return lift(reverse(this));\n}\nexport function slice(seq, s, e) {\n    return S(function () {\n        return seq().slice(s, e);\n    });\n}\nfunction chainSlice(s, e) {\n    return lift(slice(this, s, e));\n}\n","import createSDataArray, { SDataArray } from 's-array';\nimport S, { DataSignal } from 's-js';\nimport { jsonable, Plain } from '../../utils/s';\nimport { Alert } from '../alerts/alerts-model';\nimport { Settings } from '../settings/settings-model';\nimport { YouTrackMetadata } from '../you-track-metadata/you-track-metadata-model';\n\n/**\n * The currently visible application page.\n */\nexport enum Page {\n  HOME = '',\n  WARNINGS = 'warnings',\n  SETTINGS = 'settings',\n}\n\n/**\n * Returns the given value if it is of type {@link Page}, or otherwise the given default value.\n */\nfunction ensurePage(value: Page, defaultValue: Page = Page.HOME): Page {\n  switch (value) {\n    case Page.HOME: case Page.WARNINGS: case Page.SETTINGS: return value;\n    default: return defaultValue;\n  }\n}\n\n/**\n * User-provided state of the application.\n *\n * The properties of this interface constitute user input. As such, it must be possible to reconstruct the application\n * state as defined by this interface after navigating back or forth, after a browser restart, or even on a new machine.\n *\n * The state contains [S.js](https://github.com/adamhaile/S) data signals. These signals allow declarative programming:\n * Any S.js computation based on a data signal will get updated whenever the data signal is updated.\n */\nexport interface App<T extends Settings> {\n  /**\n   * Data signal carrying the current page.\n   */\n  readonly currentPage: DataSignal<Page>;\n\n  /**\n   * The current settings.\n   */\n  readonly settings: T;\n}\n\n/**\n * Computed state of the application.\n *\n * The state defined by this interface is the result of a computation and therefore can be regenerated.\n */\nexport interface AppComputation {\n  /**\n   * Signal carrying the name of the application.\n   */\n  readonly name: DataSignal<string>;\n\n  /**\n   * Signal carrying the number of invalid settings.\n   *\n   * There are no constraints on what is a setting. For instance, multiple `<input>` elements may be aggregated in a\n   * single setting. Therefore, the only meaningful information conveyed to consumers of this signal is whether there\n   * are any invalid settings at all and that the number of invalid settings has changed.\n   */\n  readonly numInvalidSettings: DataSignal<number>;\n\n  /**\n   * Array signal carrying the list of alerts currently shown.\n   */\n  readonly alerts: SDataArray<Alert>;\n\n  /**\n   * Signal carrying YouTrack metadata, or `undefined` if metadata for the current base URL is not (yet) available.\n   */\n  readonly youTrackMetadata: DataSignal<YouTrackMetadata | undefined>;\n\n  /**\n   * Signal carrying the current progress (in percent) or `undefined` if no processing is currently happening.\n   */\n  readonly progress: DataSignal<number | undefined>;\n\n  /**\n   * Signal to trigger connecting to YouTrack.\n   */\n  readonly connect: DataSignal<null>;\n}\n\n/**\n * Returns a newly created object for keeping the user-provided application state.\n */\nexport function createApp<T extends Settings>(settings: T): App<T> {\n  return {\n    currentPage: jsonable(S.value(Page.HOME)),\n    settings,\n  };\n}\n\n/**\n * Returns a newly created object for keeping the computed application state.\n */\nexport function createAppComputation(): AppComputation {\n  return {\n    name: S.value(document.title),\n    numInvalidSettings: S.value(0),\n    alerts: createSDataArray<Alert>([]),\n    youTrackMetadata: S.value(undefined),\n    progress: S.value(undefined),\n    connect: S.data(null),\n  };\n}\n\n/**\n * Updates the application state to the given values in a plain JSON object.\n *\n * The update is performed within a single S.js transaction.\n *\n * @param app application state\n * @param plain Plain JSON object. This function cannot rely on static type checking, because the data may be user\n *     input.\n */\nexport function assignApp<T extends Settings>(app: App<T>, plain: Plain<App<T>>) {\n  S.freeze(() => {\n    app.currentPage(ensurePage(plain.currentPage));\n  });\n}\n","import S, { DataSignal } from 's-js';\nimport { jsonable, Plain } from '../../utils/s';\nimport { ensureNumber, ensureString, unreachableCase } from '../../utils/typescript';\n\nexport const DEFAULT_HOURS_PER_WEEK = 40;\nexport const DEFAULT_NUM_MEMBERS = 1;\n\nexport type Contributor = YouTrackContributor | ExternalContributor;\n\nexport interface ContributorBase {\n  readonly type: ContributorKind;\n  readonly hoursPerWeek: DataSignal<number>;\n}\n\nexport const enum ContributorKind {\n  YOU_TRACK,\n  EXTERNAL,\n}\n\n/**\n * Returns the given value if it is of type {@link ContributorKind}, or otherwise the given default value.\n */\nfunction ensureContributorKind(value: ContributorKind,\n    defaultValue: ContributorKind = ContributorKind.YOU_TRACK): ContributorKind {\n  switch (value) {\n    case ContributorKind.EXTERNAL: case ContributorKind.YOU_TRACK: return value;\n    default: return defaultValue;\n  }\n}\n\nexport interface ExternalContributor extends ContributorBase {\n  readonly type: ContributorKind.EXTERNAL;\n  readonly name: DataSignal<string>;\n  readonly numMembers: DataSignal<number>;\n}\n\nexport interface YouTrackContributor extends ContributorBase {\n  readonly type: ContributorKind.YOU_TRACK;\n  readonly id: string;\n}\n\n\n/**\n * Returns a newly created {@link Contributor} object with the values from the given plain JSON object.\n *\n * @param plain Plain JSON object. This function cannot rely on static type checking, because the data may be user\n *     input.\n */\nexport function createContributor(plain: Plain<Contributor>): Contributor {\n  // Type cast is necessary, because TypeScript cannot know that ensureContributorKind is the identity function (for\n  // well-formed input).\n  const plainCopy: Plain<Contributor> = {\n    ...plain,\n    type: ensureContributorKind(plain.type),\n  } as Plain<Contributor>;\n  switch (plainCopy.type) {\n    case ContributorKind.YOU_TRACK:\n      return createYouTrackContributor(plainCopy);\n    case ContributorKind.EXTERNAL:\n      return createExternalContributor(plainCopy);\n    default:\n      return unreachableCase(plainCopy);\n  }\n}\n\nfunction createExternalContributor(plain: Plain<ExternalContributor>): ExternalContributor {\n  return {\n    ...createContributorBase(plain),\n    type: ContributorKind.EXTERNAL,\n    name: jsonable(S.value(ensureString(plain.name))),\n    numMembers: jsonable(S.value(ensureNumber(plain.numMembers, DEFAULT_NUM_MEMBERS))),\n  };\n}\n\nfunction createYouTrackContributor(plain: Plain<YouTrackContributor>): YouTrackContributor {\n  return {\n    ...createContributorBase(plain),\n    type: ContributorKind.YOU_TRACK,\n    id: ensureString(plain.id),\n  };\n}\n\nfunction createContributorBase(plain: Plain<ContributorBase>): Pick<ContributorBase, 'hoursPerWeek'> {\n  return {\n    hoursPerWeek: jsonable(S.value(ensureNumber(plain.hoursPerWeek, DEFAULT_HOURS_PER_WEEK))),\n  };\n}\n","import createSDataArray, { SDataArray } from 's-array';\nimport S, { DataSignal } from 's-js';\nimport { jsonable, Plain } from '../../utils/s';\nimport { ensureNumber, ensureString } from '../../utils/typescript';\nimport {\n  Contributor,\n  createContributor,\n  DEFAULT_HOURS_PER_WEEK,\n  DEFAULT_NUM_MEMBERS,\n} from '../contributor/contributor-model';\n\n/**\n * Value for {@link ContributorEditArea.id} to indicate an external contributor.\n */\nexport const EXTERNAL_CONTRIBUTOR_VALUE = 'youtrack-planning-js/external';\n\nexport interface ContributorEditArea {\n  hoursPerWeek: DataSignal<number>;\n  id: DataSignal<string>;\n  name: DataSignal<string>;\n  numMembers: DataSignal<number>;\n}\n\nexport function createContributors(): SDataArray<Contributor> {\n  return jsonable(createSDataArray<Contributor>([]));\n}\n\nexport function createContributorEditArea() {\n  return {\n    hoursPerWeek: jsonable(S.value(DEFAULT_HOURS_PER_WEEK)),\n    id: jsonable(S.value('')),\n    name: jsonable(S.value('')),\n    numMembers: jsonable(S.value(DEFAULT_NUM_MEMBERS)),\n  };\n}\n\nexport function assignContributors(contributors: SDataArray<Contributor>, plain: Plain<Contributor>[]): void {\n  S.freeze(() => contributors(plain.map(createContributor)));\n}\n\nexport function assignContributorEditArea(contributorEditArea: ContributorEditArea, plain: Plain<ContributorEditArea>):\n    void {\n  S.freeze(() => {\n    contributorEditArea.hoursPerWeek(ensureNumber(plain.hoursPerWeek));\n    contributorEditArea.id(ensureString(plain.id));\n    contributorEditArea.name(plain.name);\n    contributorEditArea.numMembers(plain.numMembers);\n  });\n}\n","import { SArray, SDataArray } from 's-array';\nimport S from 's-js';\nimport { Counter } from '../../utils/counter';\nimport { Plain } from '../../utils/s';\nimport { unreachableCase } from '../../utils/typescript';\nimport { ContributorCtrl } from '../contributor/contributor-ctrl';\nimport { Contributor, ContributorKind, createContributor, DEFAULT_NUM_MEMBERS } from '../contributor/contributor-model';\nimport { ContributorEditArea, EXTERNAL_CONTRIBUTOR_VALUE } from './contributors-model';\n\nexport class ContributorsCtrl {\n  public readonly contributorCtrls: SArray<[Contributor, ContributorCtrl]>;\n\n  public readonly newEntryType = S(() => this.contributorEditArea_.id() === EXTERNAL_CONTRIBUTOR_VALUE\n      ? ContributorKind.EXTERNAL\n      : ContributorKind.YOU_TRACK\n  );\n\n  public constructor(\n      private readonly contributors_: SDataArray<Contributor>,\n      private readonly contributorEditArea_: ContributorEditArea,\n      createContributorCtrl: (contributor: Contributor) => ContributorCtrl,\n      invalidCounter: Counter\n  ) {\n    this.contributorCtrls = contributors_.map((contributor) => [contributor, createContributorCtrl(contributor)]);\n    invalidCounter.add(() => contributors_().length === 0);\n  }\n\n  public create(): void {\n    const id: string = this.contributorEditArea_.id();\n    const type: ContributorKind = this.newEntryType();\n    const sharedProperties = {\n      hoursPerWeek: this.contributorEditArea_.hoursPerWeek(),\n    };\n    let plainContributor: Plain<Contributor>;\n    switch (type) {\n      case ContributorKind.YOU_TRACK:\n        plainContributor = {\n          type,\n          id,\n          ...sharedProperties,\n        };\n        break;\n      case ContributorKind.EXTERNAL:\n        plainContributor = {\n          type,\n          name: this.contributorEditArea_.name(),\n          numMembers: this.contributorEditArea_.numMembers(),\n          ...sharedProperties,\n        };\n        this.contributorEditArea_.name('');\n        this.contributorEditArea_.numMembers(DEFAULT_NUM_MEMBERS);\n        break;\n      default: return unreachableCase(type);\n    }\n    this.contributorEditArea_.id('');\n    this.contributors_.push(createContributor(plainContributor));\n  }\n\n  public reset(): void {\n    this.contributorEditArea_.id('');\n  }\n}\n","export const FORM_GROUP_CLASS = 'form-group row';\nexport const LABEL_CLASS = 'col-form-label col-form-label-sm col-lg-3 text-lg-right';\nexport const OFFSET_CLASS = 'offset-lg-3';\nexport const INPUT_CLASS = 'form-control form-control-sm';\nexport const INPUT_CLASS_RIGHT = 'form-control form-control-sm text-right';\nexport const PLAINTEXT_CLASS = 'form-control-plaintext form-control-sm';\nexport const SELECT_CLASS = 'custom-select custom-select-sm';\nexport const EDIT_AREA_CLASS = 'col-lg-9';\nexport const HELP_CLASS = 'form-text text-muted';\nexport const CHECK_CLASS = 'form-check-input col-form-label-sm';\nexport const CHECK_LABEL_CLASS = 'form-check-label col-form-label-sm';\n\nexport const DRAGGABLE_HANDLE_CLASS = 'draggable-handle';\n","import * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { Counter } from '../../utils/counter';\nimport { bindNumber, bindString } from '../../utils/surplus';\nimport { User } from '../../youtrack-rest';\nimport { DRAGGABLE_HANDLE_CLASS, INPUT_CLASS, INPUT_CLASS_RIGHT, PLAINTEXT_CLASS } from '../bootstrap';\nimport { ContributorCtrl } from './contributor-ctrl';\nimport { Contributor, ContributorKind, YouTrackContributor } from './contributor-model';\n\nexport const MAX_PERSONS_PER_CONTRIBUTORS = 100;\nexport const MAX_HOURS_PER_WEEK = 7 * 24;\n\n// Unfortunately, Firefox does not automatically resize <input> element of type number to the maximum required width.\n// https://stackoverflow.com/questions/22590483/why-does-adding-min-max-properties-change-the-width-of-a-numeric-html5-input-ele\n// As a workaround, we set the width relative to the width of digit '0'. We include some extra digits to account for:\n// Padding on the left, padding on the right, and spin buttons.\nexport const INPUT_WIDTH_3_DIGITS: string = `${4 + Math.ceil(Math.log(MAX_HOURS_PER_WEEK) / Math.LN10)}ch`;\n\nexport interface ContributorProperties {\n  contributor: Contributor;\n  ctrl: ContributorCtrl;\n  youTrackUserMap: () => Map<string, User>;\n  readonly invalidCounter: Counter;\n}\n\nexport function ContributorView({contributor, ctrl, youTrackUserMap, invalidCounter}: ContributorProperties):\n    HTMLElement {\n  return (\n      <li class=\"list-group-item draggable d-flex\">\n        <div class={DRAGGABLE_HANDLE_CLASS}></div>\n        <div class=\"form-inline flex-grow-1\">\n          <div class=\"flex-fill mr-3 mb-1 mb-sm-0\">\n            {contributor.type === ContributorKind.EXTERNAL\n                ? <input class={`${INPUT_CLASS} w-100`} aria-label=\"Name of external contributor\" size={10} required\n                         fn={bindString(contributor.name, invalidCounter)} />\n                : <input class={PLAINTEXT_CLASS} aria-label=\"Name of YouTrack user\"\n                         readOnly value={youTrackUserName(contributor, youTrackUserMap)} />\n            }\n          </div>\n          {contributor.type === ContributorKind.EXTERNAL &&\n            <div class=\"input-group input-group-sm flex-nowrap mr-3 mb-1 mb-sm-0\">\n              <input type=\"number\" class={INPUT_CLASS_RIGHT} min=\"1\" max={MAX_PERSONS_PER_CONTRIBUTORS} required\n                aria-label=\"Number of persons\" style={{width: INPUT_WIDTH_3_DIGITS}}\n                fn={bindNumber(contributor.numMembers, invalidCounter)} />\n              <div class=\"input-group-append\">\n                <span class=\"input-group-text\"></span>\n              </div>\n            </div>\n          }\n          <div class=\"input-group input-group-sm flex-nowrap mr-3 mb-1 mb-sm-0\">\n            <input type=\"number\" class={INPUT_CLASS_RIGHT} min=\"1\" max={MAX_HOURS_PER_WEEK} required\n                   aria-label=\"Hours per week per person\" style={{width: INPUT_WIDTH_3_DIGITS}}\n                   fn={bindNumber(contributor.hoursPerWeek, invalidCounter)} />\n            <div class=\"input-group-append\">\n              <span class=\"input-group-text\">h/week</span>\n            </div>\n          </div>\n        </div>\n        <button type=\"button\" class=\"close\" aria-label=\"Remove contributor\" onClick={() => ctrl.remove()}>\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </li>\n  );\n}\n\n\nfunction youTrackUserName(contributor: YouTrackContributor, youTrackUserMapSignal: () => Map<string, User>) {\n  const userMap: Map<string, User> = youTrackUserMapSignal();\n  return userMap.has(contributor.id)\n    ? userMap.get(contributor.id)!.fullName\n    : `Unknown name (User ID = ${contributor.id})`;\n}\n","import { mapSample, SDataArray } from 's-array';\nimport * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { Counter } from '../../utils/counter';\nimport { bindNumber, bindString, focusOnChangeToValue, sortableBindSarray, withClassIff } from '../../utils/surplus';\nimport { User } from '../../youtrack-rest';\nimport {\n  DRAGGABLE_HANDLE_CLASS,\n  EDIT_AREA_CLASS,\n  FORM_GROUP_CLASS,\n  HELP_CLASS,\n  INPUT_CLASS,\n  INPUT_CLASS_RIGHT,\n  LABEL_CLASS,\n  SELECT_CLASS,\n} from '../bootstrap';\nimport { Contributor, ContributorKind } from '../contributor/contributor-model';\nimport {\n  ContributorView,\n  INPUT_WIDTH_3_DIGITS,\n  MAX_HOURS_PER_WEEK,\n  MAX_PERSONS_PER_CONTRIBUTORS,\n} from '../contributor/contributor-view';\nimport { ContributorsCtrl } from './contributors-ctrl';\nimport { ContributorEditArea, EXTERNAL_CONTRIBUTOR_VALUE } from './contributors-model';\n\nexport interface ContributorsProperties {\n  readonly label: string;\n  readonly contributors: SDataArray<Contributor>;\n  readonly contributorEditArea: ContributorEditArea;\n  readonly ctrl: ContributorsCtrl;\n  readonly youTrackUserMap: () => Map<string, User>;\n  readonly invalidCounter: Counter;\n}\n\nexport function ContributorsView({label, contributors, contributorEditArea, ctrl, youTrackUserMap, invalidCounter}:\n    ContributorsProperties): HTMLElement {\n  return (\n      <div class={FORM_GROUP_CLASS}>\n        <label class={LABEL_CLASS}>{label}</label>\n        <div className={EDIT_AREA_CLASS}>\n          <Placeholder fn={withClassIff(() => contributors().length > 0, 'd-none')} />\n          <ul class=\"list-group mb-3\"\n              fn1={sortableBindSarray(contributors, {handle: `.${DRAGGABLE_HANDLE_CLASS}`})}\n              fn2={withClassIff(() => contributors().length === 0, 'd-none')}>\n            {mapSample(ctrl.contributorCtrls, ([contributor, contributorCtrl]) =>\n                <ContributorView contributor={contributor} ctrl={contributorCtrl} youTrackUserMap={youTrackUserMap}\n                                 invalidCounter={invalidCounter} />\n            )}\n          </ul>\n          <div class=\"list-group-add d-flex\">\n            <div class=\"form-inline flex-grow-1\">\n              <div class=\"flex-fill mr-3 mb-1 mb-sm-0\"\n                   fn={withClassIff(() => ctrl.newEntryType() === ContributorKind.EXTERNAL, 'd-none')}>\n                <select class={`${SELECT_CLASS} w-100`} fn={bindString(contributorEditArea.id)}>\n                  {contributorEditArea.id().length === 0 &&\n                    <option value=\"\" selected disabled>Choose to add</option>\n                  }\n                  <option value={EXTERNAL_CONTRIBUTOR_VALUE}>External contributor</option>\n                  <optgroup label=\"YouTrack Users\">\n                    {Array.from(youTrackUserMap().values(), (user) =>\n                        <option value={user.id}>{user.fullName}</option>\n                    )}\n                  </optgroup>\n                </select>\n              </div>\n              <div class=\"input-group input-group-sm flex-nowrap flex-fill mr-3 mb-1 mb-sm-0\"\n                   fn={withClassIff(() => ctrl.newEntryType() !== ContributorKind.EXTERNAL, 'd-none')}>\n                <input class={INPUT_CLASS} size={10} required aria-label=\"Name of external contributor\"\n                       fn1={bindString(contributorEditArea.name)}\n                       fn2={focusOnChangeToValue<ContributorKind>(ctrl.newEntryType, ContributorKind.EXTERNAL)} />\n                <div class=\"input-group-append\">\n                  <button type=\"button\" class=\"btn btn-outline-secondary\" onClick={() => ctrl.reset()}>Reset</button>\n                </div>\n              </div>\n              <div class=\"input-group input-group-sm flex-nowrap mr-3 mb-1 mb-sm-0\"\n                   fn={withClassIff(() => ctrl.newEntryType() !== ContributorKind.EXTERNAL, 'd-none')}>\n                <input type=\"number\" class={INPUT_CLASS_RIGHT} min=\"1\" max={MAX_PERSONS_PER_CONTRIBUTORS} required\n                       style={{width: INPUT_WIDTH_3_DIGITS}}\n                       aria-label=\"Number of persons\" fn={bindNumber(contributorEditArea.numMembers)} />\n                <div class=\"input-group-append\">\n                  <span class=\"input-group-text\"></span>\n                </div>\n              </div>\n              <div class=\"input-group input-group-sm flex-nowrap mr-3 mb-1 mb-sm-0\">\n                <input type=\"number\" class={INPUT_CLASS_RIGHT} min=\"1\" max={MAX_HOURS_PER_WEEK} required\n                       style={{width: INPUT_WIDTH_3_DIGITS}}\n                       aria-label=\"Hours per week per person\" fn={bindNumber(contributorEditArea.hoursPerWeek)} />\n                <div class=\"input-group-append\">\n                  <span class=\"input-group-text\">h/week</span>\n                </div>\n              </div>\n            </div>\n            <button type=\"button\" class=\"close\" aria-label=\"Add contributor\" onClick={() => ctrl.create()}>\n              <span aria-hidden=\"true\">+</span>\n            </button>\n          </div>\n          <small class={HELP_CLASS}>\n            Define one or more contributors who can be assigned work. A contributor is either a single YouTrack user or\n            an external contributor which can be a group of multiple people. After entering the details for a new\n            contributor, click the + button.\n          </small>\n        </div>\n      </div>\n  );\n}\n\nfunction Placeholder(): HTMLElement {\n  return (\n      <div class=\"form-control form-control-sm is-invalid mb-3\">\n        <label class=\"col-form-label col-form-label-sm list-placeholder\">None added</label>\n      </div>\n  );\n}\n","import S, { DataSignal } from 's-js';\nimport { jsonable, Plain } from '../../utils/s';\nimport { ensureBoolean, ensureString } from '../../utils/typescript';\n\n/**\n * Non-transient state of the settings UI component.\n */\nexport interface DependsLinkType {\n  readonly dependsLinkTypeId: DataSignal<string>;\n  readonly doesInwardDependOnOutward: DataSignal<boolean>;\n}\n\n/**\n * Creates a new state for the settings UI component.\n */\nexport function createDependsLinkType(): DependsLinkType {\n  return {\n    dependsLinkTypeId: jsonable(S.value('')),\n    doesInwardDependOnOutward: jsonable(S.value(true)),\n  };\n}\n\n/**\n * Updates the state of the settings UI component to the given values in a plain JSON object.\n *\n * The update is performed within a single S.js transaction.\n *\n * @param type state of the settings UI component\n * @param plain plain JSON object\n */\nexport function assignDependsLinkType(type: DependsLinkType, plain: Plain<DependsLinkType>):\n    void {\n  S.freeze(() => {\n    type.dependsLinkTypeId(ensureString(plain.dependsLinkTypeId));\n    type.doesInwardDependOnOutward(ensureBoolean(plain.doesInwardDependOnOutward));\n  });\n}\n","import S, { DataSignal } from 's-js';\nimport * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { Counter } from '../utils/counter';\nimport { bindString, bindStringSet, bindToOnValue, withClassIff } from '../utils/surplus';\nimport {\n  CHECK_CLASS,\n  CHECK_LABEL_CLASS,\n  EDIT_AREA_CLASS,\n  FORM_GROUP_CLASS,\n  HELP_CLASS,\n  LABEL_CLASS,\n  SELECT_CLASS,\n} from './bootstrap';\n\n/**\n * Properties for every control in a form.\n */\nexport interface ControlProperties {\n  readonly id: string;\n  readonly label: string;\n}\n\n/**\n * Properties for {@link SelectView}.\n */\nexport interface SelectProperties<T> extends ControlProperties {\n  readonly required?: boolean;\n  readonly elementId: DataSignal<string>;\n  readonly elements: () => Map<string, T>;\n  readonly idFromElement: (element: T) => string;\n  readonly optionTextFromElement: (element: T) => string;\n  readonly invalidCounter?: Counter;\n  readonly children: JSX.Children;\n}\n\n/**\n * Returns a newly created `<select>` control for choosing at most one from a list of option.\n *\n * The control shows a disabled placeholder option if the current value is empty. If the current value is not available,\n * the control shows Unknown (ID: <YouTrack entity ID>) as select option, and this option is *not* disabled. (If it\n * was disabled, we would be running into [Firefox bug 1569314](https://bugzilla.mozilla.org/show_bug.cgi?id=1569314).)\n */\nexport function SelectView<T>({id, label, required = false, elementId, elements, idFromElement, optionTextFromElement,\n    invalidCounter, children}: SelectProperties<T>): HTMLElement {\n  return (\n      <div class={FORM_GROUP_CLASS}>\n        <label for={id} class={LABEL_CLASS}>{label}</label>\n        <div class={EDIT_AREA_CLASS}>\n          <select id={id} class={SELECT_CLASS} aria-describedby={`${id}Help`} required={required}\n                  fn={bindString(elementId, invalidCounter)}>\n            {!required &&\n                <option value=\"\">None</option>\n            }\n            <SinglePlaceholder defaultPlaceholder={!required ? undefined : 'None selected'}\n                               unknownIdPlaceholder={(unknownId) => `Unknown (ID: ${unknownId})`}\n                               selectedId={elementId()}\n                               choices={elements()} >\n              <option value={elementId()} selected disabled={elementId().length === 0} />\n            </SinglePlaceholder>\n            {Array.from(elements().values(), (element) =>\n                <option value={idFromElement(element)}\n                        selected={idFromElement(element) === S.sample(elementId)}>\n                  {optionTextFromElement(element)}\n                </option>\n            )}\n          </select>\n          <small id={`${id}Help`} class={HELP_CLASS}>{children}</small>\n        </div>\n      </div>\n  );\n}\n\n/**\n * Properties for {@link SecondarySelectView}.\n */\nexport interface SecondarySelectProperties<T> extends SelectProperties<T> {\n  readonly primaryElementId: () => string;\n}\n\n/**\n * Returns a secondary `<select>` control that allows to choose a single element.\n *\n * The element must differ from the value that (typically) is already the active value of another primary control.\n * If the current value is not available, the control shows Unknown (ID: <YouTrack entity ID>) as select option, and\n * this option is *not* disabled (see {@link SelectView}).\n */\nexport function SecondarySelectView<T>(\n    {id, label, elementId, elements, idFromElement, optionTextFromElement, primaryElementId, children}:\n    SecondarySelectProperties<T>): HTMLElement {\n  return <div class={FORM_GROUP_CLASS}>\n      <label for={id} class={LABEL_CLASS}>{label}</label>\n      <div class={EDIT_AREA_CLASS}>\n        <select id={id} class={SELECT_CLASS} aria-describedby={`${id}Help`}\n                fn={bindString(elementId)}>\n          <option value=\"\">None</option>\n          <SinglePlaceholder unknownIdPlaceholder={(unknownId) => `Unknown (ID: ${unknownId})`}\n                             selectedId={elementId()}\n                             choices={elements()}>\n            <option value={elementId()} selected />\n          </SinglePlaceholder>\n          {Array.from(elements().values(), (element) =>\n              <option value={idFromElement(element)}\n                      selected={idFromElement(element) === S.sample(elementId)}\n                      disabled={idFromElement(element) === primaryElementId()}>\n                {optionTextFromElement(element)}\n              </option>\n          )}\n        </select>\n        <small id={`${id}Help`} class={HELP_CLASS}>{children}</small>\n      </div>\n    </div>;\n}\n\n/**\n * Properties for {@link MultiSelectView}.\n */\nexport interface MultiSelectProperties<T> extends ControlProperties {\n  readonly elementIds: DataSignal<Set<string>>;\n  readonly bundleElements: () => Map<string, T>;\n  readonly idFromElement: (element: T) => string;\n  readonly optionTextFromElement: (element: T) => string;\n  readonly children: JSX.Children;\n}\n\n/**\n * Returns a `<select multiple>` control that allows to choose zero or more elements.\n *\n * The user may choose zero or more elements, so the input is assumed to be always valid.\n */\nexport function MultiSelectView<T>(\n    {id, label, elementIds, bundleElements, idFromElement, optionTextFromElement, children}: MultiSelectProperties<T>):\n    HTMLElement {\n  return <div class={FORM_GROUP_CLASS}>\n        <label for={id} class={LABEL_CLASS}>{label}</label>\n        <div class={EDIT_AREA_CLASS}>\n          <select id={id} class={SELECT_CLASS} multiple\n                  aria-describedby={`${id}Help`} fn={bindStringSet(elementIds)}>\n            {multiplePlaceholders(elementIds(), bundleElements(), (inactiveStateId) =>\n                <option value={inactiveStateId} selected>Unknown (ID: {inactiveStateId})</option>\n            )}\n            {Array.from(bundleElements().values(), (bundleElement) =>\n              <option value={idFromElement(bundleElement)}\n                      selected={S.sample(elementIds).has(idFromElement(bundleElement))}>\n                {optionTextFromElement(bundleElement)}\n              </option>\n            )}\n          </select>\n          <small id={`${id}Help`} class={HELP_CLASS}>{children}</small>\n        </div>\n      </div>;\n}\n\n/**\n * Properties for {@link RadioToggleView}.\n */\nexport interface ToggleProperties extends ControlProperties {\n  readonly value: DataSignal<boolean>;\n  readonly names: () => [string, string];\n  readonly children: JSX.Children;\n}\n\nexport function RadioToggleView({id, label, value, names, children}: ToggleProperties): HTMLElement {\n  return <div class={FORM_GROUP_CLASS}>\n      <label for={id} class={LABEL_CLASS}>{label}</label>\n      <fieldset id={id} class={EDIT_AREA_CLASS} aria-describedby={`${id}Help`}>\n        <div class=\"form-check form-check-inline\">\n          <input class={CHECK_CLASS} type=\"radio\" id={`${id}True`}\n                 fn={bindToOnValue(value, true)}  />\n          <label class={CHECK_LABEL_CLASS} for={`${id}True`}>\n            {names()[0]}\n          </label>\n        </div>\n        <div class=\"form-check form-check-inline\">\n          <input class={CHECK_CLASS} type=\"radio\" id={`${id}False`}\n                 fn={bindToOnValue(value, false)}/>\n          <label class={CHECK_LABEL_CLASS} for={`${id}False`}>\n            {names()[1]}\n          </label>\n        </div>\n        <small id={`${id}Help`} class={HELP_CLASS}>{children}</small>\n      </fieldset>\n    </div>;\n}\n\nexport interface ProgressBarProperties {\n  className?: string;\n  progress: () => number | undefined;\n}\n\nexport function ProgressBarView({className, progress}: ProgressBarProperties): HTMLElement {\n  return (\n      <div class={`progress ${className || ''}`} fn={withClassIff(() => progress() === undefined, 'd-none')}>\n        <div class=\"progress-bar progress-bar-striped progress-bar-animated\"\n             role=\"progressbar\" aria-valuenow={asString(progress)} aria-valuemin=\"0\" aria-valuemax=\"100\"\n             style={{width: asString(progress, '%')}} />\n      </div>\n  );\n}\n\n\n/**\n * Properties for {@link SinglePlaceholder}.\n */\ninterface SinglePlaceholderProperties {\n  readonly defaultPlaceholder?: string;\n  readonly unknownIdPlaceholder: (unknownId: string) => string;\n  readonly selectedId: string;\n  readonly choices: Map<string, unknown> | Set<string>;\n  readonly children: JSX.Element;\n}\n\n/**\n * Returns the `children` property (typically an `<option>` element) if certain conditions are met, or otherwise `null`.\n *\n * The {@link HTMLElement.innerText} of the placeholder is set to:\n * - the result of `unknownIdPlaceholder(selectedId)` if `selectedId` is contained in `choices`\n * - `defaultPlaceholder` if it is defined and if `selectedId` is empty.\n *\n * @return in the two cases above, the placeholder (that is, the `children` property), otherwise `null`\n */\nfunction SinglePlaceholder({defaultPlaceholder, unknownIdPlaceholder, selectedId, choices, children}:\n    SinglePlaceholderProperties): JSX.Element | null {\n  const existsAsOption: boolean = choices.has(selectedId);\n\n  let text: string = '';\n  if (!existsAsOption && selectedId.length > 0) {\n    text = unknownIdPlaceholder(selectedId);\n  } else if (defaultPlaceholder !== undefined && selectedId.length === 0) {\n    text = defaultPlaceholder;\n  }\n\n  if (text.length > 0) {\n    children.innerText = text;\n    return children;\n  } else {\n    return null;\n  }\n}\n\nfunction multiplePlaceholders(selectedIds: Set<string>, choices: Map<string, unknown>,\n    elementFactory: (selectedId: string) => JSX.Element): JSX.Element[] {\n  return Array.from(selectedIds)\n      .filter((inactiveStateId) => !choices.has(inactiveStateId))\n      .map(elementFactory);\n}\n\nfunction asString(progress: () => number | undefined, unit: string = ''): string {\n  const currentProgress: number | undefined = progress();\n  const value: number = currentProgress === undefined || currentProgress < 0\n      ? 0\n      : Math.min(100, currentProgress);\n  return value === 0\n      ? value.toString()\n      : `${value}${unit}`;\n}\n","import * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { BundleElement, CustomField, IssueLinkType, SavedQuery } from '../youtrack-rest';\nimport {\n  MultiSelectProperties,\n  MultiSelectView,\n  SecondarySelectProperties,\n  SecondarySelectView,\n  SelectProperties,\n  SelectView,\n} from './base-views';\n\ntype StandardProperties = 'idFromElement' | 'optionTextFromElement';\ntype ElementIdAndElements = Pick<SelectProperties<CustomField>, 'elementId' | 'elements'>;\n\nexport function IssueFieldView({id, label, required, elementId, elements, invalidCounter, children}:\n    Omit<SelectProperties<CustomField>, StandardProperties>): HTMLElement {\n  return (\n      <SelectView id={id} label={label} required={required} elementId={elementId} elements={elements}\n                  idFromElement={(field) => field.id}\n                  optionTextFromElement={(field) => field.name}\n                  invalidCounter={invalidCounter}>\n        {children}\n      </SelectView>\n  );\n}\n\n/**\n * Returns a control that allows to choose the assignee custom field.\n *\n * The assignee custom field is assumed to be optional (and hence the input is always valid, even if empty).\n */\nexport function AssigneeFieldView({elementId, elements}: ElementIdAndElements): HTMLElement {\n  return (\n      <IssueFieldView id=\"assigneeField\" label=\"Assignee Field:\" elementId={elementId} elements={elements}>\n        The custom field (of type user) that contains the assignee.\n      </IssueFieldView>\n  );\n}\n\n/**\n * Returns a control that allows to choose the issue type custom field.\n *\n * The issue type custom field is assumed to be optional (and hence the input is always valid, even if empty).\n */\nexport function IssueTypeFieldView({elementId, elements}: ElementIdAndElements): HTMLElement {\n  return (\n      <IssueFieldView id=\"typeField\" label=\"Type Field:\" elementId={elementId} elements={elements}>\n        The custom field (of type enum) that contains the issue type.\n      </IssueFieldView>\n  );\n}\n\nexport function LinkTypeView({id, label, required, elementId, elements, invalidCounter, children}:\n    Omit<SelectProperties<IssueLinkType>, StandardProperties>): HTMLElement {\n  return (\n      <SelectView id={id} label={label} required={required} elementId={elementId} elements={elements}\n                  idFromElement={(linkType) => linkType.id}\n                  optionTextFromElement={(linkType) =>\n                      `${linkType.name} (${linkType.sourceToTarget}  ${linkType.targetToSource})`}\n                  invalidCounter={invalidCounter}>\n        {children}\n      </SelectView>\n  );\n}\n\nexport function SavedQueryView({id, label, elementId, elements, invalidCounter, children}:\n    Omit<SelectProperties<SavedQuery>, StandardProperties>): HTMLElement {\n  return (\n      <SelectView id={id} label={label} required elementId={elementId} elements={elements}\n                  idFromElement={idFromElement} optionTextFromElement={optionTextFromSavedQuery}\n                  invalidCounter={invalidCounter}>\n        {children}\n      </SelectView>\n  );\n}\n\nexport function OverlaySavedQueryView({id, label, elementId, elements, primaryElementId, children}:\n    Omit<SecondarySelectProperties<SavedQuery>, StandardProperties>): HTMLElement {\n  return (\n      <SecondarySelectView id={id} label={label} elementId={elementId} elements={elements}\n                           idFromElement={idFromElement} optionTextFromElement={optionTextFromSavedQuery}\n                           primaryElementId={primaryElementId}>\n        {children}\n      </SecondarySelectView>\n  );\n}\n\nexport function BundleElementsView({id, label, elementIds, bundleElements, children}:\n    Omit<MultiSelectProperties<BundleElement>, StandardProperties>): HTMLElement {\n  return (\n      <MultiSelectView id={id} label={label} elementIds={elementIds} bundleElements={bundleElements}\n                          idFromElement={idFromElement} optionTextFromElement={optionTextFromElement}>\n        {children}\n      </MultiSelectView>\n  );\n}\n\n\nfunction idFromElement(element: {id: string}): string {\n  return element.id;\n}\n\nfunction optionTextFromElement(element: {name: string}): string {\n  return element.name;\n}\n\nfunction optionTextFromSavedQuery(savedQuery: SavedQuery): string {\n  return `${savedQuery.name} (${savedQuery.owner.fullName})`;\n}\n","import * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { Counter } from '../../utils/counter';\nimport { IssueLinkType } from '../../youtrack-rest';\nimport { RadioToggleView } from '../base-views';\nimport { LinkTypeView } from '../you-track-base-views';\nimport { DependsLinkType } from './depends-link-type-model';\n\nexport interface DependsLinkTypeProperties {\n  readonly dependsLinkType: DependsLinkType;\n  readonly directedIssueLinkTypes: () => Map<string, IssueLinkType>;\n  readonly invalidCounter: Counter;\n}\n\n/**\n * Returns a control that allows to choose the finish-to-start dependency link type.\n *\n * The bound value is assumed to be required.\n */\nexport function DependsLinkTypeView(\n    {dependsLinkType, directedIssueLinkTypes, invalidCounter}: DependsLinkTypeProperties): HTMLElement {\n  return (\n      <div>\n        <LinkTypeView id=\"dependsLinkType\" label=\"Dependency Link:\" required\n                      elementId={dependsLinkType.dependsLinkTypeId} elements={directedIssueLinkTypes}\n                      invalidCounter={invalidCounter}>\n          The type of issue link that indicates a finish-to-start dependency.\n        </LinkTypeView>\n        <RadioToggleView id=\"doesInwardDependOnOutward\" label=\"A before B:\"\n                         value={dependsLinkType.doesInwardDependOnOutward}\n                         names={() => issueLinkDirectionNames(\n                             directedIssueLinkTypes, dependsLinkType.dependsLinkTypeId)}>\n          The side of a dependency link synonymous with needs to be finished before.\n        </RadioToggleView>\n      </div>\n  );\n}\n\n\nfunction issueLinkDirectionNames(\n    directedIssueLinkTypes: () => Map<string, IssueLinkType>, dependsLinkTypeId: () => string): [string, string] {\n  const issueLinkType: IssueLinkType | undefined = directedIssueLinkTypes().get(dependsLinkTypeId());\n  return issueLinkType === undefined\n      ? ['A  B', 'A  B']\n      : [`A ${issueLinkType.sourceToTarget} B`, `A ${issueLinkType.targetToSource} B`];\n}\n","import { DataSignal } from 's-js';\nimport * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { withClassIff } from '../../utils/surplus';\nimport { Page } from '../app/app-model';\nimport { ProgressBarView } from '../base-views';\n\nexport interface NavProperties {\n  className?: string;\n  appName: () => string;\n  currentPage: () => Page;\n  progress: () => number | undefined;\n  numWarnings: () => number;\n  isActionBtnVisible: () => boolean;\n  actionBtnLabel: () => string;\n  actionSignal: DataSignal<null>;\n  children?: JSX.Element | JSX.Element[];\n}\n\nexport function NavView({className, appName, currentPage, progress, numWarnings, isActionBtnVisible, actionBtnLabel,\n    actionSignal, children}: NavProperties): HTMLElement {\n  return (\n      <nav class={append('navbar navbar-expand navbar-light bg-light', className)}>\n        <ProgressBarView className=\"progress-navbar\" progress={progress} />\n        <a class=\"navbar-brand d-none d-md-inline-block\">{appName()}</a>\n        <ul class=\"navbar-nav mr-auto ml-n2 ml-md-0\">\n          <li class=\"nav-item\" fn={withClassIff(() => currentPage() === Page.HOME, 'active')}>\n            <a class=\"nav-link text-nowrap\" href={href(Page.HOME)}>\n              \n              <span class=\"ml-sm-1 d-none d-sm-inline\">Project Plan</span>\n            </a>\n          </li>\n          <li class=\"nav-item\" fn={withClassIff(() => currentPage() === Page.WARNINGS, 'active')}>\n            <a class=\"nav-link text-nowrap\" href={href(Page.WARNINGS)}>\n              \n              <span class=\"ml-sm-1 d-none d-sm-inline\">Warnings</span>\n              &nbsp;\n              <span class=\"badge badge-warning\"\n                    fn={withClassIff(() => numWarnings() === 0, 'd-none')}>\n                {numWarnings()}\n              </span>\n            </a>\n          </li>\n          <li class=\"nav-item\" fn={withClassIff(() => currentPage() === Page.SETTINGS, 'active')}>\n            <a class=\"nav-link text-nowrap\" href={href(Page.SETTINGS)}>\n              \n              <span class=\"ml-sm-1 d-none d-sm-inline\">Settings</span>\n            </a>\n          </li>\n        </ul>\n        {children}\n        <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\" onClick={() => actionSignal(null)}\n                fn={withClassIff(() => !isActionBtnVisible(), 'd-none')}>\n          {actionBtnLabel()}\n        </button>\n      </nav>\n  );\n}\n\n\nfunction append(list: string, additional: string | undefined) {\n  return additional === undefined\n    ? list\n    : `${list} ${additional}`;\n}\n\nfunction href(page: Page): string {\n  return `#/${page}`;\n}\n","import S from 's-js';\nimport {\n  CustomField,\n  EnumBundleCustomFieldDefaults,\n  EnumBundleElement,\n  StateBundleCustomFieldDefaults,\n  StateBundleElement,\n} from '../../youtrack-rest';\nimport { ContributorsCtrl } from '../contributors/contributors-ctrl';\nimport { SettingsCtrl } from '../settings/settings-ctrl';\nimport { YouTrackMetadataCtrl } from '../you-track-metadata/you-track-metadata-ctrl';\nimport { ProjectPlanningSettings } from './project-planning-settings-model';\n\n/**\n * Controller for settings related to project planning (YouTrack custom fields, list of available resources, etc.).\n */\nexport class ProjectPlanningSettingsCtrl {\n  public readonly enumFields: () => Map<string, CustomField>;\n  public readonly periodFields: () => Map<string, CustomField>;\n  public readonly stateFields: () => Map<string, CustomField>;\n  public readonly userFields: () => Map<string, CustomField>;\n  public readonly states: () => Map<string, StateBundleElement>;\n  public readonly types: () => Map<string, EnumBundleElement>;\n\n  public constructor(\n      private readonly settings_: ProjectPlanningSettings,\n      public readonly settingsCtrl: SettingsCtrl,\n      public readonly youTrackMetadataCtrl: YouTrackMetadataCtrl,\n      public readonly contributorsCtrl: ContributorsCtrl\n  ) {\n    this.enumFields = youTrackMetadataCtrl.mapOfCustomFieldTypes('enum[1]');\n    this.periodFields = youTrackMetadataCtrl.mapOfCustomFieldTypes('period');\n    this.stateFields = youTrackMetadataCtrl.mapOfCustomFieldTypes('state[1]');\n    this.userFields = youTrackMetadataCtrl.mapOfCustomFieldTypes('user[1]');\n    this.states = S(() => {\n      const customField: CustomField | undefined = this.stateFields().get(this.settings_.stateFieldId());\n      const array: StateBundleElement[] = customField === undefined\n          ? []\n          : (customField.fieldDefaults as StateBundleCustomFieldDefaults).bundle.values\n              .filter((stateBundleElement) => !stateBundleElement.isResolved)\n              .sort((left, right) => left.ordinal - right.ordinal);\n      return array.reduce((map, element) => map.set(element.id, element), new Map<string, StateBundleElement>());\n    });\n    this.types = S(() => {\n      const customField: CustomField | undefined = this.enumFields().get(this.settings_.typeFieldId());\n      const array: EnumBundleElement[] = customField === undefined\n          ? []\n          : (customField.fieldDefaults as EnumBundleCustomFieldDefaults).bundle.values\n              .sort((left, right) => left.ordinal - right.ordinal);\n      return array.reduce((map, element) => map.set(element.id, element), new Map<string, EnumBundleElement>());\n    });\n\n    // If saved search and overlay are the same, set the overlay to none.\n    S(() => {\n      if (this.settings_.savedQueryId() === this.settings_.overlaySavedQueryId()) {\n        this.settings_.overlaySavedQueryId('');\n      }\n    });\n  }\n}\n","export function deepEquals<T>(left: T, right: T): boolean {\n  if (Object.is(left, right)) {\n    return true;\n  } else if (typeof left !== typeof right) {\n    return false;\n  }\n\n  if (Array.isArray(left)) {\n    if (!Array.isArray(right)) {\n      return false;\n    }\n    if (left.length !== right.length) {\n      return false;\n    }\n    const length = left.length;\n    for (let i = 0; i < length; ++i) {\n      if (!deepEquals(left[i], right[i])) {\n        return false;\n      }\n    }\n    return true;\n  } else if (typeof left === 'object') {\n    const leftKeys: string[] = Object.keys(left);\n    const rightKeys: string[] = Object.keys(right);\n    if (leftKeys.length !== rightKeys.length) {\n      return false;\n    }\n\n    for (const leftKey of leftKeys) {\n      if (!(right as {}).hasOwnProperty(leftKey) ||\n          !deepEquals((left as Record<string, any>)[leftKey], (right as Record<string, any>)[leftKey])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n","import { SDataArray } from 's-array';\nimport { Contributor } from './contributor-model';\n\nexport class ContributorCtrl {\n  public constructor(\n      private readonly contributor_: Contributor,\n      private readonly contributors_: SDataArray<Contributor>\n  ) { }\n\n  public remove(): void {\n    this.contributors_.remove(this.contributor_);\n  }\n}\n","import {\n  appendSchedule,\n  Contributor,\n  Failure,\n  isFailure,\n  ProjectPlan,\n  retrieveProjectPlan,\n  RetrieveProjectPlanOptions,\n  Schedule,\n  scheduleUnresolved,\n  SchedulingOptions,\n  YouTrackConfig,\n  YouTrackIssue,\n} from '@fschopp/project-planning-for-you-track';\nimport { strict as assert } from 'assert';\nimport S, { DataSignal } from 's-js';\nimport { deepEquals } from '../../utils/deep-equals';\nimport { Plain } from '../../utils/s';\nimport { unreachableCase } from '../../utils/typescript';\nimport { AppCtrl } from '../app/app-ctrl';\nimport { App, Page } from '../app/app-model';\nimport { ContributorCtrl } from '../contributor/contributor-ctrl';\nimport { Contributor as ContributorModel, ContributorKind } from '../contributor/contributor-model';\nimport { ContributorsCtrl } from '../contributors/contributors-ctrl';\nimport { ProjectPlanningSettingsCtrl } from '../project-planning-settings/project-planning-settings-ctrl';\nimport { ProjectPlanningSettings } from '../project-planning-settings/project-planning-settings-model';\nimport { toNormalizedPlainSettings } from '../settings/settings-model';\nimport { YouTrackMetadata } from '../you-track-metadata/you-track-metadata-model';\nimport { ProjectPlanningAppComputation } from './project-planning-app-model';\n\nconst MIN_STATE_CHANGE_DURATION_MS = 60 * 60 * 1000;\nconst DEFAULT_REMAINING_EFFORT_MS = 0;\nconst DEFAULT_WAIT_TIME_MS = 0;\n\n/**\n * Resolution is 1 hour.\n */\nconst SCHEDULING_RESOLUTION_MS = 60 * 60 * 1000;\n\n/**\n * Cannot preempt or split issues that are less than 4 hours ideal time.\n */\nconst MIN_ACTIVITY_DURATION = 4;\n\n/**\n * Prefix for the IDs of external contributors.\n *\n * No YouTrack user ID must have the same prefix. Given that all\n * [YouTrack IDs are of form \"x-y\" where both x and y are integers](https://github.com/JetBrains/xodus/blob/master/entity-store/src/main/java/jetbrains/exodus/entitystore/PersistentEntityId.java)\n * (see also the\n * [`EntityId` interface](https://github.com/JetBrains/xodus/blob/master/openAPI/src/main/java/jetbrains/exodus/entitystore/EntityId.java)),\n * anything starting with a non-numeric character should already be safe.\n */\nconst EXTERNAL_CONTRIBUTOR_ID_PREFIX = '@fschopp/project-planning-ui-for-you-track/';\n\nexport enum Action {\n  COMPLETE_SETTINGS = 'complete',\n  CONNECT = 'connect',\n  BUILD_PLAN = 'build',\n  UPDATE_PREDICTION = 'update',\n  STOP = 'stop',\n  NOTHING = 'nothing',\n}\n\n/**\n * Project plan together the settings used to compute it.\n */\nexport interface ExtendedProjectPlan {\n  /**\n   * The project plan.\n   */\n  plan: ProjectPlan;\n\n  /**\n   * The settings from the user interface.\n   *\n   * The settings are guaranteed to have been normalized with {@link toNormalizedPlainSettings}().\n   */\n  settings: Plain<ProjectPlanningSettings>;\n\n  /**\n   * Time when the YouTrack activity log had been completely received and processed.\n   */\n  youTrackTimestamp: number;\n\n  /**\n   * Mapping from contributor IDs in {@link plan} to the index of the corresponding contributor in the\n   * {@link ProjectPlanningSettings.contributors} property of {@link settings}.\n   */\n  idToContributorIdx: Map<string, number>;\n}\n\n/**\n * Controller for {@link App}.\n */\nexport class ProjectPlanningAppCtrl {\n  /**\n   * Signal carrying the kind of action triggered by the button in the nav bar.\n   */\n  public readonly action: () => Action;\n\n  /**\n   * Signal carrying the latest project plan and the settings used to compute it, or undefined if no project plan was\n   * computed yet.\n   *\n   * The settings are the result of {@link toNormalizedPlainSettings}(); that is, they are normalized.\n   */\n  public readonly extendedProjectPlan: () => ExtendedProjectPlan | undefined;\n\n  /**\n   * Signal carrying the number of warnings in the project plan.\n   */\n  public readonly numWarnings: () => number;\n\n\n  private readonly extendedProjectPlan_: DataSignal<ExtendedProjectPlan | undefined> = S.value(undefined);\n  private retrievedProjectPlanTimestamp_: number | undefined;\n  private retrieveProjectPlanResult_: ProjectPlan | undefined;\n\n\n  public static createDefaultProjectPlanningAppCtrl(\n      app: App<ProjectPlanningSettings>, appComputation: ProjectPlanningAppComputation): ProjectPlanningAppCtrl {\n    const appCtrl: AppCtrl<ProjectPlanningSettings> = AppCtrl.createDefaultAppCtrl(app, appComputation);\n    const createContributorCtrl = (contributor: ContributorModel): ContributorCtrl =>\n        new ContributorCtrl(contributor, app.settings.contributors);\n    const contributorsCtrl: ContributorsCtrl = new ContributorsCtrl(\n        app.settings.contributors, app.settings.transient, createContributorCtrl, appCtrl.invalidCounter);\n    const settingsCtrl: ProjectPlanningSettingsCtrl = new ProjectPlanningSettingsCtrl(\n        app.settings, appCtrl.settingsCtrl, appCtrl.youTrackMetadataCtrl, contributorsCtrl);\n    return new ProjectPlanningAppCtrl(app, appComputation, appCtrl, settingsCtrl);\n  }\n\n  /**\n   * Constructor.\n   *\n   * @param app_ The user-provided application state.\n   * @param appComputation_ The computed application state.\n   * @param appCtrl Controller for {@link App}.\n   * @param settingsCtrl Controller for {@link ProjectPlanningSettings}.\n   */\n  public constructor(\n      private readonly app_: App<ProjectPlanningSettings>,\n      private readonly appComputation_: ProjectPlanningAppComputation,\n      public readonly appCtrl: AppCtrl<ProjectPlanningSettings>,\n      public readonly settingsCtrl: ProjectPlanningSettingsCtrl\n  ) {\n    this.action = S(() => actionFromState(\n        this.appComputation_.progress(), this.appCtrl.youTrackMetadataCtrl.pendingMetadata(),\n        this.appComputation_.youTrackMetadata(), this.extendedProjectPlan_(),\n        toNormalizedPlainSettings(this.app_.settings), app_.currentPage(), appComputation_.numInvalidSettings() === 0));\n    this.extendedProjectPlan = this.extendedProjectPlan_;\n    this.numWarnings = S(() => {\n      const extendedProjectPlan: ExtendedProjectPlan | undefined = this.extendedProjectPlan();\n      return extendedProjectPlan === undefined\n          ? 0\n          : extendedProjectPlan.plan.warnings.length;\n    });\n\n    // 'seed' is undefined (the calculation does not keep a state), and 'onchanges' is true (skip the initial run).\n    S.on(this.appComputation_.doAction, () => this.defaultAction(), undefined, true);\n  }\n\n  public defaultAction(): void {\n    const action: Action = this.action();\n    switch (action) {\n      case Action.COMPLETE_SETTINGS: this.app_.currentPage(Page.SETTINGS); return;\n      case Action.CONNECT: this.appComputation_.connect(null); return;\n      case Action.BUILD_PLAN:\n        return this.appCtrl.showErrorIfFailure(\n            'Failed to build project plan',\n            this.buildPlan(toNormalizedPlainSettings(this.app_.settings))\n        );\n      case Action.UPDATE_PREDICTION:\n        return this.appCtrl.showErrorIfFailure(\n            'Failed to update prediction',\n            this.updatePrediction(toNormalizedPlainSettings(this.app_.settings))\n        );\n      case Action.STOP: case Action.NOTHING: return;\n      default: return unreachableCase(action);\n    }\n  }\n\n  private async buildPlan(currentConfig: Plain<ProjectPlanningSettings>): Promise<void> {\n    const typeFieldId = currentConfig.typeFieldId;\n    const splittableTypeIds = new Set<string>(currentConfig.splittableTypeIds);\n    const youTrackConfig: YouTrackConfig = {\n      stateFieldId: currentConfig.stateFieldId,\n      inactiveStateIds: currentConfig.inactiveStateIds,\n      remainingEffortFieldId: currentConfig.remainingEffortFieldId,\n      remainingWaitFieldId: currentConfig.remainingWaitFieldId,\n      assigneeFieldId: currentConfig.assigneeFieldId,\n      otherCustomFieldIds: [typeFieldId],\n      dependsLinkTypeId: currentConfig.dependsLinkTypeId,\n      doesInwardDependOnOutward: currentConfig.doesInwardDependOnOutward,\n      savedQueryId: currentConfig.savedQueryId,\n      overlaySavedQueryId: currentConfig.overlaySavedQueryId,\n      minStateChangeDurationMs: MIN_STATE_CHANGE_DURATION_MS,\n      defaultRemainingEffortMs: DEFAULT_REMAINING_EFFORT_MS,\n      defaultWaitTimeMs: DEFAULT_WAIT_TIME_MS,\n      isSplittableFn: (issue: YouTrackIssue) => {\n        const value: string | undefined = issue.customFields[typeFieldId];\n        return splittableTypeIds.has(value);\n      },\n    };\n    const options: RetrieveProjectPlanOptions = {\n      progressCallback: (percentDone) => this.appComputation_.progress(percentDone),\n    };\n    this.retrieveProjectPlanResult_ = await retrieveProjectPlan(\n        this.appCtrl.settingsCtrl.normalizedBaseUrl(),\n        youTrackConfig,\n        options\n    );\n    this.retrievedProjectPlanTimestamp_ = Date.now();\n    await this.updatePrediction(currentConfig);\n  }\n\n  private async updatePrediction(currentConfig: Plain<ProjectPlanningSettings>): Promise<void> {\n    const youTrackMetadata: YouTrackMetadata | undefined = this.appComputation_.youTrackMetadata();\n    assert(this.retrieveProjectPlanResult_ !== undefined && youTrackMetadata !== undefined &&\n        this.retrievedProjectPlanTimestamp_ !== undefined);\n\n    const contributors: Contributor[] = [];\n    const idToContributorIdx = new Map<string, number>();\n    currentConfig.contributors.forEach((contributor, index) => {\n      let id: string;\n      let numMembers: number;\n      if (contributor.type === ContributorKind.EXTERNAL) {\n        id = `${EXTERNAL_CONTRIBUTOR_ID_PREFIX}${idToContributorIdx.size}`;\n        numMembers = contributor.numMembers;\n      } else {\n        id = contributor.id;\n        numMembers = 1;\n      }\n      idToContributorIdx.set(id, index);\n      contributors.push({\n        id,\n        minutesPerWeek: 60 * contributor.hoursPerWeek,\n        numMembers,\n      });\n    });\n    const schedulingOptions: SchedulingOptions = {\n      contributors,\n      minutesPerWeek: youTrackMetadata!.minutesPerWorkWeek,\n      resolutionMs: SCHEDULING_RESOLUTION_MS,\n      minActivityDuration: MIN_ACTIVITY_DURATION,\n      predictionStartTimeMs: this.retrievedProjectPlanTimestamp_,\n    };\n    const schedule: Schedule = await scheduleUnresolved(\n        this.retrieveProjectPlanResult_!.issues, schedulingOptions);\n    const finalPlan: ProjectPlan | Failure = appendSchedule(\n        this.retrieveProjectPlanResult_!, schedule, schedulingOptions.predictionStartTimeMs!);\n    if (isFailure(finalPlan)) {\n      throw finalPlan;\n    } else {\n      this.extendedProjectPlan_({\n        plan: finalPlan,\n        settings: currentConfig,\n        youTrackTimestamp: this.retrievedProjectPlanTimestamp_!,\n        idToContributorIdx,\n      });\n    }\n  }\n}\n\nfunction actionFromState(progress: number | undefined, pendingMetadata: boolean,\n    youTrackMetadata: YouTrackMetadata | undefined, extendedProjectPlan: ExtendedProjectPlan | undefined,\n    currentSettings: Plain<ProjectPlanningSettings>, currentPage: Page, validSettings: boolean): Action {\n  if (progress !== undefined || pendingMetadata) {\n    return Action.STOP;\n  } else if (!validSettings) {\n    return currentPage === Page.SETTINGS\n        ? Action.NOTHING\n        : Action.COMPLETE_SETTINGS;\n  } else if (youTrackMetadata === undefined) {\n    return Action.CONNECT;\n  } else if (extendedProjectPlan === undefined) {\n    return Action.BUILD_PLAN;\n  }\n\n  const newWithoutContributors = {...currentSettings};\n  const lastWithoutContributors = {...extendedProjectPlan.settings};\n  delete newWithoutContributors.contributors;\n  delete lastWithoutContributors.contributors;\n  const youTrackConfigChanged = !deepEquals(newWithoutContributors, lastWithoutContributors);\n  const contributorsChanged = !deepEquals(currentSettings.contributors, extendedProjectPlan.settings.contributors);\n\n  if (youTrackConfigChanged) {\n    return Action.BUILD_PLAN;\n  } else if (contributorsChanged) {\n    return Action.UPDATE_PREDICTION;\n  } else {\n    return Action.NOTHING;\n  }\n}\n","import { SDataArray } from 's-array';\nimport S, { DataSignal } from 's-js';\nimport { jsonable, Plain } from '../../utils/s';\nimport { ensureArray, ensureString } from '../../utils/typescript';\nimport { Contributor } from '../contributor/contributor-model';\nimport {\n  assignContributorEditArea,\n  assignContributors,\n  ContributorEditArea,\n  createContributorEditArea,\n  createContributors,\n} from '../contributors/contributors-model';\nimport {\n  assignDependsLinkType,\n  createDependsLinkType,\n  DependsLinkType,\n} from '../depends-link-type/depends-link-type-model';\nimport { assignSettings, createSettings, Settings } from '../settings/settings-model';\n\n/**\n * User-provided state of the settings UI component.\n */\nexport interface ProjectPlanningSettings extends Settings, DependsLinkType {\n  readonly stateFieldId: DataSignal<string>;\n  readonly inactiveStateIds: DataSignal<Set<string>>;\n  readonly remainingEffortFieldId: DataSignal<string>;\n  readonly remainingWaitFieldId: DataSignal<string>;\n  readonly assigneeFieldId: DataSignal<string>;\n  readonly typeFieldId: DataSignal<string>;\n  readonly splittableTypeIds: DataSignal<Set<string>>;\n  readonly savedQueryId: DataSignal<string>;\n  readonly overlaySavedQueryId: DataSignal<string>;\n  readonly contributors: SDataArray<Contributor>;\n  readonly transient: ContributorEditArea;\n}\n\n/**\n * Creates a new state for the settings UI component.\n */\nexport function createProjectPlanningSettings(): ProjectPlanningSettings {\n  return {\n    ...createSettings(),\n    stateFieldId: jsonable(S.value('')),\n    inactiveStateIds: jsonable(S.value(new Set<string>())),\n    remainingEffortFieldId: jsonable(S.value('')),\n    remainingWaitFieldId: jsonable(S.value('')),\n    assigneeFieldId: jsonable(S.value('')),\n    typeFieldId: jsonable(S.value('')),\n    splittableTypeIds: jsonable(S.value(new Set<string>())),\n    ...createDependsLinkType(),\n    savedQueryId: jsonable(S.value('')),\n    overlaySavedQueryId: jsonable(S.value('')),\n    contributors: createContributors(),\n    transient: createContributorEditArea(),\n  };\n}\n\n/**\n * Updates the state of the settings UI component to the given values in a plain JSON object.\n *\n * The update is performed within a single S.js transaction.\n *\n * @param settings state of the settings UI component\n * @param plain plain JSON object\n */\nexport function assignProjectPlanningSettings(settings: ProjectPlanningSettings, plain: Plain<ProjectPlanningSettings>):\n    void {\n  S.freeze(() => {\n    assignSettings(settings, plain);\n    settings.stateFieldId(ensureString(plain.stateFieldId));\n    settings.inactiveStateIds(new Set<string>(ensureArray(plain.inactiveStateIds, [], isValidId)));\n    settings.remainingEffortFieldId(ensureString(plain.remainingEffortFieldId));\n    settings.remainingWaitFieldId(ensureString(plain.remainingWaitFieldId));\n    settings.assigneeFieldId(ensureString(plain.assigneeFieldId));\n    settings.typeFieldId(ensureString(plain.typeFieldId));\n    settings.splittableTypeIds(new Set<string>(ensureArray(plain.splittableTypeIds, [], isValidId)));\n    assignDependsLinkType(settings, plain);\n    settings.savedQueryId(ensureString(plain.savedQueryId));\n    settings.overlaySavedQueryId(ensureString(plain.overlaySavedQueryId));\n    assignContributors(settings.contributors, plain.contributors);\n    if (plain.transient !== undefined) {\n      assignContributorEditArea(settings.transient, plain.transient);\n    }\n  });\n}\n\nfunction isValidId(value: unknown): boolean {\n  return typeof value === 'string' && value.length > 0;\n}\n","import S, { DataSignal } from 's-js';\nimport { Plain } from '../../utils/s';\nimport { App, AppComputation, assignApp, createApp, createAppComputation } from '../app/app-model';\nimport {\n  assignProjectPlanningSettings,\n  createProjectPlanningSettings,\n  ProjectPlanningSettings,\n} from '../project-planning-settings/project-planning-settings-model';\n\nexport interface ProjectPlanningAppComputation extends AppComputation {\n  /**\n   * Signal to trigger the current action ({@link ProjectPlanningAppCtrl.action}).\n   */\n  readonly doAction: DataSignal<null>;\n}\n\n/**\n * Returns a newly created object for keeping the user-provided application state.\n */\nexport function createProjectPlanningApp(): App<ProjectPlanningSettings> {\n  return createApp(createProjectPlanningSettings());\n}\n\n/**\n * Returns a newly created object for keeping the computed application state.\n */\nexport function createProjectPlanningAppComputation(): ProjectPlanningAppComputation {\n  return {\n    ...createAppComputation(),\n    doAction: S.data(null),\n  };\n}\n\n/**\n * Updates the application state to the given values in a plain JSON object.\n *\n * The update is performed within a single S.js transaction.\n *\n * @param app application state\n * @param plain plain JSON object\n */\nexport function assignProjectPlanningApp(\n    app: App<ProjectPlanningSettings>, plain: Plain<App<ProjectPlanningSettings>>) {\n  S.freeze(() => {\n    assignApp(app, plain);\n    assignProjectPlanningSettings(app.settings, plain.settings);\n  });\n}\n","import { unreachableCase } from '../../utils/typescript';\nimport { Action } from './project-planning-app-ctrl';\n\nexport function projectPlanningActionLabel(action: Action): string {\n  switch (action) {\n    case Action.COMPLETE_SETTINGS: return 'Finish settings...';\n    case Action.CONNECT: return 'Connect';\n    case Action.BUILD_PLAN: return 'Build plan';\n    case Action.UPDATE_PREDICTION: return 'Update prediction';\n    case Action.STOP: return 'Stop';\n    case Action.NOTHING: return 'Nothing';\n    default: return unreachableCase(action);\n  }\n}\n","import { DataSignal } from 's-js';\nimport * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { Counter } from '../../utils/counter';\nimport { bindString } from '../../utils/surplus';\nimport { EDIT_AREA_CLASS, FORM_GROUP_CLASS, HELP_CLASS, INPUT_CLASS, LABEL_CLASS, OFFSET_CLASS } from '../bootstrap';\nimport { SettingsCtrl } from './settings-ctrl';\nimport { Settings } from './settings-model';\n\nexport interface SettingsProperties {\n  readonly settings: Settings;\n  readonly ctrl: SettingsCtrl;\n  readonly connectSignal: DataSignal<null>;\n  readonly invalidCounter: Counter;\n}\n\nexport function SettingsView({settings, ctrl, connectSignal, invalidCounter}: SettingsProperties):\n    HTMLElement {\n  return <div>\n    <div class={FORM_GROUP_CLASS}>\n      <label for=\"instanceName\" class={LABEL_CLASS}>Title:</label>\n      <div class={EDIT_AREA_CLASS}>\n        <input id=\"instanceName\" type=\"text\" class={INPUT_CLASS} aria-describedby=\"instanceNameHelp\"\n               fn={bindString(settings.name)} />\n        <small id=\"instanceNameHelp\" class=\"form-text text-muted\">\n          The tab/window title, which is also used for bookmarks.\n        </small>\n      </div>\n    </div>\n    <hr />\n    <div class={FORM_GROUP_CLASS}>\n      <label for=\"baseUrl\" class={LABEL_CLASS}>Base URL:</label>\n      <div class={EDIT_AREA_CLASS}>\n        <input id=\"baseUrl\" type=\"URL\" required class={INPUT_CLASS} aria-describedby=\"baseUrlHelp\"\n               fn={bindString(settings.youTrackBaseUrl, invalidCounter)} />\n        <small id=\"baseUrlHelp\" class=\"form-text text-muted\">\n          For YouTrack InCloud, enter the Base URL shown\n          at <a target=\"_blank\" fn={ctrl.hrefRelativeToBaseUrl('admin/domainSettings')}>Server Settings &gt; Domain\n          Settings</a>. The URL should be of form https://&lt;your-domain&gt;/youtrack. For YouTrack Standalone, enter\n          the Base URL shown at <a target=\"_blank\" fn={ctrl.hrefRelativeToBaseUrl('admin/settings')}>Server\n          Settings &gt; Global Settings</a>.\n        </small>\n      </div>\n    </div>\n    <div class={FORM_GROUP_CLASS}>\n      <label for=\"hubServiceUrl\" class={LABEL_CLASS}>Hub URL:</label>\n      <div class={EDIT_AREA_CLASS}>\n        <input id=\"hubServiceUrl\" type=\"URL\" required class={INPUT_CLASS} aria-describedby=\"hubServiceUrlHelp\"\n               disabled={ctrl.isInCloudUrl()} fn={bindString(settings.hubUrl, invalidCounter)} />\n        <small id=\"hubServiceUrlHelp\" class=\"form-text text-muted\">\n          For YouTrack InCloud without a custom domain, this setting is not configurable. Otherwise, enter the Hub URL\n          shown at <a target=\"_blank\" fn={ctrl.hrefRelativeToBaseUrl('admin/ring')}>Server Settings &gt; Hub\n          Integration</a>.\n        </small>\n      </div>\n    </div>\n    <div class={FORM_GROUP_CLASS}>\n      <label for=\"serviceId\" class={LABEL_CLASS}>Service ID in Hub:</label>\n      <div class={EDIT_AREA_CLASS}>\n        <input id=\"serviceId\" type=\"text\" required class={INPUT_CLASS} aria-describedby=\"serviceIdHelp\"\n               fn={bindString(settings.youTrackServiceId, invalidCounter)} />\n        <small id=\"serviceIdHelp\" class={HELP_CLASS}>\n          Enter the YouTrack Service ID in Hub shown\n          at <a target=\"_blank\" fn={ctrl.hrefRelativeToBaseUrl('admin/ring')}>Server Settings &gt; Hub\n          Integration</a>.\n        </small>\n      </div>\n    </div>\n    <div class={FORM_GROUP_CLASS}>\n      <div class={`${OFFSET_CLASS} ${EDIT_AREA_CLASS}`}>\n        <button type=\"button\" class=\"btn btn-sm btn-secondary\" aria-describedby=\"loginHelp\"\n                disabled={ctrl.normalizedBaseUrl().length === 0 || ctrl.normalizedHubUrl().length === 0 ||\n                    settings.youTrackServiceId().length === 0}\n                onClick={() => connectSignal(null)}>Connect</button>\n        <small id=\"loginHelp\" class={HELP_CLASS}>\n          If you are not logged into YouTrack yet, this will take you to the YouTrack login page. Once logged in, you\n          will be redirected back here. Please note: The URI of this web app (that is,\n          {SettingsCtrl.currentUri().toString()}) needs to be registered in the&#32;\n          <a target=\"_blank\"\n             fn={ctrl.hubRelativeToBaseUrlAndServiceId((serviceId) =>\n                 `admin/hub/services/${serviceId}?tab=settings`)}>\n            Hub Settings\n          </a> under Redirect URIs. The current origin (that is, {SettingsCtrl.currentOrigin().toString()}) also\n          needs to be added under Allowed origins\n          at <a target=\"_blank\" fn={ctrl.hrefRelativeToBaseUrl('admin/settings')}>Server Settings &gt; Global\n          Settings</a>.\n        </small>\n      </div>\n    </div>\n  </div>;\n}\n","import { DataSignal } from 's-js';\nimport * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { Counter } from '../../utils/counter';\nimport { ContributorsView } from '../contributors/contributors-view';\nimport { DependsLinkTypeView } from '../depends-link-type/depends-link-type-view';\nimport { SettingsView } from '../settings/settings-view';\nimport {\n  AssigneeFieldView,\n  BundleElementsView,\n  IssueFieldView,\n  IssueTypeFieldView,\n  OverlaySavedQueryView,\n  SavedQueryView,\n} from '../you-track-base-views';\nimport { ProjectPlanningSettingsCtrl } from './project-planning-settings-ctrl';\nimport { ProjectPlanningSettings } from './project-planning-settings-model';\n\nexport interface ProjectPlanningSettingsProperties {\n  readonly settings: ProjectPlanningSettings;\n  readonly ctrl: ProjectPlanningSettingsCtrl;\n  readonly connectSignal: DataSignal<null>;\n  readonly invalidCounter: Counter;\n}\n\nexport function ProjectPlanningSettingsView({settings, ctrl, connectSignal, invalidCounter}:\n    ProjectPlanningSettingsProperties): HTMLElement {\n  return (\n      <div>\n        <SettingsView settings={settings} ctrl={ctrl.settingsCtrl} connectSignal={connectSignal}\n                      invalidCounter={invalidCounter} />\n        <hr />\n        <IssueFieldView id=\"stateField\" label=\"State Field:\" elementId={settings.stateFieldId} required\n                        elements={ctrl.stateFields} invalidCounter={invalidCounter}>\n          The custom field (of type state) that contains the issue state.\n        </IssueFieldView>\n        <BundleElementsView id=\"inactiveStates\" label=\"Inactive States:\" elementIds={settings.inactiveStateIds}\n                            bundleElements={ctrl.states}>\n          The unresolved states indicating an issue should appear as inactive.\n        </BundleElementsView>\n        <IssueFieldView id=\"remainingEffortField\" label=\"Remaining Effort Field:\" required\n                        elementId={settings.remainingEffortFieldId} elements={ctrl.periodFields}\n                        invalidCounter={invalidCounter}>\n          The custom field (of type period) that contains the remaining effort.\n        </IssueFieldView>\n        <IssueFieldView id=\"remainingWaitField\" label=\"Remaining Wait Field:\"\n                        elementId={settings.remainingWaitFieldId} elements={ctrl.periodFields}>\n          The custom field (of type period) that contains the remaining wait.\n        </IssueFieldView>\n        <AssigneeFieldView elementId={settings.assigneeFieldId} elements={ctrl.userFields}/>\n        <IssueTypeFieldView elementId={settings.typeFieldId} elements={ctrl.enumFields}/>\n        <BundleElementsView id=\"splittableTypes\" label=\"Splittable Types:\" elementIds={settings.splittableTypeIds}\n                            bundleElements={ctrl.types}>\n          The issue types that allow splitting across multiple persons when planning.\n        </BundleElementsView>\n        <DependsLinkTypeView dependsLinkType={settings}\n                             directedIssueLinkTypes={ctrl.youTrackMetadataCtrl.directedIssueLinkTypes}\n                             invalidCounter={invalidCounter} />\n        <SavedQueryView id=\"savedQuery\" label=\"Saved Query:\" elementId={settings.savedQueryId}\n                        elements={ctrl.youTrackMetadataCtrl.savedQueries} invalidCounter={invalidCounter}>\n          The saved search containing the issues that will comprise the project plan. Issues will be scheduled in the\n          order of this saved search (unless also part of the overlay saved search).\n        </SavedQueryView>\n        <OverlaySavedQueryView id=\"overlaySavedQuery\" label=\"Overlay:\" elementId={settings.overlaySavedQueryId}\n                        elements={ctrl.youTrackMetadataCtrl.savedQueries} primaryElementId={settings.savedQueryId}>\n          Reorders the issues that are contained in both saved searches according to this overlay. The order (more\n          precisely, the rank) of all issues not contained in this overlay remains the same.\n        </OverlaySavedQueryView>\n        <hr />\n        <ContributorsView label=\"Contributors:\" contributors={settings.contributors}\n                          contributorEditArea={settings.transient} ctrl={ctrl.contributorsCtrl}\n                          youTrackUserMap={ctrl.youTrackMetadataCtrl.youTrackUserMap} invalidCounter={invalidCounter} />\n      </div>\n  );\n}\n","import { handlePotentialOauthRedirect } from '@fschopp/project-planning-for-you-track';\nimport { strict as assert } from 'assert';\nimport S, { DataSignal } from 's-js';\nimport { Plain, toPlain } from '../utils/s';\nimport { App, Page } from './app/app-model';\nimport { Settings } from './settings/settings-model';\n\nconst FABRICATED_HOST = 'http://ignored-host';\n\ninterface ParsedHash {\n  path: string;\n  params: URLSearchParams;\n  raw: string;\n}\n\ntype RawHash = string;\n\ntype Hash = ParsedHash | RawHash;\n\nfunction isParsedHash(hash: Hash): hash is ParsedHash {\n  return typeof hash !== 'string';\n}\n\nfunction parseWindowLocation(): Hash {\n  const theHash = window.location.hash;\n  if (theHash.startsWith('#/')) {\n     const fabricatedUrl = new URL(theHash.slice(1), 'http://ignored-host/');\n     return {\n       path: fabricatedUrl.pathname,\n       params: fabricatedUrl.searchParams,\n       raw: theHash,\n     };\n  } else {\n    return theHash;\n  }\n}\n\n/**\n * Router that two-way binds the fragment (also called hash) of the URI of the current window/tab and the application\n * state.\n *\n * @typeparam T Type of the application subclass.\n * @typeparam U Type of of the user-provided state; that is, of {@link App.settings}.\n */\nexport class Router<T extends App<U>, U extends Settings = T['settings']> {\n  private hash: DataSignal<Hash> = S.value(parseWindowLocation());\n\n  /**\n   * Constructor.\n   *\n   * @param app The user-provided application state.\n   * @param assignApp Function that updates the application state to the given values in a plain JSON object.\n   * @param assignApp.app plain JSON object\n   * @param assignSettings Function that updates the application settings to the given values in a plain JSON object.\n   * @param assignSettings.app plain JSON object\n   */\n  public constructor(app: T, assignApp: (app: Plain<T>) => any, assignSettings: (settings: Plain<U>) => any) {\n    const savedState: Plain<T> | undefined = handlePotentialOauthRedirect<Plain<T>>();\n    if (savedState !== undefined) {\n      assignApp(savedState);\n    }\n\n    // Bind hash to react to changes of window.location.hash\n    const setStateFromHash = () => this.hash(parseWindowLocation());\n    window.addEventListener('hashchange', setStateFromHash, false);\n    S.cleanup(() => window.removeEventListener('hashchange', setStateFromHash));\n\n    // Bind config to react to changes of hash.\n    const needsNormalization: DataSignal<null> = S.data(null);\n    let hashFromConfig: string = '';\n    S(() => {\n      const currentHash: Hash = this.hash();\n      if (isParsedHash(currentHash)) {\n        if (currentHash.raw.slice(1) === hashFromConfig) {\n          // If this event is the result of us setting the hash ourselves (see below), ignore this update.\n          return;\n        }\n\n        const candidatePageName: string = currentHash.path.slice(1);\n        if (Object.values(Page).includes(candidatePageName)) {\n          app.currentPage(candidatePageName as Page);\n        }\n        if (currentHash.params.has('config')) {\n          const config: Plain<U> = JSON.parse(currentHash.params.get('config')!);\n          assignSettings(config);\n        } else {\n          needsNormalization(null);\n        }\n      }\n    });\n\n    // Bind browser hash to react to changes of config\n    S(() => {\n      // We need to depend on the following data signal, in order to guarantee normalization of the hash if the user\n      // changes it manually. (We cannot use S.on(), which may be a bit clearer, because we also depend on the\n      // configuration signals.)\n      needsNormalization();\n      const currentHash = window.location.hash.slice(1);\n      const url = new URL(`/${app.currentPage()}`, FABRICATED_HOST);\n      // JSON.stringify visits the object tree recursively, so even changes to nested data signal will trigger this\n      // computation to re-run. What is remarkable: nested data signals (say in a SDataArray) that do not yet exist will\n      // also trigger this computation in the future! The reason it works: The set of data signals a computation depends\n      // on is not static but updated whenever the computation runs. Now adding an element to SDataArray reruns this\n      // computation, which then records the dependency on the element's data signal(s). The same works when removing\n      // elements.\n      url.searchParams.set('config', JSON.stringify(toPlain(app.settings)));\n      assert(url.toString().startsWith(FABRICATED_HOST), 'URL.toString() returned unexpected result.');\n      hashFromConfig = url.toString().substring(FABRICATED_HOST.length);\n      if (currentHash !== hashFromConfig) {\n        window.location.hash = hashFromConfig;\n      }\n    });\n  }\n}\n","import { ProjectPlan, ProjectPlanWarning } from '@fschopp/project-planning-for-you-track';\nimport * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\n\nexport function WarningsView({projectPlan}: {projectPlan: () => ProjectPlan | undefined}): HTMLElement {\n  return (\n      <ul class=\"list-group\">\n        {warnings(projectPlan()).map((warning) =>\n            <li class=\"list-group-item\">{warning.description}</li>\n        )}\n      </ul>\n  );\n}\n\nfunction warnings(projectPlan: ProjectPlan | undefined): ProjectPlanWarning[] {\n  return projectPlan === undefined\n      ? []\n      : projectPlan.warnings;\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","'use strict';\n\nvar objectAssign = require('object-assign');\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n// NB: The URL to the CommonJS spec is kept just for tradition.\n//     node-assert has evolved a lot since then, both in API and behavior.\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\n// Expose a strict only variant of assert\nfunction strict(value, message) {\n  if (!value) fail(value, true, message, '==', strict);\n}\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n","/**\n * A [dhtmlxGantt task](https://docs.dhtmlx.com/gantt/desktop__loading.html#dataproperties) object.\n *\n * Note that dhtmlxGantt is more liberal in the types than specified here. This definition is more restrictive for our\n * needs.\n */\nimport {\n  App,\n  assignProjectPlanningApp,\n  createProjectPlanningApp,\n  jsonable,\n  Plain,\n  ProjectPlanningSettings,\n} from '@fschopp/project-planning-ui-for-you-track';\nimport S, { DataSignal } from 's-js';\n\n/**\n * A contributor to a Gantt task.\n */\nexport interface GanttContributor {\n  /**\n   * Whether this contributor is an external contributor.\n   */\n  isExternal: boolean;\n\n  /**\n   * If {@link isExternal} is false, the YouTrack-internal ID of the user (contributor).\n   */\n  id: string;\n\n  /**\n   * The name of the contributor.\n   *\n   * If for some reason the name is unknown (for instance, because YouTrack metadata changed), this property is\n   * `undefined`.\n   */\n  name: string | undefined;\n\n  /**\n   * If {@link isExternal} is false, the URL to the user avatar.\n   */\n  avatarUrl?: string;\n\n  /**\n   * The index of the corresponding contributor in {@link ProjectPlanningSettings.contributors}.\n   *\n   * This property allows sorting of contributors according to the order in the settings.\n   */\n  ordinal: number;\n}\n\n/**\n * The type of a {@link GanttTask}.\n */\nexport enum GanttTaskType {\n  /**\n   * The {@link GanttTask} is the main task object; that is, it corresponds to a `YouTackIssue`. It shows the total time\n   * span of all `IssueActivity` objects, *including* those of sub-issues.\n   */\n  MAIN = 'main',\n\n  /**\n   * The {@link GanttTask} corresponds to a parent `YouTrackIssue`. It shows the total time span of its own\n   * `IssueActivity` objects (*excluding* sub-issues).\n   */\n  PARENT_ONLY = 'parent_only',\n\n  /**\n   * The {@link GanttTask} corresponds to an `IssueActivity` of a `YouTrackIssue` that has more than one activity.\n   *\n   * If the issue has no sub-issues, then the main {@link GanttTask} has {@link GanttTask.render} set to `'split'`.\n   * Otherwise, there is is another {@link GanttTask} with type {@link PARENT_ONLY} that has {@link GanttTask.render}\n   * set to `'split'`. In either case, the {@link GanttTask.parent} property of the current {@link GanttTask} is set to\n   * the split task object.\n   */\n  ACTIVITY = 'activity',\n}\n\n/**\n * A [dhtmlxGantt task](https://docs.dhtmlx.com/gantt/desktop__loading.html#dataproperties) object.\n *\n * If the {@link GanttTask.render} property of the parent task is `'split'`, then the current instance only represents a\n * task fragment (and it corresponds to an `IssueActivity`).\n */\nexport interface GanttTask {\n  /**\n   * The task id.\n   */\n  id: string;\n\n  /**\n   * The task text.\n   */\n  text: string;\n\n  /**\n   * Indicates whether the task is unscheduled (without a start date). See the dhtmlxGantt documentation of\n   * [Unscheduled Tasks](https://docs.dhtmlx.com/gantt/desktop__unscheduled_tasks.html).\n   */\n  unscheduled?: boolean;\n\n  /**\n   * The date when a task is scheduled to begin.\n   */\n  start_date?: Date;\n\n  /**\n   * The date when a task is scheduled to end.\n   */\n  end_date?: Date;\n\n  /**\n   * The id of the parent task.\n   */\n  parent?: string;\n\n  /**\n   * Specifies whether the task branch will be opened initially (to show child tasks).\n   */\n  open?: boolean;\n\n  /**\n   * See the dhtmlxGantt\n   * [Split Task Example](https://docs.dhtmlx.com/gantt/samples/04_customization/11_split_task.html).\n   */\n  render?: 'split';\n\n  // All fields below are custom fields not defined by dhtmlxGantt\n\n  /**\n   * The type of this object.\n   */\n  ganttTaskType: GanttTaskType;\n\n  /**\n   * Contributors for this task or task fragment.\n   *\n   * If the YouTrack issue is not splittable and the task fragment extends into the future, then this is a singleton\n   * array containing {@link assignee}. Otherwise, this array may have an arbitrary size. For fragments in the past, it\n   * may also be empty.\n   */\n  contributors: GanttContributor[];\n\n  /**\n   * Whether this task or task fragment represents wait time.\n   */\n  isWaiting: boolean;\n\n  /**\n   * Whether this task or task fragment is (at least partially) in the future.\n   */\n  isInFuture: boolean;\n\n  /**\n   * The 0-based index of this task fragment among all *non-waiting* task fragment; or -1 if {@link ganttTaskType} is\n   * not {@link GanttTaskType.ACTIVITY}.\n   *\n   * See also {@link GanttIssue.totalNumActivities}.\n   */\n  index: number;\n\n  /**\n   * The issue.\n   *\n   * Note that a {@link GanttTask} can also represent issue activities, hence there is a 1:n relationship between\n   * {@link GanttIssue} and {@link GanttTask}.\n   */\n  issue: GanttIssue;\n}\n\n/**\n * An issue with all relevant information for a Gantt chart.\n */\nexport interface GanttIssue {\n  /**\n   * The issue ID.\n   */\n  id: string;\n\n  /**\n   * URL of this issue.\n   */\n  url: string;\n\n  /**\n   * Whether the corresponding issue has been resolved in YouTrack.\n   */\n  isResolved: boolean;\n\n  /**\n   * The YouTrack-internal ID of the type of the corresponding issue.\n   */\n  typeId: string;\n\n  /**\n   * The YouTrack-internal ID of the state of the corresponding issue.\n   */\n  stateId: string;\n\n  /**\n   * The YouTrack assignee of the corresponding issue (if known).\n   */\n  assignee?: GanttContributor;\n\n  /**\n   * Whether the corresponding issue has children (sub-issues).\n   */\n  hasSubIssues: boolean;\n\n  /**\n   * Total number of *non-waiting* activities.\n   *\n   * See also {@link GanttTask.index}.\n   */\n  totalNumActivities: number;\n}\n\n/**\n * A [dhtmlxGantt link](https://docs.dhtmlx.com/gantt/desktop__loading.html#dataproperties) object.\n */\nexport interface GanttLink {\n  /**\n   * The link id.\n   *\n   * We assign numeric IDs dynamically at load time. The IDs have no correspondence to the issue tracker.\n   */\n  id: number;\n\n  /**\n   * The id of a task that the dependency will start from.\n   */\n  source: string;\n\n  /**\n   * The id of a task that the dependency will end with.\n   */\n  target: string;\n\n  /**\n   * The dependency type. The available values are stored in the\n   * [`gantt.config.links`](https://docs.dhtmlx.com/gantt/api__gantt_links_config.html) object.\n   *\n   * We currently only support finish-to-start links.\n   */\n  type: '0';\n}\n\n/**\n * Argument type for [`gantt.parse()`](https://docs.dhtmlx.com/gantt/api__gantt_parse.html).\n */\nexport interface GanttData {\n  /**\n   * Gantt tasks.\n   */\n  data: GanttTask[];\n\n  /**\n   * Links between Gantt tasks.\n   */\n  links: GanttLink[];\n}\n\nexport interface GanttApp extends App<ProjectPlanningSettings> {\n  readonly zoom: DataSignal<number>;\n  readonly issueListWidth: DataSignal<number>;\n}\n\nexport function createGanttApp(): GanttApp {\n  return {\n    ...createProjectPlanningApp(),\n    zoom: jsonable(S.value(0)),\n    issueListWidth: jsonable(S.value(250)),\n  };\n}\n\nexport function assignGanttApp(ganttApp: GanttApp, plain: Plain<GanttApp>) {\n  S.freeze(() => {\n    assignProjectPlanningApp(ganttApp, plain);\n    ganttApp.zoom(plain.zoom);\n    ganttApp.issueListWidth(plain.issueListWidth);\n  });\n}\n\nexport type ScaleUnit = 'minute' | 'hour' | 'day' | 'week' | 'month' | 'year';\n\nexport interface Scale {\n  unit: ScaleUnit;\n  format: string;\n  subscales: Subscale[];\n}\n\nexport interface Subscale {\n  unit: ScaleUnit;\n  step: number;\n  date: string;\n}\n\nexport interface ConcreteScale extends Scale {\n  minColumnWidth: number;\n}\n","import {\n  groupByIntervalAndWaitStatus,\n  IssueNode,\n  makeForest,\n  MultiAssigneeIssueActivity,\n  ProjectPlan,\n  traverseIssueForest,\n  YouTrackIssue,\n} from '@fschopp/project-planning-for-you-track';\nimport {\n  Contributor,\n  ContributorKind,\n  ExtendedProjectPlan,\n  Plain,\n  ProjectPlanningAppComputation,\n  ProjectPlanningAppCtrl,\n  ProjectPlanningSettings,\n  unreachableCase,\n  YouTrackMetadata,\n  YouTrackRest,\n} from '@fschopp/project-planning-ui-for-you-track';\nimport { EnumBundleElement } from '@fschopp/project-planning-ui-for-you-track/dist/es6/youtrack-rest';\nimport { strict as assert } from 'assert';\nimport S from 's-js';\nimport {\n  ConcreteScale,\n  GanttApp,\n  GanttContributor,\n  GanttData,\n  GanttIssue,\n  GanttLink,\n  GanttTask,\n  GanttTaskType,\n  Scale,\n} from './gantt-model';\n\nexport class GanttCtrl {\n  public readonly scale: () => ConcreteScale;\n  public readonly projectPlan: () => ProjectPlan | undefined;\n  public readonly planDate: () => Date | undefined;\n\n  /**\n   * Signal carrying a map from user ID, as used for the {@link ExtendedProjectPlan}, to the YouTrack user information.\n   */\n  public readonly relevantUsers: () => Map<string, GanttContributor>;\n\n  /**\n   * Signal carrying the project plan converted to {@link GanttData}.\n   */\n  public readonly ganttData: () => GanttData | undefined;\n\n  /**\n   * Signal carrying a map from type ID to the enum bundle element.\n   */\n  public readonly typeBundleElements: () => Map<string, EnumBundleElement>;\n\n  public static createDefaultGanttCtrl(app: GanttApp, appComputation: ProjectPlanningAppComputation): GanttCtrl {\n    const projectPlanningAppCtrl: ProjectPlanningAppCtrl =\n      ProjectPlanningAppCtrl.createDefaultProjectPlanningAppCtrl(app, appComputation);\n    return new GanttCtrl(app, appComputation, projectPlanningAppCtrl);\n  }\n\n  public constructor(\n      app: GanttApp,\n      appComputation: ProjectPlanningAppComputation,\n      public readonly projectPlanningAppCtrl: ProjectPlanningAppCtrl\n  ) {\n    this.scale = S(() => scaleFromZoom(app.zoom()));\n    this.projectPlan = S(() => opt(projectPlanningAppCtrl.extendedProjectPlan(), 'plan'));\n    this.planDate = S(() => {\n      const timestamp: number | undefined = opt(projectPlanningAppCtrl.extendedProjectPlan(), 'youTrackTimestamp');\n      return timestamp === undefined\n          ? undefined\n          : new Date(timestamp);\n    });\n    const emptyMap = new Map<string, GanttContributor>();\n    this.relevantUsers = S(() => {\n      const youTrackMetadata: YouTrackMetadata | undefined = appComputation.youTrackMetadata();\n      const extendedProjectPlan: ExtendedProjectPlan | undefined = projectPlanningAppCtrl.extendedProjectPlan();\n      return (youTrackMetadata === undefined || extendedProjectPlan === undefined)\n          ? emptyMap\n          : makeIdToGanttContributorMap(extendedProjectPlan.settings, extendedProjectPlan.plan,\n              extendedProjectPlan.idToContributorIdx, youTrackMetadata);\n    });\n    this.ganttData = S(() => {\n      const extendedProjectPlan: ExtendedProjectPlan | undefined = projectPlanningAppCtrl.extendedProjectPlan();\n      const relevantUsers: Map<string, GanttContributor> = this.relevantUsers();\n      return extendedProjectPlan === undefined\n          ? undefined\n          : ganttDataFrom(extendedProjectPlan, relevantUsers);\n    });\n    this.typeBundleElements = S(() => {\n      const youTrackMetadata: YouTrackMetadata | undefined = appComputation.youTrackMetadata();\n      const extendedProjectPlan: ExtendedProjectPlan | undefined = projectPlanningAppCtrl.extendedProjectPlan();\n      const map = new Map<string, EnumBundleElement>();\n      if (youTrackMetadata === undefined || extendedProjectPlan === undefined) {\n        return map;\n      }\n\n      const settings: Plain<ProjectPlanningSettings> = extendedProjectPlan.settings;\n      for (const customField of youTrackMetadata.customFields) {\n        if (customField.id === settings.typeFieldId) {\n          for (const enumBundleElement of\n              (customField.fieldDefaults as YouTrackRest.EnumBundleCustomFieldDefaults).bundle.values) {\n            map.set(enumBundleElement.id, enumBundleElement);\n          }\n        }\n      }\n      return map;\n    });\n  }\n}\n\n\ninterface Interval {\n  start: number;\n  end: number;\n}\n\n/**\n * Issue extended by mapping it to a corresponding {@link GanttTask}.\n */\ninterface ExtendedIssue extends YouTrackIssue {\n  /**\n   * Issue activities grouped by interval and wait status.\n   */\n  multiAssigneeIssueActivities: MultiAssigneeIssueActivity[];\n\n  /**\n   * The own time span of just this issue, without sub-issues.\n   */\n  ownTimespan?: Interval;\n\n  /**\n   * The overall time span of this issue with sub-issues.\n   */\n  overallTimespan?: Interval;\n}\n\n/**\n * From a set K of properties of some type T, extract those whose property values are assignable to U.\n */\ntype AssignableProperty<T, K extends keyof T, U> = K extends (T[K] extends U ? K : never) ? K : never;\n\n/**\n * From the properties of some type T, extract those whose property values are assignable to U.\n */\ntype AssignableProperties<T, U> = AssignableProperty<T, keyof T, U>;\n\nconst NO_INDEX: number = -1;\n\nfunction opt<T, P extends keyof T>(obj: T | undefined, property: P): T[P] | undefined {\n  return obj === undefined\n      ? undefined\n      : obj[property];\n}\n\nfunction ganttDataFrom({plan, settings, youTrackTimestamp}: ExtendedProjectPlan,\n    relevantUsers: Map<string, GanttContributor>): GanttData {\n  // First pass over the issues: Build a forest/tree\n  const issueForest: Iterable<IssueNode<ExtendedIssue>> = makeForest(makeExtendedIssuesArray(plan.issues));\n\n  // Second pass (post-order traversal): Propagate start and end times to the overall timespan of each parent issue.\n  traverseIssueForest(issueForest, () => { /* no-op */ }, (node) => {\n    const parentNode: IssueNode<ExtendedIssue> | undefined = node.parent;\n    if (parentNode !== undefined) {\n      const issue: ExtendedIssue = node.issue;\n      const parentIssue: ExtendedIssue = parentNode.issue;\n      if (parentIssue.overallTimespan === undefined) {\n        // It's important to create a new object here!\n        parentIssue.overallTimespan = node.issue.overallTimespan === undefined\n            ? undefined\n            : {...node.issue.overallTimespan};\n      } else {\n        parentIssue.overallTimespan.start =\n            Math.min(parentIssue.overallTimespan.start, coalesce(opt(issue.overallTimespan, 'start'), Infinity));\n        parentIssue.overallTimespan.end =\n            Math.max(parentIssue.overallTimespan.end, coalesce(opt(issue.overallTimespan, 'end'), -Infinity));\n      }\n    }\n  });\n\n  // Third pass (pre-order traversal): Build the flat array of GanttTask objects. It needs to be topologically sorted\n  // (i.e., parents first). (dhtmlxGantt complains if parents are referenced before they are defined.)\n  const tasks: GanttTask[] = [];\n  const links: GanttLink[] = [];\n  traverseIssueForest(issueForest, (node) => {\n    const issue = node.issue;\n    const multiAssigneeIssueActivities: MultiAssigneeIssueActivity[] = issue.multiAssigneeIssueActivities;\n    const ganttIssue: GanttIssue = {\n      id: issue.id,\n      url: issueUrl(settings.youTrackBaseUrl, issue.id),\n      isResolved: issue.resolved < Number.MAX_SAFE_INTEGER,\n      typeId: coalesce<string>(issue.customFields[settings.typeFieldId], ''),\n      stateId: coalesce<string>(issue.customFields[settings.stateFieldId], ''),\n      // It is possible that issue.assignee === '', in which case get() will return undefined, as appropriate\n      assignee: relevantUsers.get(issue.assignee),\n      // The information is not yet available, so the following will be updated later.\n      hasSubIssues: node.children.length > 0,\n      totalNumActivities: issue.multiAssigneeIssueActivities.filter((activity) => !activity.isWaiting).length,\n    };\n    const mainGanttTask: GanttTask = {\n      id: ganttTaskId(issue, GanttTaskType.MAIN, NO_INDEX),\n      text: issue.summary,\n      ...issue.overallTimespan === undefined\n          ? {\n              unscheduled: true,\n              isInFuture: false,\n            }\n          : {\n              start_date: new Date(issue.overallTimespan.start),\n              end_date: new Date(issue.overallTimespan.end),\n              isInFuture: issue.overallTimespan.end > youTrackTimestamp,\n            },\n      ganttTaskType: GanttTaskType.MAIN,\n      contributors: multiAssigneeIssueActivities.length === 1\n          ? assigneesToContributors(multiAssigneeIssueActivities[0].assignees, relevantUsers)\n          : [],\n      isWaiting: multiAssigneeIssueActivities.length === 1\n          ? multiAssigneeIssueActivities[0].isWaiting\n          : false,\n      index: NO_INDEX,\n      issue: ganttIssue,\n    };\n    if (issue.parent.length > 0) {\n      mainGanttTask.parent = issue.parent;\n    }\n    tasks.push(mainGanttTask);\n\n    let parentOnlyGanttTask: GanttTask | undefined;\n    if (doesNeedParentOnlyTask(node)) {\n      // The main GanttTask in this case will show the total time span of the current parent issue *and* all its\n      // sub-issues. We therefore add another GanttTask that shows the activities of just the current parent issue\n      // itself.\n      assert(issue.ownTimespan !== undefined,\n          'post-condition of doesNeedParentOnlyTask() is that ownTimespan is defined');\n      const ownTimespan: Interval = issue.ownTimespan!;\n\n      parentOnlyGanttTask = {\n        ...cloneGanttTask(mainGanttTask),\n        id: ganttTaskId(issue, GanttTaskType.PARENT_ONLY, NO_INDEX),\n        start_date: new Date(ownTimespan.start),\n        end_date: new Date(ownTimespan.end),\n        parent: ganttTaskId(issue, GanttTaskType.MAIN, NO_INDEX),\n        ganttTaskType: GanttTaskType.PARENT_ONLY,\n        isInFuture: ownTimespan.end > youTrackTimestamp,\n      };\n      tasks.push(parentOnlyGanttTask);\n    }\n\n    if (multiAssigneeIssueActivities.length > 1) {\n      const splitGanttTask: GanttTask = parentOnlyGanttTask !== undefined\n          ? parentOnlyGanttTask\n          : mainGanttTask;\n      splitGanttTask.render = 'split';\n      let nonWaitingIndex: number = 0;\n      for (let i = 0; i < multiAssigneeIssueActivities.length; ++i) {\n        const issueActivity: MultiAssigneeIssueActivity = multiAssigneeIssueActivities[i];\n        tasks.push({\n          ...mainGanttTask,\n          id: ganttTaskId(node.issue, GanttTaskType.ACTIVITY, i),\n          start_date: new Date(issueActivity.start),\n          end_date: new Date(issueActivity.end),\n          parent: ganttTaskId(issue, splitGanttTask.ganttTaskType, NO_INDEX),\n          ganttTaskType: GanttTaskType.ACTIVITY,\n          contributors: assigneesToContributors(issueActivity.assignees, relevantUsers),\n          isWaiting: issueActivity.isWaiting,\n          isInFuture: issueActivity.end > youTrackTimestamp,\n          index: issueActivity.isWaiting\n              ? NO_INDEX\n              : nonWaitingIndex,\n        });\n        nonWaitingIndex += +!issueActivity.isWaiting;\n      }\n    }\n\n    node.dependencies.forEach((dep) => links.push(makeLink(links.length, dep.issue, issue)));\n  });\n  return {data: tasks, links};\n}\n\nfunction scaleFromZoom(zoom: number): ConcreteScale {\n  assert(zoom >= 0, 'Invalid arguments');\n\n  interface ExtendedScale extends Scale {\n    maxDays: number;\n  }\n\n  const widthPerDay: number = Math.exp(zoom / 100);\n  const MIN_WIDTH = 25;\n  const scales: ExtendedScale[] = [\n    {unit: 'day', format: '%j', subscales: [{unit: 'month', step: 1, date: '%M %Y'}], maxDays: 1},\n    {unit: 'week', format: '%j', subscales: [{unit: 'month', step: 1, date: '%M %Y'}], maxDays: 7},\n    {unit: 'month', format: '%M', subscales: [{unit: 'year', step: 1, date: '%Y'}], maxDays: 31},\n    {unit: 'year', format: '%Y', subscales: [], maxDays: 366},\n  ];\n  assert(widthPerDay >= 1 && widthPerDay * Math.max(...scales.map(({maxDays}) => maxDays)) >= MIN_WIDTH);\n  const scale: ExtendedScale = scales.find(({maxDays}) => widthPerDay * maxDays >= MIN_WIDTH)!;\n  return {\n    ...scale,\n    minColumnWidth: Math.floor(widthPerDay * scale.maxDays),\n  };\n}\n\nfunction coalesce<T>(left: T | undefined, right: T): T {\n  return left !== undefined\n      ? left\n      : right;\n}\n\n/**\n * Returns whether a {@link GanttTask} with type {@link GanttTaskType.PARENT_ONLY} is required.\n */\nfunction doesNeedParentOnlyTask(node: IssueNode<ExtendedIssue>): boolean {\n  const issue: ExtendedIssue = node.issue;\n  assert(issue.multiAssigneeIssueActivities.length === 0 ||\n      (issue.ownTimespan !== undefined && issue.overallTimespan !== undefined),\n      'If there are issue activities, then there there are well-defined time spans.');\n  return (\n      node.children.length > 0 && (\n          issue.multiAssigneeIssueActivities.length > 1 || (\n              issue.multiAssigneeIssueActivities.length === 1 && (\n                  // See assert for explanation of typecast.\n                  issue.ownTimespan!.start !== issue.overallTimespan!.start ||\n                  issue.ownTimespan!.end !== issue.overallTimespan!.end\n              )\n          )\n      )\n  );\n}\n\nfunction makeExtendedIssuesArray(issues: YouTrackIssue[]): ExtendedIssue[] {\n  return issues.map((issue): ExtendedIssue => {\n    const multiAssigneeIssueActivities: MultiAssigneeIssueActivity[] =\n        groupByIntervalAndWaitStatus(issue.issueActivities);\n    const extendedIssue: ExtendedIssue = {\n      ...issue,\n      multiAssigneeIssueActivities,\n    };\n    if (multiAssigneeIssueActivities.length > 0) {\n      extendedIssue.ownTimespan = {\n        start: multiAssigneeIssueActivities[0].start,\n        end: multiAssigneeIssueActivities[multiAssigneeIssueActivities.length - 1].end,\n      };\n      // This will be updated later!\n      extendedIssue.overallTimespan = {...extendedIssue.ownTimespan};\n    }\n    return extendedIssue;\n  });\n}\n\nfunction cloneGanttTask(task: GanttTask): GanttTask {\n  assert((task.start_date === undefined) === (task.end_date === undefined),\n      'Task start time must be defined if and only if end time is defined, too.');\n\n  function cloneDateProperty(property: AssignableProperties<GanttTask, Date | undefined>): void {\n    const originalDate: Date | undefined = task[property];\n    if (originalDate !== undefined) {\n      clonedTask[property] = new Date(originalDate.getTime());\n    }\n  }\n\n  const clonedTask: GanttTask = {\n    ...task,\n    contributors: [...task.contributors],\n  };\n  cloneDateProperty('start_date');\n  cloneDateProperty('end_date');\n  // All other properties are either immutable (string, boolean, etc.) or meant to be shared (GanttContributor,\n  // GanttIssue, etc.).\n  return clonedTask;\n}\n\nfunction ganttTaskId(issue: YouTrackIssue, type: GanttTaskType, activityIndex: number): string {\n  assert((type === GanttTaskType.ACTIVITY) === (activityIndex >= 0), 'Invalid arguments');\n\n  switch (type) {\n    case GanttTaskType.MAIN: return issue.id;\n    case GanttTaskType.PARENT_ONLY: return `${issue.id}/only`;\n    case GanttTaskType.ACTIVITY: return `${issue.id}/${activityIndex}`;\n    default: return unreachableCase(type);\n  }\n}\n\nfunction makeIdToGanttContributorMap(settings: Plain<ProjectPlanningSettings>, plan: ProjectPlan,\n    idToContributorIdx: Map<string, number>, youTrackMetadata: YouTrackMetadata): Map<string, GanttContributor> {\n  interface YouTrackUser {\n    name: string;\n    avatarUrl: string;\n    index: number;\n  }\n  const youTrackUsers = youTrackMetadata.users\n      .reduce((map, user, index) =>\n          map.set(user.id, {\n            name: user.fullName,\n            // Note that user.avatarUrl is an absolute path starting with '/'. It will therefore only keep the origin of\n            // youTrackMetadata.baseUrl (as desired).\n            avatarUrl: new URL(user.avatarUrl, youTrackMetadata.baseUrl).toString(),\n            index}\n          ),\n          new Map<string, YouTrackUser>()\n      );\n  const idToGanttContributor: Map<string, GanttContributor> = new Map();\n\n  function processId(id: string): void {\n    if (id.length === 0 || idToGanttContributor.has(id)) {\n      return;\n    }\n\n    const contributorIdx: number | undefined = idToContributorIdx.get(id);\n    if (contributorIdx !== undefined) {\n      assert(settings.contributors[contributorIdx] !== undefined, 'ExtendedProjectPlan is inconsistent');\n      const contributor: Plain<Contributor> = settings.contributors[contributorIdx]!;\n      let nameAndAvatarUrl;\n      if (contributor.type === ContributorKind.EXTERNAL) {\n        nameAndAvatarUrl = {\n          name: contributor.name,\n        };\n      } else {\n        const youTrackUser: YouTrackUser | undefined = youTrackUsers.get(id);\n        nameAndAvatarUrl = {\n          name: opt(youTrackUser, 'name'),\n          avatarUrl: opt(youTrackUser, 'avatarUrl'),\n        };\n      }\n      idToGanttContributor.set(id, {\n        isExternal: contributor.type === ContributorKind.EXTERNAL,\n        id,\n        ...nameAndAvatarUrl,\n        ordinal: contributorIdx,\n      });\n    } else {\n      // YouTrack user ID that does not belong to any of the configured contributors.\n      const youTrackUser: YouTrackUser | undefined = youTrackUsers.get(id);\n      idToGanttContributor.set(id, {\n        isExternal: false,\n        id,\n        name: opt(youTrackUser, 'name'),\n        avatarUrl: opt(youTrackUser, 'avatarUrl'),\n        ordinal: youTrackUser !== undefined\n            ? youTrackUser.index + settings.contributors.length\n            : Number.MAX_SAFE_INTEGER,\n      });\n    }\n  }\n\n  for (const issue of plan.issues) {\n    processId(issue.assignee);\n    issue.issueActivities.map((activity) => activity.assignee).forEach(processId);\n  }\n  return idToGanttContributor;\n}\n\nfunction makeLink(id: number, from: ExtendedIssue, to: ExtendedIssue): GanttLink {\n  let target: string = to.id;\n  if (to.multiAssigneeIssueActivities.length > 1 && from.multiAssigneeIssueActivities.length > 0) {\n    const fromEnd = from.multiAssigneeIssueActivities[from.multiAssigneeIssueActivities.length - 1].end;\n    if (fromEnd > to.multiAssigneeIssueActivities[0].start) {\n      const index: number = to.multiAssigneeIssueActivities.findIndex(\n          (issueActivity) => issueActivity.start >= fromEnd && !issueActivity.isWaiting);\n      if (index >= 0) {\n        target = ganttTaskId(to, GanttTaskType.ACTIVITY, index);\n      }\n    }\n  }\n  return {\n    id,\n    source: from.id,\n    target,\n    type: '0',\n  };\n}\n\nfunction issueUrl(youTrackBaseUrl: string, issueId: string): string {\n  assert(youTrackBaseUrl.endsWith('/'));\n  return `${youTrackBaseUrl}issue/${issueId}`;\n}\n\nfunction assigneesToContributors(assignees: string[], relevantUsers: Map<string, GanttContributor>):\n    GanttContributor[] {\n  // Note that groupByIntervalAndWaitStatus() assumes that assignee === '' represents an unknown assignee. It\n  // therefore does not omit activities with empty assignee. Here, empty assignees can only occur for historic\n  // activities, so omitting them is the right thing to do.\n  return assignees\n    .filter((assignee) => assignee.length > 0)\n    .map((assignee) => requireDefined(relevantUsers.get(assignee)))\n    .sort((first, second) => first.ordinal - second.ordinal);\n}\n\nfunction requireDefined<T>(value: T | undefined): T {\n  if (value === undefined) {\n    throw new Error('Undefined value where not expected.');\n  }\n  return value;\n}\n","import * as warnings from \"./core/deprecated_warnings\";\nimport * as base from \"./core/gantt\";\n\n\nconst gantt = (window as any).gantt = base();\nwarnings(gantt);\n\nexport default gantt;\nexport { gantt };","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/codebase/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 153);\n","var helpers = require(\"./helpers\");\n\nfunction copy(object) {\n\tvar i, result; // iterator, types array, result\n\n\tif (object && typeof object == \"object\") {\n\n\t\tswitch (true){\n\t\t\tcase (helpers.isDate(object)):\n\t\t\t\tresult = new Date(object);\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isArray(object)):\n\t\t\t\tresult = new Array(object.length);\n\t\t\t\tfor(i = 0; i < object.length; i++){\n\t\t\t\t\tresult[i] = copy(object[i]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isStringObject(object)):\n\t\t\t\tresult = new String(object);\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isNumberObject(object)):\n\t\t\t\tresult = new Number(object);\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isBooleanObject(object)):\n\t\t\t\tresult = new Boolean(object);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tresult = {};\n\t\t\t\tfor (i in object) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.apply(object, [i]))\n\t\t\t\t\t\tresult[i] = copy(object[i]);\n\t\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn result || object;\n}\n\nfunction mixin (target, source, force){\n\tfor (var f in source)\n\t\tif (((target[f] === undefined) || force)) target[f]=source[f];\n\treturn target;\n}\n\nfunction defined(obj) {\n\treturn typeof(obj) != \"undefined\";\n}\n\nvar seed;\nfunction uid() {\n\tif (!seed)\n\t\tseed = (new Date()).valueOf();\n\n\tseed++;\n\treturn seed;\n}\n\n//creates function with specified \"this\" pointer\nfunction bind(functor, object){\n\tif(functor.bind)\n\t\treturn functor.bind(object);\n\telse\n\t\treturn function(){ return functor.apply(object,arguments); };\n}\n\nfunction event(el, event, handler, capture){\n\tif (el.addEventListener)\n\t\tel.addEventListener(event, handler, capture === undefined ? false : capture);\n\n\telse if (el.attachEvent)\n\t\tel.attachEvent(\"on\"+event, handler);\n}\n\nfunction eventRemove(el, event, handler, capture){\n\tif (el.removeEventListener)\n\t\tel.removeEventListener(event, handler, capture === undefined ? false : capture);\n\n\telse if (el.detachEvent)\n\t\tel.detachEvent(\"on\"+event, handler);\n}\n\nmodule.exports = {\n\tcopy: copy,\n\tdefined: defined,\n\tmixin: mixin,\n\tuid: uid,\n\tbind: bind,\n\tevent: event,\n\teventRemove: eventRemove\n};","//returns position of html element on the page\nfunction elementPosition(elem) {\n\tvar top=0, left=0, right=0, bottom=0;\n\tif (elem.getBoundingClientRect) { //HTML5 method\n\t\tvar box = elem.getBoundingClientRect();\n\t\tvar body = document.body;\n\t\tvar docElem = (document.documentElement ||\n\t\t\tdocument.body.parentNode ||\n\t\t\tdocument.body);\n\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\t\ttop  = box.top +  scrollTop - clientTop;\n\t\tleft = box.left + scrollLeft - clientLeft;\n\n\t\tright = document.body.offsetWidth - box.right;\n\t\tbottom = document.body.offsetHeight - box.bottom;\n\t} else { //fallback to naive approach\n\t\twhile(elem) {\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\n\t\t\telem = elem.offsetParent;\n\t\t}\n\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\n\t}\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\n}\n\nfunction isVisible(node){\n\tvar display = false,\n\t\tvisibility = false;\n\tif(window.getComputedStyle){\n\t\tvar style = window.getComputedStyle(node, null);\n\t\tdisplay = style[\"display\"];\n\t\tvisibility = style[\"visibility\"];\n\t}else if(node.currentStyle){\n\t\tdisplay = node.currentStyle[\"display\"];\n\t\tvisibility = node.currentStyle[\"visibility\"];\n\t}\n\treturn (display != \"none\" && visibility != \"hidden\");\n}\n\nfunction hasNonNegativeTabIndex(node){\n\treturn !isNaN(node.getAttribute(\"tabindex\")) && (node.getAttribute(\"tabindex\")*1 >= 0);\n}\n\nfunction hasHref(node){\n\tvar canHaveHref = {\"a\": true, \"area\": true};\n\tif(canHaveHref[node.nodeName.loLowerCase()]){\n\t\treturn !!node.getAttribute(\"href\");\n\t}\n\treturn true;\n}\n\nfunction isEnabled(node){\n\tvar canDisable = {\"input\":true, \"select\":true, \"textarea\":true, \"button\":true, \"object\":true};\n\tif(canDisable[node.nodeName.toLowerCase()]){\n\t\treturn !node.hasAttribute(\"disabled\");\n\t}\n\n\treturn true;\n}\n\nfunction getFocusableNodes(root){\n\tvar nodes = root.querySelectorAll([\n\t\t\"a[href]\",\n\t\t\"area[href]\",\n\t\t\"input\",\n\t\t\"select\",\n\t\t\"textarea\",\n\t\t\"button\",\n\t\t\"iframe\",\n\t\t\"object\",\n\t\t\"embed\",\n\t\t\"[tabindex]\",\n\t\t\"[contenteditable]\"\n\t].join(\", \"));\n\n\tvar nodesArray = Array.prototype.slice.call(nodes, 0);\n\tfor(var i = 0; i < nodesArray.length; i++){\n\t\tvar node = nodesArray[i];\n\t\tvar isValid = (hasNonNegativeTabIndex(node)  || isEnabled(node) || hasHref(node)) && isVisible(node);\n\t\tif(!isValid){\n\t\t\tnodesArray.splice(i, 1);\n\t\t\ti--;\n\t\t}\n\t}\n\treturn nodesArray;\n}\n\nfunction getScrollSize(){\n\tvar div = document.createElement(\"div\");\n\tdiv.style.cssText=\"visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;\";\n\n\tdocument.body.appendChild(div);\n\tvar width = div.offsetWidth-div.clientWidth;\n\tdocument.body.removeChild(div);\n\n\treturn width;\n}\n\nfunction getClassName(node){\n\tif(!node) return \"\";\n\n\tvar className = node.className || \"\";\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\n\t\tclassName = className.baseVal;\n\n\tif(!className.indexOf)\n\t\tclassName = \"\";\n\n\treturn _trimString(className);\n}\n\nfunction addClassName(node, className){\n\tif (className && node.className.indexOf(className) === -1) {\n\t\tnode.className += \" \" + className;\n\t}\n}\n\nfunction removeClassName(node, name) {\n\tname = name.split(\" \");\n\tfor (var i = 0; i < name.length; i++) {\n\t\tvar regEx = new RegExp(\"\\\\s?\\\\b\" + name[i] + \"\\\\b(?![-_.])\", \"\");\n\t\tnode.className = node.className.replace(regEx, \"\");\n\t}\n}\n\nfunction hasClass(element, className){\n\tif ('classList' in element) {\n\t\treturn element.classList.contains(className);\n\t} else { \n\t\treturn new RegExp(\"\\\\b\" + className + \"\\\\b\").test(element.className);\n\t}\n}\n\nfunction toNode(node) {\n\tif (typeof node === \"string\") {\n\t\treturn (document.getElementById(node) || document.querySelector(node) || document.body);\n\t}\n\treturn node || document.body;\n}\n\nvar _slave = document.createElement(\"div\");\nfunction insert(node, newone) {\n\t_slave.innerHTML = newone;\n\tvar child = _slave.firstChild;\n\tnode.appendChild(child);\n\treturn child;\n}\n\nfunction remove(node) {\n\tif (node && node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\nfunction getChildren(node, css) {\n\tvar ch = node.childNodes;\n\tvar len = ch.length;\n\tvar out = [];\n\tfor (var i = 0; i < len; i++) {\n\t\tvar obj = ch[i];\n\t\tif (obj.className && obj.className.indexOf(css) !== -1) {\n\t\t\tout.push(obj);\n\t\t}\n\t}\n\treturn out;\n}\n\nfunction getTargetNode(e){\n\tvar trg;\n\tif (e.tagName)\n\t\ttrg = e;\n\telse {\n\t\te=e||window.event;\n\t\ttrg=e.target||e.srcElement;\n\t}\n\treturn trg;\n}\n\nfunction locateAttribute(e, attribute) {\n\tif(!attribute) return;\n\n\tvar trg = getTargetNode(e);\n\n\twhile (trg){\n\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\n\t\t\tvar test = trg.getAttribute(attribute);\n\t\t\tif (test) return trg;\n\t\t}\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\nfunction _trimString(str){\n\tvar func = String.prototype.trim || function(){ return this.replace(/^\\s+|\\s+$/g, \"\"); };\n\treturn func.apply(str);\n}\n\nfunction locateClassName(e, classname, strict){\n\tvar trg = getTargetNode(e);\n\tvar css = \"\";\n\n\tif(strict === undefined)\n\t\tstrict = true;\n\n\twhile (trg){\n\t\tcss = getClassName(trg);\n\t\tif(css){\n\t\t\tvar ind = css.indexOf(classname);\n\t\t\tif (ind >= 0){\n\t\t\t\tif (!strict)\n\t\t\t\t\treturn trg;\n\n\t\t\t\t//check that we have exact match\n\t\t\t\tvar left = (ind === 0) || (!_trimString(css.charAt(ind - 1)));\n\t\t\t\tvar right = ((ind + classname.length >= css.length)) || (!_trimString(css.charAt(ind + classname.length)));\n\n\t\t\t\tif (left && right)\n\t\t\t\t\treturn trg;\n\t\t\t}\n\t\t}\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\n/*\nevent position relatively to DOM element\n */\nfunction getRelativeEventPosition(ev, node){\n\tvar d = document.documentElement;\n\tvar box = elementPosition(node);\n\n\treturn {\n\t\tx: ev.clientX + d.scrollLeft - d.clientLeft - box.x + node.scrollLeft,\n\t\ty: ev.clientY + d.scrollTop - d.clientTop - box.y + node.scrollTop\n\t};\n}\n\nfunction isChildOf(child, parent){\n\tif(!child || !parent){\n\t\treturn false;\n\t}\n\n\twhile(child && child != parent) {\n\t\tchild = child.parentNode;\n\t}\n\n\treturn child === parent;\n}\n\nfunction closest(element, selector){\n\tif(element.closest){\n\t\treturn element.closest(selector);\n\t}else if(element.matches || element.msMatchesSelector || element.webkitMatchesSelector){\n\t\tvar el = element;\n\t\tif (!document.documentElement.contains(el)) return null;\n\t\tdo {\n\t\t\tvar method = el.matches || el.msMatchesSelector || el.webkitMatchesSelector;\n\n\t\t\tif (method.call(el, selector)) return el;\n\t\t\tel = el.parentElement || el.parentNode;\n\t\t} while (el !== null && el.nodeType === 1); \n\t\treturn null;\n\t}else{\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(\"Your browser is not supported\");\n\t\treturn null;\n\t}\n}\n\nmodule.exports = {\n\tgetNodePosition: elementPosition,\n\tgetFocusableNodes: getFocusableNodes,\n\tgetScrollSize: getScrollSize,\n\tgetClassName: getClassName,\n\taddClassName: addClassName,\n\tremoveClassName: removeClassName,\n\tinsertNode: insert,\n\tremoveNode: remove,\n\tgetChildNodes: getChildren,\n\ttoNode: toNode,\n\tlocateClassName:locateClassName,\n\tlocateAttribute: locateAttribute,\n\tgetTargetNode: getTargetNode,\n\tgetRelativeEventPosition: getRelativeEventPosition,\n\tisChildOf: isChildOf,\n\thasClass: hasClass,\n\tclosest: closest\n};","module.exports = function (d, b) {\n\tfor (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\tfunction __() { this.constructor = d; }\n\td.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};","var units = {\n\t\"second\": 1,\n\t\"minute\": 60,\n\t\"hour\": 60 * 60,\n\t\"day\": 60 * 60 * 24,\n\t\"week\": 60 * 60 * 24 * 7,\n\t\"month\": 60 * 60 * 24 * 30,\n\t\"quarter\": 60 * 60 * 24 * 30 * 3,\n\t\"year\": 60 * 60 * 24 * 365\n};\nfunction getSecondsInUnit(unit){\n\treturn units[unit] || units.hour;\n}\n\nfunction forEach(arr, callback) {\n\tif (arr.forEach) {\n\t\tarr.forEach(callback);\n\t} else {\n\t\tvar workArray = arr.slice();\n\t\tfor (var i = 0; i < workArray.length; i++) {\n\t\t\tcallback(workArray[i], i);\n\t\t}\n\t}\n}\n\nfunction arrayMap(arr, callback) {\n\tif (arr.map) {\n\t\treturn arr.map(callback);\n\t} else {\n\t\tvar workArray = arr.slice();\n\t\tvar resArray = [];\n\n\t\tfor (var i = 0; i < workArray.length; i++) {\n\t\t\tresArray.push(callback(workArray[i], i));\n\t\t}\n\t\treturn resArray;\n\t}\n}\n\n\nfunction arrayFind(arr, callback) {\n\tif (arr.find) {\n\t\treturn arr.find(callback);\n\t} else {\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tif (callback(arr[i], i)) {\n\t\t\t\treturn arr[i];\n\t\t\t}\n\t\t}\n\t}\n}\n\n// iframe-safe array type check instead of using instanceof\nfunction isArray(obj){\n\tif(Array.isArray){\n\t\treturn Array.isArray(obj);\n\t}else{\n\t\t// close enough\n\t\treturn (obj && obj.length !== undefined && obj.pop && obj.push);\n\t}\n}\n\n// non-primitive string object, e.g. new String(\"abc\")\nfunction isStringObject(obj){\n\treturn obj && typeof obj === \"object\"\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function String() { [native code] }\";\n}\n\n// non-primitive number object, e.g. new Number(5)\nfunction isNumberObject(obj){\n\treturn obj && typeof obj === \"object\"\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function Number() { [native code] }\";\n}\n\n// non-primitive number object, e.g. new Boolean(true)\nfunction isBooleanObject(obj){\n\treturn obj && typeof obj === \"object\"\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function Boolean() { [native code] }\";\n}\n\nfunction isDate(obj) {\n\tif (obj && typeof obj === \"object\") {\n\t\treturn !!(obj.getFullYear && obj.getMonth && obj.getDate);\n\t} else {\n\t\treturn false;\n\t}\n}\n\nfunction arrayFilter(arr, callback) {\n\tvar result = [];\n\n\tif (arr.filter) {\n\t\treturn arr.filter(callback);\n\t} else {\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tif (callback(arr[i], i)) {\n\t\t\t\tresult[result.length] = arr[i];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n\nfunction hashToArray(hash) {\n\tvar result = [];\n\n\tfor (var key in hash) {\n\t\tif (hash.hasOwnProperty(key)) {\n\t\t\tresult.push(hash[key]);\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction arraySome(arr, callback) {\n\tif (arr.length === 0) return false;\n\n\tfor (var i = 0; i < arr.length; i++) {\n\t\tif (callback(arr[i], i, arr)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction arrayDifference(arr, callback) {\n\treturn arrayFilter(arr, function(item, i) {\n\t\treturn !callback(item, i);\n\t});\n}\n\nfunction throttle (callback, timeout) {\n\tvar wait = false;\n\n\treturn function () {\n\t\tif (!wait) {\n\t\t\tcallback.apply(null, arguments);\n\t\t\twait = true;\n\t\t\tsetTimeout(function () {\n\t\t\t\twait = false;\n\t\t\t}, timeout);\n\t\t}\n\t};\n}\n\nfunction delay (callback, timeout){\n\tvar timer;\n\n\tvar result = function() {\n\t\tresult.$cancelTimeout();\n\t\tcallback.$pending = true;\n\t\tvar args = Array.prototype.slice.call(arguments);\n\t\ttimer = setTimeout(function(){\n\t\t\tcallback.apply(this, args);\n\t\t\tresult.$pending = false;\n\t\t}, timeout);\n\t};\n\t\n\tresult.$pending = false;\n\tresult.$cancelTimeout = function(){\n\t\tclearTimeout(timer);\n\t\tcallback.$pending = false;\n\t};\n\tresult.$execute = function(){\n\t\tcallback();\n\t\tcallback.$cancelTimeout();\n\t};\n\n\treturn result;\n}\n\nfunction sortArrayOfHash(arr, field, desc) {\n\tvar compare = function(a, b) {\n\t\treturn a < b;\n\t};\n\n\tarr.sort(function(a, b) {\n\t\tif (a[field] === b[field]) return 0;\n\n\t\treturn desc ? compare(a[field], b[field]) : compare(b[field], a[field]);\n\t});\n}\n\nfunction objectKeys(obj) {\n\tif (Object.keys) {\n\t\treturn Object.keys(obj);\n\t}\n\tvar result = [];\n\tvar key;\n\tfor (key in obj) {\n\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\tresult.push(key);\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction requestAnimationFrame(callback) {\n\tvar w = window;\n\tvar foundRequestAnimationFrame = w.requestAnimationFrame\n\t\t|| w.webkitRequestAnimationFrame\n\t\t|| w.msRequestAnimationFrame\n\t\t|| w.mozRequestAnimationFrame\n\t\t|| w.oRequestAnimationFrame\n\t\t|| function(cb) { setTimeout(cb, 1000/60); };\n\treturn foundRequestAnimationFrame(callback);\n}\n\nfunction isEventable(obj) {\n\treturn obj.attachEvent && obj.detachEvent;\n}\n\nmodule.exports = {\n\tgetSecondsInUnit: getSecondsInUnit,\n\tforEach: forEach,\n\tarrayMap: arrayMap,\n\tarrayFind: arrayFind,\n\tarrayFilter: arrayFilter,\n\tarrayDifference: arrayDifference,\n\tarraySome: arraySome,\n\thashToArray: hashToArray,\n\tsortArrayOfHash: sortArrayOfHash,\n\tthrottle: throttle,\n\tisArray: isArray,\n\tisDate: isDate,\n\tisStringObject: isStringObject,\n\tisNumberObject: isNumberObject,\n\tisBooleanObject: isBooleanObject,\n\tdelay: delay,\n\tobjectKeys: objectKeys,\n\trequestAnimationFrame: requestAnimationFrame,\n\tisEventable: isEventable\n};","var EventHost = function(){\n\tthis._connected = [];\n\tthis._silent_mode = false;\n};\n\nEventHost.prototype = {\n\t_silentStart: function() {\n\t\tthis._silent_mode = true;\n\t},\n\t_silentEnd: function() {\n\t\tthis._silent_mode = false;\n\t}\n};\n\nvar\tcreateEventStorage = function(obj) {\n\tvar dhx_catch = [];\n\tvar z = function(){\n\t\tvar res = true;\n\t\tfor (var i = 0; i < dhx_catch.length; i++){\n\t\t\tif (dhx_catch[i]){\n\t\t\t\tvar zr = dhx_catch[i].apply(obj, arguments);\n\t\t\t\tres=res&&zr;\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\tz.addEvent=function(ev){\n\t\tif (typeof (ev) == \"function\")\n\t\t\treturn dhx_catch.push(ev)-1;\n\t\treturn false;\n\t};\n\tz.removeEvent=function(id){\n\t\tdhx_catch[id]=null;\n\t};\n\treturn z;\n};\n\nfunction makeEventable(obj){\n\n\tvar eventHost = new EventHost();\n\tobj.attachEvent=function(name, catcher, callObj){\n\t\tname='ev_'+name.toLowerCase();\n\t\tif (!eventHost[name])\n\t\t\teventHost[name] = createEventStorage(callObj||this);\n\n\t\treturn(name+':'+eventHost[name].addEvent(catcher)); //return ID (event name & event ID)\n\t};\n\tobj.attachAll = function(callback, callObj){\n\t\tthis.attachEvent('listen_all', callback, callObj);\n\t};\n\n\tobj.callEvent=function(name, arg0, callObj){\n\t\tif (eventHost._silent_mode) return true;\n\n\t\tvar handlerName = 'ev_'+name.toLowerCase();\n\n\t\tif (eventHost['ev_listen_all']){\n\t\t\teventHost['ev_listen_all'].apply(callObj || this, [name].concat(arg0));\n\t\t}\n\n\t\tif (eventHost[handlerName])\n\t\t\treturn eventHost[handlerName].apply(callObj || this, arg0);\n\t\treturn true;\n\t};\n\tobj.checkEvent=function(name){\n\t\treturn (!!eventHost['ev_'+name.toLowerCase()]);\n\t};\n\tobj.detachEvent=function(id){\n\t\tif (id){\n\t\t\tvar list = id.split(':');//get EventName and ID\n\t\t\tvar eventName = list[0];\n\t\t\tvar eventId = list[1];\n\n\t\t\tif(eventHost[eventName]){\n\t\t\t\teventHost[eventName].removeEvent(eventId); //remove event\n\t\t\t}\n\t\t}\n\t};\n\tobj.detachAllEvents = function(){\n\t\tfor (var name in eventHost){\n\t\t\tif (name.indexOf(\"ev_\") === 0)\n\t\t\t\tdelete eventHost[name];\n\t\t}\n\t};\n\n}\n\nmodule.exports = makeEventable;","function dummy() {\n\t// eslint-disable-next-line\n\tconsole.log(\"Method is not implemented.\"); \n}\nfunction BaseControl() {\n}\n\n// base methods will be runned in gantt context\nBaseControl.prototype.render = dummy; // arguments: sns\nBaseControl.prototype.set_value = dummy; // arguments: node, value, ev, sns(config)\nBaseControl.prototype.get_value = dummy; // arguments node, ev, sns(config)\nBaseControl.prototype.focus = dummy; // arguments: node\n\nmodule.exports = function(gantt) { // we could send current instance of gantt to module\n\treturn BaseControl;\n};","module.exports = function wrapSmartRender(renderOne, updateOne, isInViewPort, smartRendering){\n\tif(!smartRendering){\n\t\treturn renderOne;\n\t}else{\n\t\treturn {\n\t\t\trender: function(item, view, viewport){\n\t\t\t\tif(!isInViewPort.call(this, item, view, viewport)){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn renderOne.call(this, item, view, viewport);\n\t\t\t},\n\t\t\tupdate: function(item, view, engine, viewport){\n\t\t\t\tif(!isInViewPort.call(this, item, view, viewport)){\n\t\t\t\t\tengine.hide(item.id);\n\t\t\t\t}else if(engine.rendered[item.id]){\n\t\t\t\t\tupdateOne.call(this, item, view, engine, viewport);\n\t\t\t\t\tengine.restore(item);\n\t\t\t\t}else{\n\t\t\t\t\trenderOne.call(this, item, view, viewport);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\n};","module.exports = function(gantt){\n\treturn gantt.config.smart_rendering && gantt._smart_render;\n};","module.exports = function (gantt) {\n\n\tvar BaseEditor = function () {\n\t};\n\n\tBaseEditor.prototype = {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t},\n\t\thide: function () {\n\t\t},\n\t\tset_value: function (value, id, column, node) {\n\t\t\tthis.get_input(node).value = value;\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\treturn this.get_input(node).value || \"\";\n\t\t},\n\t\tis_changed: function (value, id, column, node) {\n\t\t\tvar currentValue = this.get_value(id, column, node);\n\t\t\tif (currentValue && value && currentValue.valueOf && value.valueOf) {\n\t\t\t\treturn currentValue.valueOf() != value.valueOf();\n\t\t\t} else {\n\t\t\t\treturn currentValue != value;\n\t\t\t}\n\t\t},\n\t\tis_valid: function (value, id, column, node) {\n\t\t\treturn true;\n\t\t},\n\n\t\tsave: function (id, column, node) {\n\n\t\t},\n\t\tget_input: function (node) {\n\t\t\treturn node.querySelector(\"input\");\n\t\t},\n\t\tfocus: function (node) {\n\t\t\tvar input = this.get_input(node);\n\t\t\tif (!input) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (input.focus) {\n\t\t\t\tinput.focus();\n\t\t\t}\n\n\t\t\tif (input.select) {\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t};\n\treturn BaseEditor;\n};","var utils = require(\"../../../utils/utils\"),\n\teventable = require(\"../../../utils/eventable\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\");\n\nvar Cell = (function () {\n\t\"use strict\";\n\n\tfunction Cell(parent, config, factory, gantt) {\n\t\tif (parent) {\n\t\t\tthis.$container = domHelpers.toNode(parent);\n\t\t\tthis.$parent = parent;\n\t\t}\n\t\t// save config\n\t\tthis.$config = utils.mixin(config, {\n\t\t\theaderHeight: 33\n\t\t});\n\t\tthis.$gantt = gantt;\n\t\tthis.$domEvents = gantt._createDomEventScope();\n\t\t// set id\n\t\tthis.$id = config.id || \"c\" + utils.uid();\n\n\t\tthis.$name = \"cell\";\n\t\tthis.$factory = factory;\n\n\t\teventable(this);\n\n\t}\n\n\tCell.prototype.destructor = function () {\n\t\tthis.$parent = this.$container = this.$view = null;\n\t\tvar mouse = this.$gantt.$services.getService(\"mouseEvents\");\n\t\tmouse.detach(\"click\", \"gantt_header_arrow\", this._headerClickHandler);\n\t\tthis.$domEvents.detachAll();\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\t};\n\tCell.prototype.cell = function (id) {\n\t\treturn null;\n\t};\n\n\tCell.prototype.scrollTo = function(left, top){\n\n\t\tif (left*1 == left){\n\t\t\tthis.$view.scrollLeft = left;\n\t\t}\n\t\tif(top*1 == top){\n\t\t\tthis.$view.scrollTop = top;\n\t\t}\n\t};\n\n\tCell.prototype.clear = function(){\n\t\tthis.getNode().innerHTML = \"\";\n\t\tthis.getNode().className = \"gantt_layout_content\";\n\t\tthis.getNode().style.padding = \"0\";\n\t};\n\n\tCell.prototype.resize = function (final) {\n\t\tif (this.$parent) {\n\t\t\treturn this.$parent.resize(final);\n\t\t}\n\n\t\tif(final === false){\n\t\t\tthis.$preResize = true;\n\t\t}\n\n\t\tvar topCont = this.$container;\n\t\tvar x = topCont.offsetWidth;\n\t\tvar y = topCont.offsetHeight;\n\t\tvar topSize = this.getSize();\n\t\tif (topCont === document.body) {\n\t\t\tx = document.body.offsetWidth;\n\t\t\ty = document.body.offsetHeight;\n\t\t}\n\t\tif (x < topSize.minWidth) {\n\t\t\tx = topSize.minWidth;\n\t\t}\n\t\tif (x > topSize.maxWidth) {\n\t\t\tx = topSize.maxWidth;\n\t\t}\n\t\tif (y < topSize.minHeight) {\n\t\t\ty = topSize.minHeight;\n\t\t}\n\t\tif (y > topSize.maxHeight) {\n\t\t\ty = topSize.maxHeight;\n\t\t}\n\t\tthis.setSize(x, y);\n\n\t\tif(!this.$preResize){\n\t\t//\tself.callEvent(\"onResize\", [x, y]);\n\t\t}\n\t\tthis.$preResize = false;\n\t};\n\n\tCell.prototype.hide = function () {\n\t\tthis._hide(true);\n\t\tthis.resize();\n\t};\n\tCell.prototype.show = function (force) {\n\t\tthis._hide(false);\n\t\tif (force && this.$parent) {\n\t\t\tthis.$parent.show();\n\t\t}\n\t\tthis.resize();\n\t};\n\tCell.prototype._hide = function (mode) {\n\t\tif (mode === true && this.$view.parentNode) {\n\t\t\tthis.$view.parentNode.removeChild(this.$view);\n\t\t}\n\t\telse if (mode === false && !this.$view.parentNode) {\n\t\t\tvar index = this.$parent.cellIndex(this.$id);\n\t\t\tthis.$parent.moveView(this, index);\n\t\t}\n\t\tthis.$config.hidden = mode;\n\t};\n\tCell.prototype.$toHTML = function (content, css) {\n\t\tif (content === void 0) { content = \"\"; }\n\t\tcss = [(css || \"\"), (this.$config.css || \"\")].join(\" \");\n\t\tvar obj = this.$config;\n\t\tvar header = \"\";\n\t\tif (obj.raw) {\n\t\t\tcontent = typeof obj.raw === \"string\" ? obj.raw : \"\";\n\t\t}\n\t\telse {\n\t\t\tif (!content) {\n\t\t\t\tcontent = \"<div class='gantt_layout_content' \"+(css ? \" class='\"+css+\"' \" : \"\")+\" >\" + (obj.html || \"\") + \"</div>\";\n\t\t\t}\n\t\t\tif (obj.header) {\n\t\t\t\tvar collapseIcon = obj.canCollapse ? \"<div class='gantt_layout_header_arrow'></div>\" : \"\";\n\t\t\t\theader = \"<div class='gantt_layout_header'>\" + collapseIcon + \"<div class='gantt_layout_header_content'>\" + obj.header + \"</div></div>\";\n\t\t\t}\n\t\t}\n\t\treturn \"<div class='gantt_layout_cell \" + css + \"' data-cell-id='\" + this.$id + \"'>\" + header + content + \"</div>\";\n\t};\n\tCell.prototype.$fill = function (node, parent) {\n\t\tthis.$view = node;\n\t\tthis.$parent = parent;\n\t\tthis.init();\n\t};\n\tCell.prototype.getNode = function () {\n\t\treturn (this.$view.querySelector(\"gantt_layout_cell\") || this.$view);\n\t};\n\tCell.prototype.init = function () {\n\t\t// [NOT-GOOD] code is executed for each component, while it still has only one handler, it is no good\n\n\t\tvar self = this;\n\n\t\tthis._headerClickHandler = function(e){\n\t\t\tvar cellId = domHelpers.locateAttribute(e, \"data-cell-id\");\n\t\t\tif(cellId == self.$id){\n\t\t\t\tself.toggle();\n\t\t\t}\n\t\t};\n\n\t\tvar mouse = this.$gantt.$services.getService(\"mouseEvents\");\n\t\tmouse.delegate(\"click\", \"gantt_header_arrow\", this._headerClickHandler);\n\n\t\tthis.callEvent(\"onReady\", []);\n\t};\n\tCell.prototype.toggle = function () {\n\t\tthis.$config.collapsed = !this.$config.collapsed;\n\t\tthis.resize();\n\t};\n\tCell.prototype.getSize = function () {\n\t\tvar size = {\n\t\t\theight: this.$config.height || 0,\n\t\t\twidth: this.$config.width || 0,\n\t\t\tgravity: this.$config.gravity || 1,\n\t\t\tminHeight: this.$config.minHeight || 0,\n\t\t\tminWidth: this.$config.minWidth || 0,\n\t\t\tmaxHeight: this.$config.maxHeight || 100000,\n\t\t\tmaxWidth: this.$config.maxWidth || 100000\n\t\t};\n\t\tif (this.$config.collapsed) {\n\t\t\tvar mode = this.$config.mode === \"x\";\n\t\t\tsize[mode ? \"width\" : \"height\"] = size[mode ? \"maxWidth\" : \"maxHeight\"] = this.$config.headerHeight;\n\t\t}\n\t\treturn size;\n\t};\n\n\tCell.prototype.getContentSize = function(){\n\n\t\tvar width = this.$lastSize.contentX;\n\t\tif(width !== width*1){\n\t\t\twidth = this.$lastSize.width;\n\t\t}\n\n\t\tvar height = this.$lastSize.contentY;\n\t\tif(height !== height*1){\n\t\t\theight = this.$lastSize.height;\n\t\t}\n\n\t\treturn {\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t};\n\n\tCell.prototype._getBorderSizes = function(){\n\t\tvar borders = {\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\thorizontal: 0,\n\t\t\tvertical: 0\n\t\t};\n\t\tif(this._currentBorders){\n\t\t\tif(this._currentBorders[this._borders.left]){\n\t\t\t\tborders.left = 1;\n\t\t\t\tborders.horizontal++;\n\t\t\t}\n\n\t\t\tif(this._currentBorders[this._borders.right]){\n\t\t\t\tborders.right = 1;\n\t\t\t\tborders.horizontal++;\n\t\t\t}\n\n\t\t\tif(this._currentBorders[this._borders.top]){\n\t\t\t\tborders.top = 1;\n\t\t\t\tborders.vertical++;\n\t\t\t}\n\n\t\t\tif(this._currentBorders[this._borders.bottom]){\n\t\t\t\tborders.bottom = 1;\n\t\t\t\tborders.vertical++;\n\t\t\t}\n\t\t}\n\n\t\treturn borders;\n\n\t};\n\n\tCell.prototype.setSize = function (x, y) {\n\t\tthis.$view.style.width = x + \"px\";\n\t\tthis.$view.style.height = y + \"px\";\n\n\t\tvar borders = this._getBorderSizes();\n\t\tvar contentY = y - borders.vertical;\n\t\tvar contentX = x - borders.horizontal;\n\n\t\tthis.$lastSize = { x: x, y: y, contentX: contentX, contentY: contentY };\n\t\tif (this.$config.header) {\n\t\t\tthis._sizeHeader();\n\t\t}else{\n\t\t\tthis._sizeContent();\n\t\t}\n\t};\n\n\tCell.prototype._borders = {\n\t\t\"left\":\"gantt_layout_cell_border_left\",\n\t\t\"right\":\"gantt_layout_cell_border_right\",\n\t\t\"top\":\"gantt_layout_cell_border_top\",\n\t\t\"bottom\":\"gantt_layout_cell_border_bottom\"\n\t};\n\n\tCell.prototype._setBorders = function(css, view){\n\t\tif(!view) {\n\t\t\tview = this;\n\t\t}\n\t\tvar node = view.$view;\n\n\t\tfor( var i in this._borders){\n\t\t\tdomHelpers.removeClassName(node, this._borders[i]);\n\t\t}\n\n\t\tif(typeof css == \"string\"){\n\t\t\tcss = [css];\n\t\t}\n\n\t\tvar cssHash = {};\n\n\t\tfor(var i = 0; i < css.length; i++){\n\t\t\tdomHelpers.addClassName(node, css[i]);\n\t\t\tcssHash[css[i]] = true;\n\t\t}\n\n\t\tview._currentBorders = cssHash;\n\t};\n\n\n\tCell.prototype._sizeContent = function(){\n\t\tvar content = this.$view.childNodes[0];\n\t\tif(content && content.className == \"gantt_layout_content\"){\n\t\t\tcontent.style.height = this.$lastSize.contentY + \"px\";\n\t\t}\n\t};\n\n\tCell.prototype._sizeHeader = function () {\n\t\tvar size = this.$lastSize;\n\t\tsize.contentY -= this.$config.headerHeight;\n\t\tvar header = this.$view.childNodes[0];\n\t\tvar content = this.$view.childNodes[1];\n\t\tvar xLayout = this.$config.mode === \"x\";\n\t\tif (this.$config.collapsed) {\n\t\t\tcontent.style.display = \"none\";\n\t\t\tif (xLayout) {\n\t\t\t\theader.className = \"gantt_layout_header collapsed_x\";\n\t\t\t\theader.style.width = size.y + \"px\";\n\t\t\t\tvar d = Math.floor(size.y / 2 - size.x / 2);\n\t\t\t\theader.style.transform = \"rotate(90deg) translate(\" + d + \"px, \" + d + \"px)\";\n\t\t\t\tcontent.style.display = \"none\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\theader.className = \"gantt_layout_header collapsed_y\";\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (xLayout) {\n\t\t\t\theader.className = \"gantt_layout_header\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\theader.className = \"gantt_layout_header vertical\";\n\t\t\t}\n\t\t\theader.style.width = 'auto';\n\t\t\theader.style.transform = '';\n\t\t\tcontent.style.display = \"\";\n\t\t\tcontent.style.height = size.contentY + \"px\";\n\t\t}\n\t\theader.style.height = this.$config.headerHeight + \"px\";\n\t};\n\treturn Cell;\n}());\n\nmodule.exports = Cell;\n","var env = {\n\tisIE: (navigator.userAgent.indexOf(\"MSIE\") >= 0 || navigator.userAgent.indexOf(\"Trident\") >= 0),\n\tisIE6: (!window.XMLHttpRequest && navigator.userAgent.indexOf(\"MSIE\") >= 0),\n\tisIE7: (navigator.userAgent.indexOf(\"MSIE 7.0\") >= 0 && navigator.userAgent.indexOf(\"Trident\") < 0),\n\tisIE8: (navigator.userAgent.indexOf(\"MSIE 8.0\") >= 0 && navigator.userAgent.indexOf(\"Trident\") >= 0),\n\tisOpera: (navigator.userAgent.indexOf(\"Opera\") >= 0),\n\tisChrome: (navigator.userAgent.indexOf(\"Chrome\") >= 0),\n\tisKHTML: (navigator.userAgent.indexOf(\"Safari\") >= 0 || navigator.userAgent.indexOf(\"Konqueror\") >= 0),\n\tisFF: (navigator.userAgent.indexOf(\"Firefox\") >= 0),\n\tisIPad: (navigator.userAgent.search(/iPad/gi) >= 0),\n\tisEdge: (navigator.userAgent.indexOf(\"Edge\")!=-1)\n};\n\nmodule.exports = env;","var __extends = require(\"../../../utils/extends\");\nvar htmlHelpers = require(\"../../../utils/html_helpers\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction SelectControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\n\t\treturn self; \n\t}\n\t\n\t__extends(SelectControl, _super);\n\t\n\tSelectControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"23\") + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext' style='height:\" + height + \";'>\";\n\n\t\thtml += htmlHelpers.getHtmlSelect(sns.options, [{ key: \"style\", value: \"width:100%;\" }]);\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tSelectControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar select = node.firstChild;\n\t\tif (!select._dhx_onchange && sns.onchange) {\n\t\t\tselect.onchange = sns.onchange;\n\t\t\tselect._dhx_onchange = true;\n\t\t}\n\t\tif (typeof value === \"undefined\")\n\t\t\tvalue = (select.options[0] || {}).value;\n\t\tselect.value = value || \"\";\n\t};\n\t\n\tSelectControl.prototype.get_value = function(node) {\n\t\treturn node.firstChild.value;\n\t};\n\t\n\tSelectControl.prototype.focus = function(node) {\n\t\tvar a = node.firstChild;\n\t\tgantt._focus(a, true);\n\t};\n\t\n\treturn SelectControl;\n};","/**\n * The state object for order branch drag and drop\n */\n\nvar utils = require(\"../../../../utils/utils\");\n\nmodule.exports = {\n\tcreateDropTargetObject: function createDropTargetObject(parent) {\n\t\tvar res = {\n\t\t\ttargetParent: null,\n\t\t\ttargetIndex: 0,\n\t\t\ttargetId: null,\n\t\t\tchild: false,\n\t\t\tnextSibling: false,\n\t\t\tprevSibling: false\n\t\t};\n\n\t\tif (parent) {\n\t\t\tutils.mixin(res, parent, true);\n\t\t}\n\t\treturn res;\n\t},\n\tnextSiblingTarget: function nextSiblingTarget(dndTaskId, targetTaskId, store) {\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = targetTaskId;\n\t\tresult.nextSibling = true;\n\t\tresult.targetParent = store.getParent(result.targetId);\n\t\tresult.targetIndex = store.getBranchIndex(result.targetId);\n\t\tif(store.getParent(dndTaskId) != result.targetParent || result.targetIndex < store.getBranchIndex(dndTaskId)){\n\t\t\tresult.targetIndex += 1;\n\t\t}\n\t\treturn result;\n\t},\n\tprevSiblingTarget: function prevSiblingTarget(dndTaskId, targetTaskId, store) {\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = targetTaskId;\n\t\tresult.prevSibling = true;\n\t\tresult.targetParent = store.getParent(result.targetId);\n\t\tresult.targetIndex = store.getBranchIndex(result.targetId);\n\t\tif(store.getParent(dndTaskId) == result.targetParent && result.targetIndex > store.getBranchIndex(dndTaskId)){\n\t\t\tresult.targetIndex -= 1;\n\t\t}\n\t\treturn result;\n\t},\n\tfirstChildTarget: function firstChildTarget(dndTaskId, targetTaskId, store) {\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = targetTaskId;\n\t\tresult.targetParent = result.targetId;\n\t\tresult.targetIndex = 0;\n\t\tresult.child = true;\n\t\treturn result;\n\t},\n\tlastChildTarget: function lastChildTarget(dndTaskId, targetTaskId, store) {\n\t\tvar children = store.getChildren(targetTaskId);\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = children[children.length - 1];\n\t\tresult.targetParent = targetTaskId;\n\t\tresult.targetIndex = children.length;\n\t\tresult.nextSibling = true;\n\t\treturn result;\n\t}\n};","module.exports = function isInViewPort(item, view, viewport){\n\tvar position = view.getItemTop(item.id);\n\tvar height = view.getItemHeight(item);\n\tif(viewport.y > position + height || viewport.y_end < position){\n\t\treturn false;\n\t}else{\n\t\treturn true;\n\t}\n};","function create(gantt){\n\tvar events = [];\n\n\treturn {\n\t\tdelegate:function(event, className, handler, root) {\n\t\t\tevents.push([event, className, handler, root]);\n\n\t\t\tvar helper = gantt.$services.getService(\"mouseEvents\");\n\t\t\thelper.delegate(event, className, handler, root);\n\t\t},\n\t\tdestructor: function(){\n\t\t\tvar mouseEvents = gantt.$services.getService(\"mouseEvents\");\n\t\t\tfor(var i = 0; i < events.length; i++){\n\t\t\t\tvar h = events[i];\n\t\t\t\tmouseEvents.detach(h[0], h[1], h[2], h[3]);\n\t\t\t}\n\t\t\tevents = [];\n\t\t}\n\t};\n}\n\nmodule.exports = create;","var utils = require(\"../../../utils/utils\");\n\nfunction ScaleHelper(gantt){\n\tvar dateHelper = gantt.date;\n\tvar services = gantt.$services;\n\n\treturn {\n\t\tgetSum: function (sizes, from, to) {\n\t\t\tif (to === undefined)\n\t\t\t\tto = sizes.length - 1;\n\t\t\tif (from === undefined)\n\t\t\t\tfrom = 0;\n\n\t\t\tvar summ = 0;\n\t\t\tfor (var i = from; i <= to; i++)\n\t\t\t\tsumm += sizes[i];\n\n\t\t\treturn summ;\n\t\t},\n\t\tsetSumWidth: function (sum_width, scale, from, to) {\n\t\t\tvar parts = scale.width;\n\n\t\t\tif (to === undefined)\n\t\t\t\tto = parts.length - 1;\n\t\t\tif (from === undefined)\n\t\t\t\tfrom = 0;\n\t\t\tvar length = to - from + 1;\n\n\t\t\tif (from > parts.length - 1 || length <= 0 || to > parts.length - 1)\n\t\t\t\treturn;\n\n\t\t\tvar oldWidth = this.getSum(parts, from, to);\n\n\t\t\tvar diff = sum_width - oldWidth;\n\n\t\t\tthis.adjustSize(diff, parts, from, to);\n\t\t\tthis.adjustSize(-diff, parts, to + 1);\n\n\t\t\tscale.full_width = this.getSum(parts);\n\t\t},\n\t\tsplitSize: function (width, count) {\n\t\t\tvar arr = [];\n\t\t\tfor (var i = 0; i < count; i++) arr[i] = 0;\n\n\t\t\tthis.adjustSize(width, arr);\n\t\t\treturn arr;\n\n\t\t},\n\t\tadjustSize: function (width, parts, from, to) {\n\t\t\tif (!from)\n\t\t\t\tfrom = 0;\n\t\t\tif (to === undefined)\n\t\t\t\tto = parts.length - 1;\n\n\t\t\tvar length = to - from + 1;\n\n\t\t\tvar full = this.getSum(parts, from, to);\n\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tvar share = Math.floor(width * (full ? (parts[i] / full) : (1 / length)));\n\n\t\t\t\tfull -= parts[i];\n\t\t\t\twidth -= share;\n\t\t\t\tlength--;\n\n\t\t\t\tparts[i] += share;\n\t\t\t}\n\t\t\tparts[parts.length - 1] += width;\n\t\t},\n\t\tsortScales: function (scales) {\n\t\t\tfunction cellSize(unit, step) {\n\t\t\t\tvar d = new Date(1970, 0, 1);\n\t\t\t\treturn dateHelper.add(d, step, unit) - d;\n\t\t\t}\n\n\t\t\tscales.sort(function (a, b) {\n\t\t\t\tif (cellSize(a.unit, a.step) < cellSize(b.unit, b.step)) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else if (cellSize(a.unit, a.step) > cellSize(b.unit, b.step)) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfor (var i = 0; i < scales.length; i++) {\n\t\t\t\tscales[i].index = i;\n\t\t\t}\n\t\t},\n\t\t_isLegacyMode: function(config){\n\t\t\tvar scaleConfig = config || services.config();\n\t\t\treturn scaleConfig.scale_unit || scaleConfig.date_scale || scaleConfig.subscales;\n\t\t},\n\t\t_prepareScaleObject: function(scale){\n\t\t\tvar format = scale.format;\n\t\t\tif(!format){\n\t\t\t\tformat = scale.template || scale.date || \"%d %M\";\n\t\t\t}\n\n\t\t\tif(typeof format === \"string\"){\n\t\t\t\tformat = gantt.date.date_to_str(format);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tunit: scale.unit || \"day\",\n\t\t\t\tstep: scale.step || 1,\n\t\t\t\tformat: format,\n\t\t\t\tcss: scale.css\n\t\t\t};\n\t\t},\n\t\tprimaryScale: function(config) {\n\t\t\tvar templates = services.getService(\"templateLoader\");\n\t\t\tvar legacyMode = this._isLegacyMode(config);\n\n\t\t\tvar scaleConfig = config || services.config();\n\n\t\t\tvar result;\n\t\t\tif(legacyMode){\n\t\t\t\ttemplates.initTemplate(\"date_scale\", undefined, undefined, scaleConfig, services.templates());\n\t\t\t\tresult = {\n\t\t\t\t\tunit: services.config().scale_unit,\n\t\t\t\t\tstep: services.config().step,\n\t\t\t\t\ttemplate: services.templates().date_scale,\n\t\t\t\t\tdate: services.config().date_scale,\n\t\t\t\t\tcss: services.templates().scale_cell_class\n\t\t\t\t};\n\t\t\t}else{\n\t\t\t\tvar primaryScale = scaleConfig.scales[0];\n\t\t\t\tresult = {\n\t\t\t\t\tunit: primaryScale.unit,\n\t\t\t\t\tstep: primaryScale.step,\n\t\t\t\t\ttemplate: primaryScale.template,\n\t\t\t\t\tformat: primaryScale.format,\n\t\t\t\t\tdate: primaryScale.date,\n\t\t\t\t\tcss: primaryScale.css || services.templates().scale_cell_class\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn this._prepareScaleObject(result);\n\t\t},\n\t\tgetSubScales: function(config) {\n\t\t\tvar legacyMode = this._isLegacyMode(config);\n\t\t\tvar scaleConfig = config || services.config();\n\t\t\tvar scales;\n\t\t\tif(legacyMode){\n\t\t\t\tscales = scaleConfig.subscales || [];\n\t\t\t}else{\n\t\t\t\tscales = scaleConfig.scales.slice(1);\n\t\t\t}\n\t\t\t\n\t\t\treturn scales.map(function(scale){\n\t\t\t\treturn this._prepareScaleObject(scale);\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tprepareConfigs: function (scales, min_coll_width, container_width, scale_height, minDate, maxDate, rtl) {\n\t\t\tvar heights = this.splitSize(scale_height, scales.length);\n\t\t\tvar full_width = container_width;\n\n\t\t\tvar configs = [];\n\t\t\tfor (var i = scales.length - 1; i >= 0; i--) {\n\t\t\t\tvar main_scale = (i == scales.length - 1);\n\t\t\t\tvar cfg = this.initScaleConfig(scales[i], minDate, maxDate);\n\t\t\t\tif (main_scale) {\n\t\t\t\t\tthis.processIgnores(cfg);\n\t\t\t\t}\n\n\t\t\t\tthis.initColSizes(cfg, min_coll_width, full_width, heights[i]);\n\t\t\t\tthis.limitVisibleRange(cfg);\n\n\t\t\t\tif (main_scale) {\n\t\t\t\t\tfull_width = cfg.full_width;\n\t\t\t\t}\n\n\t\t\t\tconfigs.unshift(cfg);\n\t\t\t}\n\n\n\t\t\tfor (var i = 0; i < configs.length - 1; i++) {\n\t\t\t\tthis.alineScaleColumns(configs[configs.length - 1], configs[i]);\n\t\t\t}\n\t\t\tfor (var i = 0; i < configs.length; i++) {\n\n\t\t\t\tif(rtl){\n\t\t\t\t\tthis.reverseScale(configs[i]);\n\t\t\t\t}\n\t\t\t\tthis.setPosSettings(configs[i]);\n\t\t\t}\n\t\t\treturn configs;\n\n\t\t},\n\n\t\treverseScale: function(scale){\n\t\t\tscale.width = scale.width.reverse();\n\t\t\tscale.trace_x = scale.trace_x.reverse();\n\n\t\t\tvar indexes = scale.trace_indexes;\n\t\t\tscale.trace_indexes = {};\n\t\t\tscale.trace_index_transition = {};\n\t\t\tscale.rtl = true;\n\t\t\tfor(var i = 0; i < scale.trace_x.length; i++){\n\t\t\t\tscale.trace_indexes[scale.trace_x[i].valueOf()] = i;\n\t\t\t\tscale.trace_index_transition[indexes[scale.trace_x[i].valueOf()]] = i;\n\t\t\t}\n\t\t\treturn scale;\n\t\t},\n\n\t\tsetPosSettings: function (config) {\n\t\t\tfor (var i = 0, len = config.trace_x.length; i < len; i++) {\n\t\t\t\tconfig.left.push((config.width[i - 1] || 0) + (config.left[i - 1] || 0));\n\t\t\t}\n\t\t},\n\n\t\t_ignore_time_config: function (date, scale) {\n\n\t\t\tif (services.config().skip_off_time) {\n\t\t\t\tvar skip = true;\n\t\t\t\tvar probe = date;\n\n\t\t\t\t// check dates in case custom scale unit, e.g. {unit: \"month\", step: 3}\n\t\t\t\tfor (var i = 0; i < scale.step; i++) {\n\t\t\t\t\tif (i) {\n\t\t\t\t\t\tprobe = dateHelper.add(date, i, scale.unit);\n\t\t\t\t\t}\n\n\t\t\t\t\tskip = skip && !this.isWorkTime(probe, scale.unit);\n\t\t\t\t}\n\n\t\t\t\treturn skip;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t//defined in an extension\n\t\tprocessIgnores: function (config) {\n\t\t\tconfig.ignore_x = {};\n\t\t\tconfig.display_count = config.count;\n\t\t},\n\t\tinitColSizes: function (config, min_col_width, full_width, line_height) {\n\t\t\tvar cont_width = full_width;\n\n\t\t\tconfig.height = line_height;\n\n\t\t\tvar column_count = config.display_count === undefined ? config.count : config.display_count;\n\n\t\t\tif (!column_count)\n\t\t\t\tcolumn_count = 1;\n\n\t\t\tconfig.col_width = Math.floor(cont_width / column_count);\n\n\t\t\tif (min_col_width) {\n\t\t\t\tif (config.col_width < min_col_width) {\n\t\t\t\t\tconfig.col_width = min_col_width;\n\t\t\t\t\tcont_width = config.col_width * column_count;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconfig.width = [];\n\t\t\tvar ignores = config.ignore_x || {};\n\t\t\tfor (var i = 0; i < config.trace_x.length; i++) {\n\t\t\t\tif (ignores[config.trace_x[i].valueOf()] || (config.display_count == config.count)) {\n\t\t\t\t\tconfig.width[i] = 0;\n\t\t\t\t} else {\n\t\t\t\t\t// width of month columns should be proportional month duration\n\t\t\t\t\tvar width = 1;\n\t\t\t\t\tif (config.unit == \"month\") {\n\t\t\t\t\t\tvar days = Math.round((dateHelper.add(config.trace_x[i], config.step, config.unit) - config.trace_x[i]) / (1000 * 60 * 60 * 24));\n\t\t\t\t\t\twidth = days;\n\t\t\t\t\t}\n\t\t\t\t\tconfig.width[i] = width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.adjustSize(cont_width - this.getSum(config.width)/* 1 width per column from the code above */, config.width);\n\t\t\tconfig.full_width = this.getSum(config.width);\n\t\t},\n\t\tinitScaleConfig: function (config, min_date, max_date) {\n\t\t\tvar cfg = utils.mixin({\n\t\t\t\tcount: 0,\n\t\t\t\tcol_width: 0,\n\t\t\t\tfull_width: 0,\n\t\t\t\theight: 0,\n\t\t\t\twidth: [],\n\t\t\t\tleft: [],\n\t\t\t\ttrace_x: [],\n\t\t\t\ttrace_indexes: {},\n\t\t\t\tmin_date: new Date(min_date),\n\t\t\t\tmax_date: new Date(max_date)\n\t\t\t}, config);\n\n\t\t\tthis.eachColumn(config.unit, config.step, min_date, max_date, function (date) {\n\t\t\t\tcfg.count++;\n\t\t\t\tcfg.trace_x.push(new Date(date));\n\t\t\t\tcfg.trace_indexes[date.valueOf()] = cfg.trace_x.length - 1;\n\t\t\t});\n\n\t\t\tcfg.trace_x_ascending = cfg.trace_x.slice();\n\t\t\treturn cfg;\n\t\t},\n\t\titerateScales: function (lower_scale, upper_scale, from, to, callback) {\n\t\t\tvar upper_dates = upper_scale.trace_x;\n\t\t\tvar lower_dates = lower_scale.trace_x;\n\n\t\t\tvar prev = from || 0;\n\t\t\tvar end = to || (lower_dates.length - 1);\n\t\t\tvar prevUpper = 0;\n\n\n\t\t\tfor (var up = 1; up < upper_dates.length; up++) {\n\t\t\t\tvar target_index = (lower_scale.trace_indexes[+upper_dates[up]]);\n\t\t\t\tif (target_index !== undefined && target_index <= end) {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(this, [prevUpper, up, prev, target_index]);\n\t\t\t\t\t}\n\t\t\t\t\tprev = target_index;\n\t\t\t\t\tprevUpper = up;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\talineScaleColumns: function (lower_scale, upper_scale, from, to) {\n\t\t\tthis.iterateScales(lower_scale, upper_scale, from, to, function (upper_start, upper_end, lower_start, lower_end) {\n\t\t\t\tvar targetWidth = this.getSum(lower_scale.width, lower_start, lower_end - 1);\n\t\t\t\tvar actualWidth = this.getSum(upper_scale.width, upper_start, upper_end - 1);\n\t\t\t\tif (actualWidth != targetWidth) {\n\t\t\t\t\tthis.setSumWidth(targetWidth, upper_scale, upper_start, upper_end - 1);\n\t\t\t\t}\n\n\t\t\t});\n\t\t},\n\n\t\teachColumn: function (unit, step, min_date, max_date, callback) {\n\t\t\tvar start = new Date(min_date),\n\t\t\t\tend = new Date(max_date);\n\t\t\tif (dateHelper[unit + \"_start\"]) {\n\t\t\t\tstart = dateHelper[unit + \"_start\"](start);\n\t\t\t}\n\n\t\t\tvar curr = new Date(start);\n\t\t\tif (+curr >= +end) {\n\t\t\t\tend = dateHelper.add(curr, step, unit);\n\t\t\t}\n\t\t\twhile (+curr < +end) {\n\t\t\t\tcallback.call(this, new Date(curr));\n\t\t\t\tvar tzOffset = curr.getTimezoneOffset();\n\t\t\t\tcurr = dateHelper.add(curr, step, unit);\n\t\t\t\tcurr = gantt._correct_dst_change(curr, tzOffset, step, unit);\n\t\t\t\tif (dateHelper[unit + '_start'])\n\t\t\t\t\tcurr = dateHelper[unit + \"_start\"](curr);\n\t\t\t}\n\t\t},\n\t\tlimitVisibleRange: function (cfg) {\n\t\t\tvar dates = cfg.trace_x;\n\n\t\t\tvar left = 0, right = cfg.width.length - 1;\n\t\t\tvar diff = 0;\n\t\t\tif (+dates[0] < +cfg.min_date && left != right) {\n\t\t\t\tvar width = Math.floor(cfg.width[0] * ((dates[1] - cfg.min_date) / (dates[1] - dates[0])));\n\t\t\t\tdiff += cfg.width[0] - width;\n\t\t\t\tcfg.width[0] = width;\n\n\t\t\t\tdates[0] = new Date(cfg.min_date);\n\t\t\t}\n\n\t\t\tvar last = dates.length - 1;\n\t\t\tvar lastDate = dates[last];\n\t\t\tvar outDate = dateHelper.add(lastDate, cfg.step, cfg.unit);\n\t\t\tif (+outDate > +cfg.max_date && last > 0) {\n\t\t\t\tvar width = cfg.width[last] - Math.floor(cfg.width[last] * ((outDate - cfg.max_date) / (outDate - lastDate)));\n\t\t\t\tdiff += cfg.width[last] - width;\n\t\t\t\tcfg.width[last] = width;\n\t\t\t}\n\n\t\t\tif (diff) {\n\t\t\t\tvar full = this.getSum(cfg.width);\n\t\t\t\tvar shared = 0;\n\t\t\t\tfor (var i = 0; i < cfg.width.length; i++) {\n\t\t\t\t\tvar share = Math.floor(diff * (cfg.width[i] / full));\n\t\t\t\t\tcfg.width[i] += share;\n\t\t\t\t\tshared += share;\n\t\t\t\t}\n\t\t\t\tthis.adjustSize(diff - shared, cfg.width);\n\t\t\t}\n\n\t\t}\n\t};\n}\n\nmodule.exports = ScaleHelper;\n","var ScaleHelper = require(\"./scales_ignore\");\nvar eventable = require(\"../../../utils/eventable\");\nvar utils = require(\"../../../utils/utils\");\nvar topPositionMixin = require(\"../row_position_mixin\");\nvar canvasRender = require(\"./tasks_canvas_render\");\n\nvar Timeline = function(parent, config, factory, gantt){\n\tthis.$config = utils.mixin({}, config || {});\n\tthis.$scaleHelper = new ScaleHelper(gantt);\n\tthis.$gantt = gantt;\n\tthis._posFromDateCache = {};\n\tutils.mixin(this, topPositionMixin());\n\teventable(this);\n};\n\nTimeline.prototype = {\n\tinit: function(container){\n\t\tcontainer.innerHTML += \"<div class='gantt_task' style='width:inherit;height:inherit;'></div>\";\n\t\tthis.$task = container.childNodes[0];\n\n\t\tthis.$task.innerHTML = \"<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>\";\n\t\tthis.$task_scale = this.$task.childNodes[0];\n\n\t\tthis.$task_data = this.$task.childNodes[1];\n\t\tthis.$task_data.innerHTML = \"<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>\";\n\t\tthis.$task_bg = this.$task_data.childNodes[0];\n\t\tthis.$task_links = this.$task_data.childNodes[1];\n\t\tthis.$task_bars = this.$task_data.childNodes[2];\n\n\t\tthis._tasks = {\n\t\t\tcol_width: 0,\n\t\t\twidth: [], // width of each column\n\t\t\tfull_width: 0, // width of all columns\n\t\t\ttrace_x: [],\n\t\t\trendered: {}\n\t\t};\n\n\t\tvar config = this.$getConfig();\n\t\tvar attr = config[this.$config.bind + \"_attribute\"];\n\t\tvar linksAttr = config[this.$config.bindLinks + \"_attribute\"];\n\t\tif(!attr && this.$config.bind){\n\t\t\tattr = this.$config.bind + \"_id\";\n\t\t}\n\t\tif(!linksAttr && this.$config.bindLinks){\n\t\t\tlinksAttr = this.$config.bindLinks + \"_id\";\n\t\t}\n\t\tthis.$config.item_attribute = attr || null;\n\t\tthis.$config.link_attribute = linksAttr || null;\n\n\t\tvar layers = this._createLayerConfig();\n\t\tif(!this.$config.layers){\n\t\t\tthis.$config.layers = layers.tasks;\n\t\t}\n\t\tif(!this.$config.linkLayers){\n\t\t\tthis.$config.linkLayers = layers.links;\n\t\t}\n\n\t\tthis._attachLayers(this.$gantt);\n\n\t\tthis.callEvent(\"onReady\", []);\n\t\t//this.refresh();\n\t},\n\n\tsetSize: function(width, height){\n\t\tvar config = this.$getConfig();\n\n\t\tif(width*1 === width){\n\t\t\tthis.$config.width = width;\n\t\t}\n\t\tif(height*1 === height){\n\n\t\t\tthis.$config.height = height;\n\t\t\tvar dataHeight = Math.max(this.$config.height - config.scale_height);\n\t\t\tthis.$task_data.style.height = dataHeight + 'px';\n\t\t}\n\n\t\tthis.refresh();\n\t\tthis.$task_bg.style.backgroundImage = \"\";\n\n\t\tif(config.smart_rendering && this.$config.rowStore){\n\t\t\tvar store = this.$config.rowStore;\n\t\t\tthis.$task_bg.style.height = config.row_height * store.countVisible() +\"px\";\n\t\t}else{\n\t\t\tthis.$task_bg.style.height = \"\";\n\t\t}\n\n\t\tvar scale = this._tasks;\n\t\t//timeline area layers\n\t\tvar data_els = this.$task_data.childNodes;\n\t\tfor(var i= 0, len = data_els.length; i < len; i++){\n\t\t\tvar el = data_els[i];\n\t\t\tif(el.hasAttribute(\"data-layer\") && el.style)\n\t\t\t\tel.style.width = scale.full_width + \"px\";\n\t\t}\n\t},\n\n\tisVisible: function(){\n\t\tif(this.$parent && this.$parent.$config){\n\t\t\treturn !this.$parent.$config.hidden;\n\t\t}else{\n\t\t\treturn this.$task.offsetWidth;\n\t\t}\n\t},\n\n\tgetSize: function(){\n\t\tvar config = this.$getConfig();\n\t\tvar store = this.$config.rowStore;\n\n\t\tvar contentHeight = store ? config.row_height * store.countVisible() : 0,\n\t\t\tcontentWidth = this.isVisible() ? this._tasks.full_width : 0;\n\n\t\treturn {\n\t\t\tx: this.isVisible() ? this.$config.width : 0,\n\t\t\ty: this.isVisible() ? this.$config.height : 0,\n\t\t\tcontentX: this.isVisible() ? contentWidth : 0,\n\t\t\tcontentY: this.isVisible() ? (config.scale_height + contentHeight) : 0,\n\t\t\tscrollHeight: this.isVisible() ? contentHeight : 0,\n\t\t\tscrollWidth: this.isVisible() ? contentWidth : 0\n\t\t};\n\t},\n\n\tscrollTo: function(left, top){\n\t\tif(!this.isVisible())\n\t\t\treturn;\n\n\t\tvar scrolled = false;\n\n\t\tthis.$config.scrollTop = this.$config.scrollTop || 0;\n\t\tthis.$config.scrollLeft = this.$config.scrollLeft || 0;\n\t\tif(top*1 === top){\n\t\t\tthis.$config.scrollTop = top;\n\t\t\tthis.$task_data.scrollTop = this.$config.scrollTop;\n\t\t\tscrolled = true;\n\t\t}\n\t\tif (left*1 === left){\n\t\t\tthis.$task.scrollLeft = left;\n\t\t\tthis.$config.scrollLeft = this.$task.scrollLeft;\n\t\t\tthis._refreshScales();\n\t\t\tscrolled = true;\n\t\t}\n\n\t\tif(scrolled){\n\t\t\tthis.callEvent(\"onScroll\", [this.$config.scrollLeft, this.$config.scrollTop]);\n\t\t}\n\t},\n\n\t_refreshScales: function _refreshScales() {\n\t\tif(!this.isVisible())\n\t\t\treturn;\n\n\t\tvar config = this.$getConfig();\n\t\tif (!config.smart_scales) return;\n\n\t\tvar viewPort = this.getViewPort();\n\n\t\tvar scales = this._scales;\n\t\tthis.$task_scale.innerHTML = this._getScaleChunkHtml(scales, viewPort.x, viewPort.x_end);\n\t},\n\n\tgetViewPort: function(){\n\t\tvar scrollLeft = this.$config.scrollLeft || 0;\n\t\tvar scrollTop = this.$config.scrollTop || 0;\n\t\tvar height = this.$config.height || 0;\n\t\tvar width = this.$config.width || 0;\n\t\treturn {\n\t\t\ty: scrollTop,\n\t\t\ty_end: scrollTop + height,\n\t\t\tx: scrollLeft,\n\t\t\tx_end: scrollLeft + width,\n\t\t\theight: height,\n\t\t\twidth: width\n\t\t};\n\t},\n\n\t_createLayerConfig: function(){\n\t\tvar self = this;\n\t\tvar taskFilter = function(){\n\t\t\treturn self.isVisible();\n\t\t};\n\n\t\tvar taskLayers = [\n\t\t\t{\n\t\t\t\texpose: true,\n\t\t\t\trenderer: this.$gantt.$ui.layers.taskBar(),\n\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\tfilter: [taskFilter]\n\t\t\t},\n\t\t\t{\n\t\t\t\trenderer: this.$gantt.$ui.layers.taskSplitBar(),\n\t\t\t\tfilter: [taskFilter],\n\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\tappend: true\n\t\t\t},\n\t\t\t{\n\t\t\t\trenderer: this.$gantt.$ui.layers.taskBg(),\n\t\t\t\tcontainer: this.$task_bg,\n\t\t\t\tfilter: [\n\t\t\t\t\t//function(){\n\t\t\t\t\t//\treturn !self.$getConfig().static_background;\n\t\t\t\t\t//},\n\t\t\t\t\ttaskFilter\n\t\t\t\t]\n\t\t\t}\n\t\t];\n\n\t\tvar linkLayers = [\n\t\t\t{\n\t\t\t\texpose: true,\n\t\t\t\trenderer: this.$gantt.$ui.layers.link(),\n\t\t\t\tcontainer: this.$task_links,\n\t\t\t\tfilter: [taskFilter]\n\t\t\t}\n\t\t];\n\n\t\treturn {\n\t\t\ttasks: taskLayers,\n\t\t\tlinks: linkLayers\n\t\t};\n\n\t},\n\n\t_attachLayers: function(gantt){\n\t\tthis._taskLayers = [];\n\t\tthis._linkLayers = [];\n\n\t\tvar self = this;\n\t\tvar getViewPort = function(){\n\t\t\treturn self.getViewPort();\n\t\t};\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\n\t\tfunction subscribeSmartRender(layer){\n\t\t\tself.attachEvent(\"onScroll\", function(){\n\t\t\t\tif(layer.requestUpdate){\n\t\t\t\t\tlayer.requestUpdate();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif(this.$config.bind){\n\n\t\t\tthis._bindStore();\n\t\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\n\t\t\tif(!taskRenderer){\n\t\t\t\ttaskRenderer = layers.createDataRender({\n\t\t\t\t\tname: this.$config.bind,\n\t\t\t\t\tdefaultContainer: function(){ return self.$task_data;}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\ttaskRenderer.container = function(){ return self.$task_data;};\n\n\t\t\tvar taskLayers = this.$config.layers;\n\t\t\tfor(var i = 0; taskLayers && i < taskLayers.length; i++){\n\t\t\t\tvar layer = taskLayers[i];\n\n\t\t\t\tif(typeof layer == \"string\"){\n\t\t\t\t\tlayer = this.$gantt.$ui.layers[layer]();\n\t\t\t\t}\n\n\t\t\t\tif(typeof layer == \"function\" || (layer && layer.render && layer.update)){\n\t\t\t\t\tlayer = {renderer: layer};\n\t\t\t\t}\n\n\t\t\t\tlayer.host = this;\n\t\t\t\tif(!layer.viewPort){\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tlayer.getViewPort = function(){\n\t\t\t\t\t\tif(!self.getViewPort){\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn self.getViewPort();\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tlayer.getViewPort = getViewPort;\n\t\t\t\tsubscribeSmartRender(layer);\n\t\t\t\tvar bar_layer = taskRenderer.addLayer(layer);\n\t\t\t\tthis._taskLayers.push(bar_layer);\n\t\t\t\tif(layer.expose){\n\t\t\t\t\tthis._taskRenderer = taskRenderer.getLayer(bar_layer);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._initStaticBackgroundRender();\n\t\t}\n\n\t\tif(this.$config.bindLinks){\n\t\t\tself.$config.linkStore = self.$gantt.getDatastore(self.$config.bindLinks);\n\n\t\t\tvar linkRenderer = layers.getDataRender(this.$config.bindLinks);\n\n\t\t\tif(!linkRenderer){\n\t\t\t\tlinkRenderer = layers.createDataRender({\n\t\t\t\t\tname: this.$config.bindLinks,\n\t\t\t\t\tdefaultContainer: function(){ return self.$task_data;}\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar linkLayers = this.$config.linkLayers;\n\t\t\tfor(var i = 0; linkLayers && i < linkLayers.length; i++){\n\n\t\t\t\tif(typeof layer == \"string\"){\n\t\t\t\t\tlayer = this.$gantt.$ui.layers[layer]();\n\t\t\t\t}\n\n\t\t\t\tvar layer = linkLayers[i];\n\t\t\t\tlayer.host = this;\n\t\t\t\tlayer.getViewPort = getViewPort;\n\t\t\t\tsubscribeSmartRender(layer);\n\t\t\t\tvar linkLayer = linkRenderer.addLayer(layer);\n\t\t\t\tthis._taskLayers.push(linkLayer);\n\t\t\t\tif(linkLayers[i].expose){\n\t\t\t\t\tthis._linkRenderer = linkRenderer.getLayer(linkLayer);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_initStaticBackgroundRender: function(){\n\t\tvar self = this;\n\t\tvar staticRender = canvasRender.create();\n\t\tvar store = self.$config.rowStore;\n\t\tif(!store) return;\n\n\t\tthis._staticBgHandler = store.attachEvent(\"onStoreUpdated\", function(id, item, mode){\n\t\t\tif(id !== null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!self.isVisible())\n\t\t\t\treturn;\n\t\t\tvar config = self.$getConfig();\n\t\t\tif(config.static_background) {\n\t\t\t\tvar store = self.$gantt.getDatastore(self.$config.bind);\n\t\t\t\tvar staticBgContainer = self.$task_bg_static;\n\t\t\t\tif(!staticBgContainer){\n\t\t\t\t\tstaticBgContainer = document.createElement(\"div\");\n\t\t\t\t\tstaticBgContainer.className = \"gantt_task_bg\";\n\t\t\t\t\tself.$task_bg_static = staticBgContainer;\n\t\t\t\t\tif(self.$task_bg.nextSibling){\n\t\t\t\t\t\tself.$task_data.insertBefore(staticBgContainer, self.$task_bg.nextSibling);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.$task_data.appendChild(staticBgContainer);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (store) {\n\t\t\t\t\tstaticRender.render(staticBgContainer, config, self.getScale(), config.row_height * store.countVisible());\n\t\t\t\t}\n\t\t\t}else if(config.static_background){\n\t\t\t\tif(self.$task_bg_static && self.$task_bg_static.parentNode){\n\t\t\t\t\tself.$task_bg_static.parentNode.removeChild(self.$task_bg_static);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.attachEvent(\"onDestroy\", function () {\n\t\t\tstaticRender.destroy();\n\t\t});\n\t\tthis._initStaticBackgroundRender = function(){};//init once\n\t},\n\n\t_clearLayers: function(gantt){\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\t\tvar linkRenderer = layers.getDataRender(this.$config.bindLinks);\n\n\t\tif (this._taskLayers) {\n\t\t\tfor(var i = 0; i < this._taskLayers.length; i++){\n\t\t\t\ttaskRenderer.removeLayer(this._taskLayers[i]);\n\t\t\t}\n\t\t}\n\t\tif (this._linkLayers) {\n\t\t\tfor(var i = 0; i < this._linkLayers.length; i++){\n\t\t\t\tlinkRenderer.removeLayer(this._linkLayers[i]);\n\t\t\t}\n\t\t}\n\n\t\tthis._linkLayers = [];\n\t\tthis._taskLayers = [];\n\t},\n\n\t_render_tasks_scales: function _render_tasks_scales() {\n\t\tvar config = this.$getConfig();\n\n\t\tvar scales_html = \"\",\n\t\t\touter_width = 0,\n\t\t\tscale_height = 0;\n\n\t\tvar state = this.$gantt.getState();\n\n\t\tif (this.isVisible()) {\n\t\t\tvar helpers = this.$scaleHelper;\n\t\t\tvar scales = this._getScales();\n\t\t\tscale_height = config.scale_height;\n\n\t\t\tvar availWidth = this.$config.width;\n\t\t\tif(config.autosize == \"x\" || config.autosize == \"xy\"){\n\t\t\t\tavailWidth = Math.max(config.autosize_min_width, 0);\n\t\t\t}\n\n\t\t\tvar cfgs = helpers.prepareConfigs(scales, config.min_column_width, availWidth, scale_height - 1, state.min_date, state.max_date, config.rtl);\n\t\t\tvar cfg = this._tasks = cfgs[cfgs.length - 1];\n\t\t\tthis._scales = cfgs;\n\t\t\tthis._posFromDateCache = {};\n\n\t\t\tscales_html = this._getScaleChunkHtml(cfgs, 0, this.$config.width);\n\n\t\t\touter_width = cfg.full_width + \"px\";//cfg.full_width + (this._scroll_sizes().y ? scrollSizes.scroll_size : 0) + \"px\";\n\t\t\tscale_height += \"px\";\n\t\t}\n\n\t\tthis.$task_scale.style.height = scale_height;\n\n\t\tthis.$task_data.style.width =\n\t\t\tthis.$task_scale.style.width = outer_width;\n\n\t\tthis.$task_scale.innerHTML = scales_html;\n\n\t},\n\n\t_getScaleChunkHtml: function _get_scale_chunk_html (scales, fromPos, toPos) {\n\t\tvar templates = this.$gantt.$services.templates();\n\t\tvar html = [];\n\n\t\tvar css = templates.scale_row_class;\n\t\tfor (var i = 0; i < scales.length; i++) {\n\t\t\tvar cssClass = \"gantt_scale_line\";\n\t\t\tvar tplClass = css(scales[i]);\n\t\t\tif (tplClass) {\n\t\t\t\tcssClass += \" \" + tplClass;\n\t\t\t}\n\n\t\t\thtml.push(\"<div class=\\\"\" + cssClass + \"\\\" style=\\\"height:\" + (scales[i].height) +\n\t\t\t\t\"px;position:relative;line-height:\" + (scales[i].height) + \"px\\\">\" + this._prepareScaleHtml(scales[i], fromPos, toPos) + \"</div>\");\n\t\t}\n\n\t\treturn html.join(\"\");\n\t},\n\t_prepareScaleHtml: function _prepare_scale_html(config, fromPos, toPos) {\n\t\tvar globalConfig = this.$getConfig();\n\t\tvar globalTemplates = this.$gantt.$services.templates();\n\n\t\tvar cells = [];\n\t\tvar date = null, css = null;\n\n\t\tvar content = config.format || config.template || config.date;\n\n\t\tif(typeof content === \"string\"){\n\t\t\tcontent = this.$gantt.date.date_to_str(content);\n\t\t}\n\n\t\tvar startIndex = 0,\n\t\t\tendIndex = config.count;\n\n\t\tif (globalConfig.smart_scales && (!isNaN(fromPos) && !isNaN(toPos))) {\n\t\t\tstartIndex = _findBinary(config.left, fromPos);\n\t\t\tendIndex = _findBinary(config.left, toPos) + 1;\n\t\t}\n\n\t\tcss = config.css || function () {\n\t\t\t};\n\t\tif (!config.css && globalConfig.inherit_scale_class) {\n\t\t\tcss = globalTemplates.scale_cell_class;\n\t\t}\n\n\t\tfor (var i = startIndex; i < endIndex; i++) {\n\t\t\tif (!config.trace_x[i]) break;\n\n\t\t\tdate = new Date(config.trace_x[i]);\n\t\t\tvar value = content.call(this, date),\n\t\t\t\twidth = config.width[i],\n\t\t\t\theight = config.height,\n\t\t\t\tleft = config.left[i],\n\t\t\t\tstyle = \"\",\n\t\t\t\ttemplate = \"\",\n\t\t\t\tcssclass = \"\";\n\n\t\t\tif (width) {\n\t\t\t\tvar position = globalConfig.smart_scales ? (\"position:absolute;left:\" + left + \"px\") : \"\";\n\n\t\t\t\tstyle = \"width:\" + (width) + \"px;height:\" + height + \"px;\" + position;\n\t\t\t\tcssclass = \"gantt_scale_cell\" + (i == config.count - 1 ? \" gantt_last_cell\" : \"\");\n\n\t\t\t\ttemplate = css.call(this, date);\n\t\t\t\tif (template) cssclass += \" \" + template;\n\n\t\t\t\tvar ariaAttr = this.$gantt._waiAria.getTimelineCellAttr(value);\n\t\t\t\tvar cell = \"<div class='\" + cssclass + \"'\" + ariaAttr + \" style='\" + style + \"'>\" + value + \"</div>\";\n\t\t\t\tcells.push(cell);\n\t\t\t} else {\n\t\t\t\t//do not render ignored cells\n\t\t\t}\n\n\t\t}\n\t\treturn cells.join(\"\");\n\t},\n\tdateFromPos: function dateFromPos(x) {\n\t\tvar scale = this._tasks;\n\t\tif (x < 0 || x > scale.full_width || !scale.full_width) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar ind = _findBinary(this._tasks.left, x);\n\t\tvar summ = this._tasks.left[ind];\n\n\t\tvar col_width = scale.width[ind] || scale.col_width;\n\t\tvar part = 0;\n\t\tif (col_width) {\n\t\t\tpart = (x - summ) / col_width;\n\t\t\tif(scale.rtl){\n\t\t\t\tpart = 1 - part;\n\t\t\t}\n\n\t\t}\n\n\t\tvar unit = 0;\n\t\tif (part) {\n\t\t\tunit = this._getColumnDuration(scale, scale.trace_x[ind]);\n\t\t}\n\n\t\tvar date = new Date(scale.trace_x[ind].valueOf() + Math.round(part * unit));\n\t\treturn date;\n\t},\n\tposFromDate: function posFromDate(date) {\n\t\tif (!this.isVisible())\n\t\t\treturn 0;\n\n\t\tvar dateValue = String(date.valueOf());\n\n\t\tif(this._posFromDateCache[dateValue] !== undefined){\n\t\t\treturn this._posFromDateCache[dateValue];\n\t\t}\n\t\tvar ind = this.columnIndexByDate(date);\n\t\tthis.$gantt.assert(ind >= 0, \"Invalid day index\");\n\n\t\tvar wholeCells = Math.floor(ind);\n\t\tvar partCell = ind % 1;\n\n\t\tvar pos = this._tasks.left[Math.min(wholeCells, this._tasks.width.length - 1)];\n\t\tif (wholeCells == this._tasks.width.length)\n\t\t\tpos += this._tasks.width[this._tasks.width.length - 1];\n\t\t//for(var i=1; i <= wholeCells; i++)\n\t\t//\tpos += gantt._tasks.width[i-1];\n\n\t\tif (partCell) {\n\t\t\tif (wholeCells < this._tasks.width.length) {\n\t\t\t\tpos += this._tasks.width[wholeCells] * (partCell % 1);\n\t\t\t} else {\n\t\t\t\tpos += 1;\n\t\t\t}\n\n\t\t}\n\n\t\tvar roundPos = Math.round(pos);\n\t\tthis._posFromDateCache[dateValue] = roundPos;\n\t\treturn Math.round(roundPos);\n\t},\n\n\t_getNextVisibleColumn: function (startIndex, columns, ignores) {\n\t\t// iterate columns to the right\n\t\tvar date = +columns[startIndex];\n\t\tvar visibleDateIndex = startIndex;\n\t\twhile (ignores[date]) {\n\t\t\tvisibleDateIndex++;\n\t\t\tdate = +columns[visibleDateIndex];\n\t\t}\n\n\t\treturn visibleDateIndex;\n\t},\n\t_getPrevVisibleColumn: function (startIndex, columns, ignores) {\n\t\t// iterate columns to the left\n\t\tvar date = +columns[startIndex];\n\t\tvar visibleDateIndex = startIndex;\n\t\twhile (ignores[date]) {\n\t\t\tvisibleDateIndex--;\n\t\t\tdate = +columns[visibleDateIndex];\n\t\t}\n\t\treturn visibleDateIndex;\n\t},\n\t_getClosestVisibleColumn: function (startIndex, columns, ignores) {\n\t\tvar visibleDateIndex = this._getNextVisibleColumn(startIndex, columns, ignores);\n\t\tif (!columns[visibleDateIndex]) {\n\t\t\tvisibleDateIndex =  this._getPrevVisibleColumn(startIndex, columns, ignores);\n\t\t}\n\t\treturn visibleDateIndex;\n\t},\n\tcolumnIndexByDate: function columnIndexByDate(date) {\n\t\tvar pos = new Date(date).valueOf();\n\t\tvar days = this._tasks.trace_x_ascending,\n\t\t\tignores = this._tasks.ignore_x;\n\n\t\tvar state = this.$gantt.getState();\n\n\t\tif (pos <= state.min_date) {\n\t\t\tif(this._tasks.rtl){\n\t\t\t\treturn days.length;\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t}\n\n\t\tif (pos >= state.max_date) {\n\t\t\tif(this._tasks.rtl){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn days.length;\n\t\t\t}\n\t\t}\n\n\t\tvar dateIndex = _findBinary(days, pos);\n\n\t\tvar visibleIndex = this._getClosestVisibleColumn(dateIndex, days, ignores);\n\t\tvar visibleDate = days[visibleIndex];\n\t\tvar transition = this._tasks.trace_index_transition;\n\n\t\tif(!visibleDate){\n\t\t\tif(transition){\n\t\t\t\treturn transition[0];\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tvar part = ((date - days[visibleIndex]) / this._getColumnDuration(this._tasks, days[visibleIndex]));\n\t\tif(transition){\n\t\t\treturn transition[visibleIndex] + (1 - part);\n\t\t}else{\n\t\t\treturn visibleIndex + part;\n\t\t}\n\t},\n\tgetItemPosition:function (task, start_date, end_date) {\n\t\tvar xLeft, xRight, width;\n\t\tif(this._tasks.rtl){\n\t\t\txRight = this.posFromDate(start_date || task.start_date);\n\t\t\txLeft = this.posFromDate(end_date || task.end_date);\n\t\t}else{\n\t\t\txLeft = this.posFromDate(start_date || task.start_date);\n\t\t\txRight = this.posFromDate(end_date || task.end_date);\n\t\t}\n\t\twidth =  Math.max((xRight - xLeft), 0);\n\n\t\tvar y = this.getItemTop(task.id);\n\t\tvar height = this.getItemHeight();\n\t\treturn {\n\t\t\tleft: xLeft,\n\t\t\ttop: y,\n\t\t\theight: height,\n\t\t\twidth: width\n\t\t};\n\t},\n\n\tgetItemHeight: function(){\n\t\tvar config = this.$getConfig();\n\n\t\t// height of the bar item\n\t\tvar height = config.task_height;\n\n\t\tif (height == \"full\") {\n\t\t\tvar offset = config.task_height_offset || 5;\n\t\t\theight = config.row_height - offset;\n\t\t}\n\t\t//item height cannot be bigger than row height\n\t\theight = Math.min(height, config.row_height);\n\t\treturn Math.max(height, 0);\n\t},\n\n\tgetScale: function(){\n\t\treturn this._tasks;\n\t},\n\n\t_getScales: function _get_scales() {\n\t\tvar config = this.$getConfig();\n\t\tvar helpers = this.$scaleHelper;\n\t\tvar scales = [helpers.primaryScale(config)].concat(helpers.getSubScales(config));\n\n\t\thelpers.sortScales(scales);\n\t\treturn scales;\n\t},\n\n\t_getColumnDuration: function _get_coll_duration(scale, date) {\n\t\treturn this.$gantt.date.add(date, scale.step, scale.unit) - date;\n\t},\n\t_bindStore: function () {\n\t\tif (this.$config.bind){\n\t\t\tvar rowStore = this.$gantt.getDatastore(this.$config.bind);\n\t\t\tthis.$config.rowStore = rowStore;\n\t\t\tif(rowStore && !rowStore._timelineCacheAttached){\n\t\t\t\tvar self = this;\n\t\t\t\trowStore._timelineCacheAttached = true;\n\t\t\t\trowStore.attachEvent(\"onBeforeFilter\", function(){\n\t\t\t\t\tself._resetTopPositionHeight();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\trefresh: function(){\n\t\tthis._bindStore();\n\n\t\tif(this.$config.bindLinks) {\n\t\t\tthis.$config.linkStore = this.$gantt.getDatastore(this.$config.bindLinks);\n\t\t}\n\n\t\tthis._resetTopPositionHeight();\n\t\tthis._initStaticBackgroundRender();\n\t\tthis._render_tasks_scales();\n\t},\n\n\tdestructor: function(){\n\t\tvar gantt = this.$gantt;\n\t\tthis._clearLayers(gantt);\n\n\t\tthis.$task = null;\n\t\tthis.$task_scale = null;\n\t\tthis.$task_data = null;\n\t\tthis.$task_bg = null;\n\t\tthis.$task_links = null;\n\t\tthis.$task_bars = null;\n\n\t\tthis.$gantt = null;\n\n\t\tif(this.$config.rowStore){\n\t\t\tthis.$config.rowStore.detachEvent(this._staticBgHandler);\n\t\t\tthis.$config.rowStore = null;\n\t\t}\n\t\tif(this.$config.linkStore){\n\t\t\tthis.$config.linkStore = null;\n\t\t}\n\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\n\t}\n};\n\nmodule.exports = Timeline;\n\nfunction _findBinary(array, target) {\n\t// modified binary search, target value not exactly match array elements, looking for closest one\n\n\tvar low = 0, high = array.length - 1, i, item, prev;\n\twhile (low <= high) {\n\n\t\ti = Math.floor((low + high) / 2);\n\t\titem = +array[i];\n\t\tprev = +array[i - 1];\n\t\tif (item < target) {\n\t\t\tlow = i + 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (item > target) {\n\t\t\tif (!(!isNaN(prev) && prev < target)) {\n\t\t\t\thigh = i - 1;\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\t// if target is between 'i' and 'i-1' return 'i - 1'\n\t\t\t\treturn i - 1;\n\t\t\t}\n\n\t\t}\n\t\twhile (+array[i] == +array[i + 1]) i++;\n\n\t\treturn i;\n\t}\n\treturn array.length - 1;\n}\n\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","var utils = require(\"./utils\");\n\nfunction createScope(addEvent, removeEvent) {\n\taddEvent = addEvent || utils.event;\n\tremoveEvent = removeEvent || utils.eventRemove;\n\n\tvar handlers = [];\n\n\tvar eventScope = {\n\t\tattach: function(el, event, callback, capture){\n\t\t\thandlers.push({element: el, event:event, callback: callback, capture: capture});\n\t\t\taddEvent(el, event, callback, capture);\n\t\t},\n\t\tdetach: function(el, event, callback, capture){\n\t\t\tremoveEvent(el, event, callback, capture);\n\t\t\tfor(var i = 0; i < handlers.length; i++){\n\t\t\t\tvar handler = handlers[i];\n\t\t\t\tif (handler.element === el && handler.event === event && handler.callback === callback && handler.capture === capture) {\n\t\t\t\t\thandlers.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdetachAll: function () {\n\t\t\tvar staticArray = handlers.slice();\n\t\t\t// original handlers array can be spliced on every iteration\n\t\t\tfor (var i = 0; i < staticArray.length; i++){\n\t\t\t\tvar handler = staticArray[i];\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, handler.capture);\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, undefined);\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, false);\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, true);\n\t\t\t}\n\t\t\thandlers.splice(0, handlers.length);\n\t\t},\n\t\textend: function(){\n\t\t\treturn createScope(this.event, this.eventRemove);\n\t\t}\n\t};\n\n\tif (!window.scopes) {\n\t\twindow.scopes = [];\n\t}\n\twindow.scopes.push(handlers);\n\treturn eventScope;\n}\n\nmodule.exports = createScope;","var helpers = require(\"./helpers\");\n\nvar htmlHelpers = {\n\tgetHtmlSelect: function(options, attributes, value) {\n\t\tvar innerHTML = \"\";\n\t\tvar _this = this;\n\n\t\toptions = options || [];\n\t\t\n\t\thelpers.forEach(options, function(entry) {\n\t\t\tvar _attributes = [{ key: \"value\", value: entry.key }];\n\n\t\t\tif (value == entry.key) {\n\t\t\t\t_attributes[_attributes.length] = { key: \"selected\", value: \"selected\" };\n\t\t\t}\n\t\t\tif (entry.attributes) {\n\t\t\t\t_attributes = _attributes.concat(entry.attributes);\n\t\t\t}\n\t\t\tinnerHTML += _this.getHtmlOption({ innerHTML: entry.label }, _attributes);\n\t\t});\n\n\t\treturn _getHtmlContainer(\"select\", { innerHTML: innerHTML }, attributes);\n\t},\n\tgetHtmlOption: function(options, attributes) { return _getHtmlContainer(\"option\", options, attributes); },\n\tgetHtmlButton: function(options, attributes) { return _getHtmlContainer(\"button\", options, attributes); },\n\tgetHtmlDiv: function(options, attributes) { return _getHtmlContainer(\"div\", options, attributes); },\n\tgetHtmlLabel: function(options, attributes) { return _getHtmlContainer(\"label\", options, attributes); },\n\tgetHtmlInput: function(attributes) {\n\t\treturn \"<input\" + _getHtmlAttributes(attributes || []) + \">\";\n\t}\n};\n\nfunction _getHtmlContainer(tag, options, attributes) {\n\tvar html;\n\n\toptions = options || [];\n\t\n\thtml = \"<\" + tag + _getHtmlAttributes(attributes || []) + \">\" + (options.innerHTML || \"\") + \"</\" + tag +\">\";\n\treturn html;\n\n}\n\nfunction _getHtmlAttributes(attributes) {\n\tvar html = \"\";\n\n\thelpers.forEach(attributes, function(entry) {\n\t\thtml += \" \" + entry.key + \"='\" + entry.value + \"'\";\n\t});\n\treturn html;\n}\n\nmodule.exports = htmlHelpers;","var utils = require(\"../../utils/utils\");\nvar helpers = require(\"../../utils/helpers\");\n\n\nfunction IsWorkTimeArgument(date, unit, task, id, calendar){\n\tthis.date = date;\n\tthis.unit = unit;\n\tthis.task = task;\n\tthis.id = id;\n\tthis.calendar = calendar;\n\treturn this;\n}\n\nfunction ClosestWorkTimeArgument(date, dir, unit, task, id, calendar){\n\tthis.date = date;\n\tthis.dir = dir;\n\tthis.unit = unit;\n\tthis.task = task;\n\tthis.id = id;\n\tthis.calendar = calendar;\n\treturn this;\n}\n\nfunction CalculateEndDateArgument(start_date, duration, unit, step, task, id, calendar){\n\tthis.start_date = start_date;\n\tthis.duration = duration;\n\tthis.unit = unit;\n\tthis.step = step;\n\tthis.task = task;\n\tthis.id = id;\n\tthis.calendar = calendar;\n\treturn this;\n}\n\nfunction GetDurationArgument(start, end, task, calendar) {\n\tthis.start_date = start;\n\tthis.end_date = end;\n\tthis.task = task;\n\tthis.calendar = calendar;\n\tthis.unit = null;\n\tthis.step = null;\n\treturn this;\n}\n\nvar calendarArgumentsHelper = function(gantt){\n\treturn {\n\t\tgetWorkHoursArguments: function () {\n\t\t\tvar config = arguments[0];\n\t\t\tif (helpers.isDate(config)) {\n\t\t\t\tconfig = {\n\t\t\t\t\tdate: config\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconfig = utils.mixin({}, config);\n\t\t\t}\n\t\t\treturn config;\n\t\t},\n\t\tsetWorkTimeArguments: function () {\n\t\t\treturn arguments[0];\n\t\t},\n\t\tunsetWorkTimeArguments: function () {\n\t\t\treturn arguments[0];\n\t\t},\n\t\tisWorkTimeArguments: function () {\n\t\t\tvar config = arguments[0];\n\t\t\tif(config instanceof IsWorkTimeArgument){\n\t\t\t\treturn config;\n\t\t\t}\n\n\t\t\tvar processedConfig;\n\t\t\tif (!config.date) {\n\t\t\t\t//IsWorkTimeArgument(date, unit, task, id, calendar)\n\t\t\t\tprocessedConfig = new IsWorkTimeArgument(arguments[0], arguments[1], arguments[2], null, arguments[3]);\n\t\t\t} else {\n\t\t\t\tprocessedConfig = new IsWorkTimeArgument(config.date, config.unit, config.task, null, config.calendar);\n\t\t\t}\n\n\t\t\tprocessedConfig.unit = processedConfig.unit || gantt.config.duration_unit;\n\n\t\t\treturn processedConfig;\n\t\t},\n\t\tgetClosestWorkTimeArguments: function (arg) {\n\t\t\tvar config = arguments[0];\n\t\t\tif (config instanceof ClosestWorkTimeArgument)\n\t\t\t\treturn config;\n\n\t\t\tvar processedConfig;\n\t\t\tif (helpers.isDate(config)) {\n\t\t\t\tprocessedConfig = new ClosestWorkTimeArgument(config);\n\n\t\t\t} else {\n\t\t\t\tprocessedConfig = new ClosestWorkTimeArgument(\n\t\t\t\t\tconfig.date,\n\t\t\t\t\tconfig.dir,\n\t\t\t\t\tconfig.unit,\n\t\t\t\t\tconfig.task,\n\t\t\t\t\tnull,//config.id,\n\t\t\t\t\tconfig.calendar\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif(config.id){\n\t\t\t\tprocessedConfig.task = config;\n\t\t\t}\n\t\t\tprocessedConfig.dir = config.dir || 'any';\n\t\t\tprocessedConfig.unit = config.unit || gantt.config.duration_unit;\n\n\t\t\treturn processedConfig;\n\t\t},\n\n\t\t_getStartEndConfig: function (param) {\n\t\t\tvar argumentType = GetDurationArgument;\n\t\t\tvar config;\n\t\t\tif (param instanceof argumentType)\n\t\t\t\treturn param;\n\n\t\t\tif (helpers.isDate(param)) {\n\t\t\t\tconfig = new argumentType(arguments[0], arguments[1], arguments[2], arguments[3]);\n\t\t\t} else {\n\t\t\t\tconfig = new argumentType(param.start_date, param.end_date, param.task);\n\t\t\t\tif (param.id) {\n\t\t\t\t\tconfig.task = param;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconfig.unit = config.unit || gantt.config.duration_unit;\n\t\t\tconfig.step = config.step || gantt.config.duration_step;\n\t\t\tconfig.start_date = config.start_date || config.start || config.date;\n\n\t\t\treturn config;\n\t\t},\n\n\t\tgetDurationArguments: function (start, end, unit, step) {\n\t\t\treturn this._getStartEndConfig.apply(this, arguments);\n\t\t},\n\n\t\thasDurationArguments: function (start, end, unit, step) {\n\t\t\treturn this._getStartEndConfig.apply(this, arguments);\n\t\t},\n\n\t\tcalculateEndDateArguments: function (start, duration, unit, step) {\n\t\t\tvar config = arguments[0];\n\t\t\tif (config instanceof CalculateEndDateArgument)\n\t\t\t\treturn config;\n\n\t\t\tvar processedConfig;\n\t\t\t//CalculateEndDateArgument(start_date, duration, unit, step, task, id, calendar)\n\t\t\tif (helpers.isDate(config)) {\n\t\t\t\tprocessedConfig = new CalculateEndDateArgument(\n\t\t\t\t\targuments[0],\n\t\t\t\t\targuments[1],\n\t\t\t\t\targuments[2],\n\t\t\t\t\tundefined,\n\t\t\t\t\targuments[3],\n\t\t\t\t\tundefined,\n\t\t\t\t\targuments[4]\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\tprocessedConfig = new CalculateEndDateArgument(\n\t\t\t\t\tconfig.start_date,\n\t\t\t\t\tconfig.duration,\n\t\t\t\t\tconfig.unit,\n\t\t\t\t\tconfig.step,\n\t\t\t\t\tconfig.task,\n\t\t\t\t\tnull,//config.id,\n\t\t\t\t\tconfig.calendar\n\t\t\t\t);\n\t\t\t}\n\t\t\tif(config.id){\n\t\t\t\tprocessedConfig.task = config;\n\t\t\t}\n\n\t\t\tprocessedConfig.unit = processedConfig.unit || gantt.config.duration_unit;\n\t\t\tprocessedConfig.step = processedConfig.step || gantt.config.duration_step;\n\n\t\t\treturn processedConfig;\n\t\t}\n\t};\n};\n\n\nmodule.exports = calendarArgumentsHelper;","function copyLinkIdsArray(gantt, linkIds, targetHash){\n\tfor(var i = 0; i < linkIds.length; i++) {\n\t\tif(gantt.isLinkExists(linkIds[i])){\n\t\t\ttargetHash[linkIds[i]] = gantt.getLink(linkIds[i]);\n\t\t}\n\t}\n}\n\nfunction copyLinkIds(gantt, task, targetHash){\n\tcopyLinkIdsArray(gantt, task.$source, targetHash);\n\tcopyLinkIdsArray(gantt, task.$target, targetHash);\n}\n\nfunction getSubtreeLinks(gantt, rootId){\n\tvar res = {};\n\n\tif(gantt.isTaskExists(rootId)){\n\t\tcopyLinkIds(gantt, gantt.getTask(rootId), res);\n\t}\n\n\tgantt.eachTask(function(child){\n\t\tcopyLinkIds(gantt, child, res);\n\t}, rootId);\n\n\treturn res;\n}\n\nfunction getSubtreeTasks(gantt, rootId){\n\tvar res = {};\n\n\tgantt.eachTask(function(child){\n\t\tres[child.id] = child;\n\t}, rootId);\n\n\treturn res;\n}\n\nmodule.exports = {\n\tgetSubtreeLinks: getSubtreeLinks,\n\tgetSubtreeTasks: getSubtreeTasks\n};","var ScaleHelper = require(\"./ui/timeline/scales_ignore\");\nvar PrimaryScaleHelper = require(\"./ui/timeline/scales\");\n\n\nfunction dateRangeResolver(gantt){\n\t//reset project timing\n\t//_get_tasks_data(gantt);\n\treturn gantt.getSubtaskDates();\n}\n\nfunction defaultRangeResolver(){\n\treturn {\n\t\tstart_date: new Date(),\n\t\tend_date: new Date()\n\t};\n}\n\nfunction resolveConfigRange(unit, gantt){\n\tvar range = {\n\t\tstart_date:null,\n\t\tend_date:null\n\t};\n\n\tif (gantt.config.start_date && gantt.config.end_date) {\n\t\trange.start_date = gantt.date[unit + \"_start\"](new Date(gantt.config.start_date));\n\n\t\tvar end = new Date(gantt.config.end_date);\n\t\tvar start_interval = gantt.date[unit + \"_start\"](new Date(end));\n\t\tif (+end != +start_interval) {\n\t\t\tend = gantt.date.add(start_interval, 1, unit);\n\t\t} else {\n\t\t\tend = start_interval;\n\t\t}\n\n\t\trange.end_date = end;\n\t}\n\treturn range;\n}\n\nfunction _scale_range_unit(gantt) {\n\tvar primaryScale = (new PrimaryScaleHelper(gantt)).primaryScale();\n\tvar unit = primaryScale.unit;\n\tvar step = primaryScale.step;\n\tif (gantt.config.scale_offset_minimal) {\n\n\t\tvar helper = new ScaleHelper(gantt);\n\t\tvar scales = [helper.primaryScale()].concat(helper.getSubScales());\n\n\t\thelper.sortScales(scales);\n\t\tunit = scales[scales.length - 1].unit;\n\t\tstep = scales[scales.length - 1].step || 1;\n\t}\n\treturn { unit:unit, step:step };\n}\n\nfunction _init_tasks_range(gantt) {\n\tvar cfg = _scale_range_unit(gantt);\n\tvar unit = cfg.unit,\n\t\tstep = cfg.step;\n\tvar range = resolveConfigRange(unit, gantt);\n\n\tif(!(range.start_date && range.end_date)){\n\t\trange = dateRangeResolver(gantt);\n\t\tif(!range.start_date || !range.end_date){\n\t\t\trange = defaultRangeResolver(gantt);\n\t\t}\n\n\t\trange.start_date = gantt.date[unit + \"_start\"](range.start_date);\n\t\trange.start_date = gantt.calculateEndDate({\n\t\t\tstart_date: gantt.date[unit + \"_start\"](range.start_date),\n\t\t\tduration: -1,\n\t\t\tunit: unit,\n\t\t\tstep:step\n\t\t});//one free column before first task\n\n\t\trange.end_date = gantt.date[unit + \"_start\"](range.end_date);\n\t\trange.end_date = gantt.calculateEndDate({start_date: range.end_date, duration: 2, unit: unit, step:step});//one free column after last task\n\t}\n\n\tgantt._min_date = range.start_date;\n\tgantt._max_date = range.end_date;\n}\n\nfunction _adjust_scales(gantt) {\n\tif (gantt.config.fit_tasks) {\n\t\tvar old_min = +gantt._min_date,\n\t\t\told_max = +gantt._max_date;\n\t\t//this._init_tasks_range();\n\t\tif (+gantt._min_date != old_min || +gantt._max_date != old_max) {\n\t\t\tgantt.render();\n\n\t\t\tgantt.callEvent(\"onScaleAdjusted\", []);\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nmodule.exports = function updateTasksRange(gantt){\n\t_init_tasks_range(gantt);\n\t_adjust_scales(gantt);\n};\n","var utils = require(\"../../utils/utils\");\n\nvar $powerArray  = {\n\t$create: function(array){\n\t\treturn utils.mixin(array || [], this);\n\t},\n\t//remove element at specified position\n\t$removeAt:function(pos,len){\n\t\tif (pos>=0) this.splice(pos,(len||1));\n\t},\n\t//find element in collection and remove it\n\t$remove:function(value){\n\t\tthis.$removeAt(this.$find(value));\n\t},\n\t//add element to collection at specific position\n\t$insertAt:function(data,pos){\n\t\tif (!pos && pos!==0) \t//add to the end by default\n\t\t\tthis.push(data);\n\t\telse {\n\t\t\tvar b = this.splice(pos,(this.length-pos));\n\t\t\tthis[pos] = data;\n\t\t\tthis.push.apply(this,b); //reconstruct array without loosing this pointer\n\t\t}\n\t},\n\t//return index of element, -1 if it doesn't exists\n\t$find:function(data){\n\t\tfor (var i=0; i<this.length; i++)\n\t\t\tif (data==this[i]) return i;\n\t\treturn -1;\n\t},\n\t//execute some method for each element of array\n\t$each:function(functor,master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tfunctor.call((master||this),this[i]);\n\t},\n\t//create new array from source, by using results of functor\n\t$map:function(functor,master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tthis[i]=functor.call((master||this),this[i]);\n\t\treturn this;\n\t},\n\t$filter:function(functor, master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tif (!functor.call((master||this),this[i])){\n\t\t\t\tthis.splice(i,1);\n\t\t\t\ti--;\n\t\t\t}\n\t\treturn this;\n\t}\n};\n\nmodule.exports = $powerArray;","var powerArray = require(\"./power_array\");\nvar utils = require(\"../../utils/utils\");\nvar eventable = require(\"../../utils/eventable\");\n\nvar DataStore = function(config){\n\tthis.pull = {};\n\tthis.$initItem = config.initItem;\n\tthis.visibleOrder = powerArray.$create();\n\tthis.fullOrder = powerArray.$create();\n\tthis._skip_refresh = false;\n\tthis._filterRule = null;\n\tthis._searchVisibleOrder = {};\n\tthis.$config = config;\n\teventable(this);\n\treturn this;\n};\nDataStore.prototype = {\n\n\t_parseInner: function(data){\n\t\tvar item = null,\n\t\t\tloaded = [];\n\t\tfor(var i = 0, len = data.length; i< len; i++){\n\t\t\titem = data[i];\n\t\t\tif(this.$initItem){\n\t\t\t\titem = this.$initItem(item);\n\t\t\t}\n\t\t\tif(this.callEvent(\"onItemLoading\", [item])){\n\t\t\t\tif (!this.pull.hasOwnProperty(item.id)) {\n\t\t\t\t\tthis.fullOrder.push(item.id);\n\t\t\t\t\tloaded.push(item);\n\t\t\t\t}\n\t\t\t\tthis.pull[item.id] = item;\n\t\t\t}\n\t\t}\n\t\treturn loaded;\n\t},\n\tparse: function(data){\n\t\tthis.callEvent(\"onBeforeParse\", [data]);\n\t\tvar loaded = this._parseInner(data);\n\t\tthis.refresh();\n\t\tthis.callEvent(\"onParse\", [loaded]);\n\t},\n\tgetItem: function(id){\n\t\treturn this.pull[id];\n\t},\n\n\t_updateOrder: function(code){\n\t\tcode.call(this.visibleOrder);\n\t\tcode.call(this.fullOrder);\n\t},\n\tupdateItem: function(id, item){\n\t\tif (!utils.defined(item)) item = this.getItem(id);\n\n\t\tif (!this._skip_refresh) {\n\t\t\tif (this.callEvent(\"onBeforeUpdate\", [item.id, item]) === false) return false;\n\t\t}\n\t\tthis.pull[id]=item;\n\t\tif (!this._skip_refresh) {\n\t\t\tthis.callEvent(\"onAfterUpdate\", [item.id, item]);\n\t\t\tthis.callEvent(\"onStoreUpdated\", [item.id, item, \"update\"]);\n\t\t}\n\t},\n\n\t_removeItemInner: function(id){\n\t\t//clear from collections\n\t\t//this.visibleOrder.$remove(id);\n\t\tthis._updateOrder(function(){ this.$remove(id);});\n\t\tdelete this.pull[id];\n\t},\n\n\tremoveItem: function(id){\n\t\t//utils.assert(this.exists(id), \"Not existing ID in remove command\"+id);\n\n\t\tvar obj = this.getItem(id);\t//save for later event\n\t\tif (!this._skip_refresh) {\n\t\t\tif (this.callEvent(\"onBeforeDelete\", [obj.id, obj]) === false) return false;\n\t\t}\n\n\t\tthis._removeItemInner(id);\n\n\t\tif (!this._skip_refresh) {\n\t\t\tthis.filter();\n\t\t\tthis.callEvent(\"onAfterDelete\", [obj.id, obj]);\n\t\t\t//repaint signal\n\t\t\tthis.callEvent(\"onStoreUpdated\", [obj.id, obj, \"delete\"]);\n\t\t}\n\t},\n\n\t_addItemInner: function(item, index){\n\t\t//in case of treetable order is sent as 3rd parameter\n\t\t//var order = index;\n\n\t\tif(this.exists(item.id)){\n\t\t\tthis.silent(function(){this.updateItem(item.id, item);});\n\t\t}else{\n\t\t\tvar order = this.visibleOrder;\n\n\t\t\t//by default item is added to the end of the list\n\t\t\tvar data_size = order.length;\n\n\t\t\tif (!utils.defined(index) || index < 0)\n\t\t\t\tindex = data_size;\n\t\t\t//check to prevent too big indexes\n\t\t\tif (index > data_size){\n\t\t\t\t//dhx.log(\"Warning\",\"DataStore:add\",\"Index of out of bounds\");\n\t\t\t\tindex = Math.min(order.length,index);\n\t\t\t}\n\t\t}\n\n\n\t\t//gantt.assert(!this.exists(id), \"Not unique ID\");\n\n\t\tthis.pull[item.id]=item;\n\t\tif (!this._skip_refresh){\n\t\t\tthis._updateOrder(function(){\n\t\t\t\tif(this.$find(item.id) === -1)\n\t\t\t\t\tthis.$insertAt(item.id,index);\n\t\t\t});\n\t\t}\n\t\tthis.filter();\n\t\t//order.$insertAt(item.id,index);\n\t},\n\n\n\tisVisible: function(id){\n\t\treturn this.visibleOrder.$find(id) > -1;\n\t},\n\tgetVisibleItems: function(){\n\t\treturn this.getIndexRange();\n\t},\n\n\taddItem: function(item, index){\n\t\tif (!utils.defined(item.id))\n\t\t\titem.id = utils.uid();\n\n\t\tif(this.$initItem){\n\t\t\titem = this.$initItem(item);\n\t\t}\n\n\t\tif (!this._skip_refresh){\n\t\t\tif (this.callEvent(\"onBeforeAdd\", [item.id, item]) === false) return false;\n\t\t}\n\n\n\t\tthis._addItemInner(item, index);\n\n\t\tif (!this._skip_refresh){\n\t\t\tthis.callEvent(\"onAfterAdd\",[item.id, item]);\n\t\t\t//repaint signal\n\t\t\tthis.callEvent(\"onStoreUpdated\",[item.id,item,\"add\"]);\n\t\t}\n\t\treturn item.id;\n\t},\n\n\t_changeIdInner: function(oldId, newId){\n\t\tif(this.pull[oldId])\n\t\t\tthis.pull[newId] = this.pull[oldId];\n\n\t\tvar visibleOrder = this._searchVisibleOrder[oldId];\n\t\tthis.pull[newId].id = newId;\n\t\tthis._updateOrder(function(){\n\t\t\tthis[this.$find(oldId)] = newId;\n\t\t});\n\t\tthis._searchVisibleOrder[newId] = visibleOrder;\n\t\tdelete this._searchVisibleOrder[oldId];\n\n\t\t//this.visibleOrder[this.visibleOrder.$find(oldId)]=newId;\n\t\tdelete this.pull[oldId];\n\t},\n\tchangeId: function(oldId, newId){\n\t\tthis._changeIdInner(oldId, newId);\n\n\t\tthis.callEvent(\"onIdChange\", [oldId, newId]);\n\n\t},\n\texists: function(id){\n\t\treturn !!(this.pull[id]);\n\t},\n\n\t_moveInner: function(sindex, tindex){\n\t\tvar id = this.getIdByIndex(sindex);\n\n\t\tthis._updateOrder(function(){\n\t\t\tthis.$removeAt(sindex);\n\t\t\tthis.$insertAt(id,Math.min(this.length, tindex));\n\t\t});\n\t\t//this.visibleOrder.$removeAt(sindex);\t//remove at old position\n\t\t//if (sindex<tindex) tindex--;\t//correct shift, caused by element removing\n\t\t//this.visibleOrder.$insertAt(id,Math.min(this.visibleOrder.length, tindex));\t//insert at new position\n\t},\n\n\tmove: function(sindex, tindex){\n\t\t//gantt.assert(sindex>=0 && tindex>=0, \"DataStore::move\",\"Incorrect indexes\");\n\n\t\tvar id = this.getIdByIndex(sindex);\n\t\tvar obj = this.getItem(id);\n\t\tthis._moveInner(sindex, tindex);\n\n\n\t\tif (!this._skip_refresh) {\n\t\t\t//repaint signal\n\t\t\tthis.callEvent(\"onStoreUpdated\", [obj.id, obj, \"move\"]);\n\t\t}\n\t},\n\tclearAll: function(){\n\t\tthis.pull = {};\n\t\tthis.visibleOrder = powerArray.$create();\n\t\tthis.fullOrder = powerArray.$create();\n\t\tif (this._skip_refresh) return;\n\t\tthis.callEvent(\"onClearAll\",[]);\n\t\tthis.refresh();\n\t},\n\n\tsilent:function(code, master){\n\t\tthis._skip_refresh = true;\n\t\tcode.call(master||this);\n\t\tthis._skip_refresh = false;\n\t},\n\n\tarraysEqual: function (arr1, arr2) {\n\t\tif(arr1.length !== arr2.length)\n\t\t\treturn false;\n\t\tfor(var i = 0; i < arr1.length; i++) {\n\t\t\tif(arr1[i] !== arr2[i])\n\t\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\trefresh: function(id, quick){\n\t\tif (this._skip_refresh) return;\n\n\t\tvar args;\n\t\tif (id){\n\t\t\targs = [id, this.pull[id], \"paint\"];\n\t\t}else{\n\t\t\targs = [null,null,null];\n\t\t}\n\n\t\tif(this.callEvent(\"onBeforeStoreUpdate\", args) === false){\n\t\t\treturn;\n\t\t}\n\n\t\tif(id){\n\t\t\t// if item changes visible order (e.g. expand-collapse branch) - do a complete repaint\n\t\t\tif(!quick){\n\t\t\t\tvar oldOrder = this.visibleOrder;\n\t\t\t\tthis.filter();\n\t\t\t\tif(!this.arraysEqual(oldOrder, this.visibleOrder)){\n\t\t\t\t\tid = undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}else{\n\t\t\tthis.filter();\n\t\t}\n\n\t\tif (id){\n\t\t\targs = [id, this.pull[id], \"paint\"];\n\t\t}else{\n\t\t\targs = [null,null,null];\n\t\t}\n\n\t\tthis.callEvent(\"onStoreUpdated\",args);\n\t},\n\n\tcount: function(){\n\t\treturn this.fullOrder.length;\n\t},\n\tcountVisible: function(){\n\t\treturn this.visibleOrder.length;\n\t},\n\n\tsort: function(sort){},\n\n\tserialize: function(){},\n\n\teachItem: function(code){\n\t\tfor (var i=0; i<this.fullOrder.length; i++) {\n\t\t\tvar item = this.pull[this.fullOrder[i]];\n\t\t\tcode.call(this, item);\n\t\t}\n\t},\n\t\n\tfilter: function(rule){\n\t\tthis.callEvent(\"onBeforeFilter\", []);\n\t\tvar filteredOrder = powerArray.$create();\n\t\tthis.eachItem(function(item){\n\t\t\tif(this.callEvent(\"onFilterItem\", [item.id, item])){\n\t\t\t\tfilteredOrder.push(item.id);\n\t\t\t}\n\t\t});\n\n\t\tthis.visibleOrder = filteredOrder;\n\t\tthis._searchVisibleOrder = {};\n\t\tfor(var i = 0; i < this.visibleOrder.length; i++){\n\t\t\tthis._searchVisibleOrder[this.visibleOrder[i]] = i;\n\t\t}\n\t\tthis.callEvent(\"onFilter\", []);\n\t},\n\n\tgetIndexRange: function(from, to){\n\t\tto=Math.min((to||Infinity),this.countVisible()-1);\n\n\t\tvar ret= [];\n\t\tfor (var i=(from||0); i <= to; i++)\n\t\t\tret.push(this.getItem(this.visibleOrder[i]));\n\t\treturn ret;\n\t},\n\tgetItems: function(){\n\t\tvar res = [];\n\t\tfor(var i in this.pull){\n\t\t\tres.push(this.pull[i]);\n\t\t}\n\t/*\tfor(var i = 0; i < this.fullOrder.length; i++){\n\n\t\t}*/\n\t\treturn res;\n\t},\n\n\tgetIdByIndex: function(index){\n\t\treturn this.visibleOrder[index];\n\t},\n\tgetIndexById: function(id){\n\t\tvar res = this._searchVisibleOrder[id];\n\t\tif(res === undefined){\n\t\t\tres = -1;\n\t\t}\n\t\treturn res;\n\t},\n\t_getNullIfUndefined: function(value){\n\t\tif(value === undefined){\n\t\t\treturn null;\n\t\t}else{\n\t\t\treturn value;\n\t\t}\n\t},\n\tgetFirst: function(){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[0]);\n\t},\n\tgetLast: function(){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1]);\n\t},\n\tgetNext: function(id){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[this.getIndexById(id) + 1]);\n\t},\n\tgetPrev: function(id){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[this.getIndexById(id) - 1]);\n\t},\n\tdestructor: function(){\n\t\tthis.detachAllEvents();\n\t\tthis.pull = null;\n\t\tthis.$initItem = null;\n\t\tthis.visibleOrder = null;\n\t\tthis.fullOrder = null;\n\t\tthis._skip_refresh = null;\n\t\tthis._filterRule = null;\n\t\tthis._searchVisibleOrder = null;\n\t}\n};\n\nmodule.exports = DataStore;","function createTaskRenderer(gantt){\n\n\tfunction _render_task_element(task, view) {\n\t\tvar config = view.$getConfig();\n\t\tvar painters = config.type_renderers;\n\t\tvar renderer = painters[gantt.getTaskType(task.type)],\n\t\t\tdefaultRenderer = _task_default_render;\n\n\t\tif (!renderer) {\n\t\t\treturn defaultRenderer.call(gantt, task, view);\n\t\t}else{\n\t\t\treturn renderer.call(gantt, task, function(task){ return defaultRenderer.call(gantt, task, view);}, view);\n\t\t}\n\t}\n\n\tfunction _task_default_render(task, view) {\n\t\tif (gantt._isAllowedUnscheduledTask(task))\n\t\t\treturn;\n\n\n\t\tvar pos = view.getItemPosition(task);\n\n\t\tvar cfg = view.$getConfig(),\n\t\t\ttemplates = view.$getTemplates();\n\t\tvar height = view.getItemHeight();\n\n\t\tvar taskType = gantt.getTaskType(task.type);\n\n\t\tvar padd = Math.floor((gantt.config.row_height - height) / 2);\n\t\tif (taskType == cfg.types.milestone && cfg.link_line_width > 1) {\n\t\t\t//little adjust milestone position, so horisontal corners would match link arrow when thickness of link line is more than 1px\n\t\t\tpadd += 1;\n\t\t}\n\n\t\tif (taskType == cfg.types.milestone){\n\t\t\tpos.left -= Math.round(height / 2);\n\t\t\tpos.width = height;\n\t\t}\n\n\t\tvar div = document.createElement(\"div\");\n\n\t\tvar width = Math.round(pos.width);\n\n\t\tif(view.$config.item_attribute){\n\t\t\tdiv.setAttribute(view.$config.item_attribute, task.id);\n\t\t}\n\n\t\tif (cfg.show_progress && taskType != cfg.types.milestone) {\n\t\t\t_render_task_progress(task, div, width, cfg, templates);\n\t\t}\n\n\t\t//use separate div to display content above progress bar\n\t\tvar content = _render_task_content(task, width, templates);\n\t\tif (task.textColor) {\n\t\t\tcontent.style.color = task.textColor;\n\t\t}\n\t\tdiv.appendChild(content);\n\n\t\tvar css = _combine_item_class(\"gantt_task_line\",\n\t\t\ttemplates.task_class(task.start_date, task.end_date, task),\n\t\t\ttask.id,\n\t\t\tview);\n\t\tif (task.color || task.progressColor || task.textColor) {\n\t\t\tcss += \" gantt_task_inline_color\";\n\t\t}\n\t\tdiv.className = css;\n\n\t\tvar styles = [\n\t\t\t\"left:\" + pos.left + \"px\",\n\t\t\t\"top:\" + (padd + pos.top) + 'px',\n\t\t\t\"height:\" + height + 'px',\n\t\t\t\"line-height:\" + (Math.max(height < 30 ? height - 2 : height, 0)) + 'px',\n\t\t\t\"width:\" + width + 'px'\n\t\t];\n\t\tif (task.color) {\n\t\t\tstyles.push(\"background-color:\" + task.color);\n\t\t}\n\t\tif (task.textColor) {\n\t\t\tstyles.push(\"color:\" + task.textColor);\n\t\t}\n\n\t\tdiv.style.cssText = styles.join(\";\");\n\t\tvar side = _render_leftside_content(task, cfg, templates);\n\t\tif (side) div.appendChild(side);\n\n\t\tside = _render_rightside_content(task, cfg, templates);\n\t\tif (side) div.appendChild(side);\n\n\t\tgantt._waiAria.setTaskBarAttr(task, div);\n\n\t\tvar state = gantt.getState();\n\n\t\tif (!gantt.isReadonly(task)) {\n\t\t\tif (cfg.drag_resize && !gantt.isSummaryTask(task) && taskType != cfg.types.milestone) {\n\t\t\t\t_render_pair(div, \"gantt_task_drag\", task, function (css) {\n\t\t\t\t\tvar el = document.createElement(\"div\");\n\t\t\t\t\tel.className = css;\n\t\t\t\t\treturn el;\n\t\t\t\t}, cfg);\n\t\t\t}\n\t\t\tif (cfg.drag_links && cfg.show_links) {\n\t\t\t\t_render_pair(div, \"gantt_link_control\", task, function (css) {\n\t\t\t\t\tvar outer = document.createElement(\"div\");\n\t\t\t\t\touter.className = css;\n\t\t\t\t\touter.style.cssText = [\n\t\t\t\t\t\t\"height:\" + height + 'px',\n\t\t\t\t\t\t\"line-height:\" + height + 'px'\n\t\t\t\t\t].join(\";\");\n\t\t\t\t\tvar inner = document.createElement(\"div\");\n\t\t\t\t\tinner.className = \"gantt_link_point\";\n\n\t\t\t\t\tvar showLinkPoints = false;\n\t\t\t\t\tif(state.link_source_id && cfg.touch){\n\t\t\t\t\t\tshowLinkPoints = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tinner.style.display = showLinkPoints ? \"block\" : \"\";\n\t\t\t\t\touter.appendChild(inner);\n\t\t\t\t\treturn outer;\n\t\t\t\t}, cfg);\n\t\t\t}\n\t\t}\n\t\treturn div;\n\t}\n\n\tfunction _render_side_content(task, template, cssClass) {\n\t\tif (!template) return null;\n\n\t\tvar text = template(task.start_date, task.end_date, task);\n\t\tif (!text) return null;\n\t\tvar content = document.createElement(\"div\");\n\t\tcontent.className = \"gantt_side_content \" + cssClass;\n\t\tcontent.innerHTML = text;\n\t\treturn content;\n\t}\n\n\tfunction _render_leftside_content(task, cfg, templates) {\n\t\tvar css = \"gantt_left \" + _get_link_crossing_css(!cfg.rtl ? true : false, task, cfg);\n\t\treturn _render_side_content(task, templates.leftside_text, css);\n\t}\n\n\tfunction _render_rightside_content(task, cfg, templates) {\n\t\tvar css = \"gantt_right \" + _get_link_crossing_css(!cfg.rtl ? false : true, task, cfg);\n\t\treturn _render_side_content(task, templates.rightside_text, css);\n\t}\n\n\tfunction _get_link_crossing_css(left, task) {\n\t\tvar cond = _get_conditions(left);\n\n\t\tfor (var i in cond) {\n\t\t\tvar links = task[i];\n\t\t\tfor (var ln = 0; ln < links.length; ln++) {\n\t\t\t\tvar link = gantt.getLink(links[ln]);\n\n\t\t\t\tfor (var tp = 0; tp < cond[i].length; tp++) {\n\t\t\t\t\tif (link.type == cond[i][tp]) {\n\t\t\t\t\t\treturn \"gantt_link_crossing\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t}\n\n\n\tfunction _render_task_content(task, width, templates) {\n\t\tvar content = document.createElement(\"div\");\n\t\tif (gantt.getTaskType(task.type) != gantt.config.types.milestone)\n\t\t\tcontent.innerHTML = templates.task_text(task.start_date, task.end_date, task);\n\t\tcontent.className = \"gantt_task_content\";\n\t\t//content.style.width = width + 'px';\n\t\treturn content;\n\t}\n\n\tfunction _render_task_progress(task, element, maxWidth, cfg, templates) {\n\t\tvar done = task.progress * 1 || 0;\n\n\t\tmaxWidth = Math.max(maxWidth - 2, 0);//2px for borders\n\t\tvar pr = document.createElement(\"div\");\n\t\tvar width = Math.round(maxWidth * done);\n\n\t\twidth = Math.min(maxWidth, width);\n\t\tif (task.progressColor) {\n\t\t\tpr.style.backgroundColor = task.progressColor;\n\t\t\tpr.style.opacity = 1;\n\t\t}\n\t\tpr.style.width = width + 'px';\n\t\tpr.className = \"gantt_task_progress\";\n\t\tpr.innerHTML = templates.progress_text(task.start_date, task.end_date, task);\n\n\t\tif(cfg.rtl){\n\t\t\tpr.style.position = \"absolute\";\n\t\t\tpr.style.right = \"0px\";\n\t\t}\n\n\t\tvar wrapper = document.createElement(\"div\");\n\t\twrapper.className = \"gantt_task_progress_wrapper\";\n\t\twrapper.appendChild(pr);\n\t\telement.appendChild(wrapper);\n\n\t\tif (gantt.config.drag_progress && !gantt.isReadonly(task)) {\n\t\t\tvar drag = document.createElement(\"div\");\n\n\t\t\tvar markerPos = width;\n\t\t\tif(cfg.rtl){\n\t\t\t\tmarkerPos = maxWidth - width;\n\t\t\t}\n\n\t\t\tdrag.style.left = markerPos + 'px';\n\t\t\tdrag.className = \"gantt_task_progress_drag\";\n\t\t\tpr.appendChild(drag);\n\t\t\telement.appendChild(drag);\n\t\t}\n\t}\n\n\tfunction _get_conditions(leftside) {\n\t\tif (leftside) {\n\t\t\treturn {\n\t\t\t\t$source: [\n\t\t\t\t\tgantt.config.links.start_to_start\n\t\t\t\t],\n\t\t\t\t$target: [\n\t\t\t\t\tgantt.config.links.start_to_start,\n\t\t\t\t\tgantt.config.links.finish_to_start\n\t\t\t\t]\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\t$source: [\n\t\t\t\t\tgantt.config.links.finish_to_start,\n\t\t\t\t\tgantt.config.links.finish_to_finish\n\t\t\t\t],\n\t\t\t\t$target: [\n\t\t\t\t\tgantt.config.links.finish_to_finish\n\t\t\t\t]\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction _combine_item_class(basic, template, itemId, view) {\n\t\tvar cfg = view.$getConfig();\n\t\tvar css = [basic];\n\t\tif (template)\n\t\t\tcss.push(template);\n\n\t\tvar state = gantt.getState();\n\n\t\tvar task = gantt.getTask(itemId);\n\n\t\tif (gantt.getTaskType(task.type) == cfg.types.milestone) {\n\t\t\tcss.push(\"gantt_milestone\");\n\t\t}else if (gantt.getTaskType(task.type) == cfg.types.project) {\n\t\t\tcss.push(\"gantt_project\");\n\t\t}\n\n\t\tcss.push(\"gantt_bar_\" + gantt.getTaskType(task.type));\n\n\n\t\tif (gantt.isSummaryTask(task))\n\t\t\tcss.push(\"gantt_dependent_task\");\n\n\t\tif (gantt.isSplitTask(task) && ((cfg.open_split_tasks && !task.$open) || !cfg.open_split_tasks)) {\n\t\t\tcss.push(\"gantt_split_parent\");\n\t\t}\n\n\t\tif (cfg.select_task && gantt.isSelectedTask(itemId)) {\n\t\t\tcss.push(\"gantt_selected\");\n\t\t}\n\n\t\tif (itemId == state.drag_id) {\n\t\t\tcss.push(\"gantt_drag_\" + state.drag_mode);\n\t\t\tif (state.touch_drag) {\n\t\t\t\tcss.push(\"gantt_touch_\" + state.drag_mode);\n\t\t\t}\n\t\t}\n\n\t\tif (state.link_source_id == itemId)\n\t\t\tcss.push(\"gantt_link_source\");\n\n\t\tif (state.link_target_id == itemId)\n\t\t\tcss.push(\"gantt_link_target\");\n\n\n\t\tif (cfg.highlight_critical_path && gantt.isCriticalTask) {\n\t\t\tif (gantt.isCriticalTask(task))\n\t\t\t\tcss.push(\"gantt_critical_task\");\n\t\t}\n\n\t\tif (state.link_landing_area &&\n\t\t\t(state.link_target_id && state.link_source_id) &&\n\t\t\t(state.link_target_id != state.link_source_id)) {\n\n\t\t\tvar from_id = state.link_source_id;\n\t\t\tvar from_start = state.link_from_start;\n\t\t\tvar to_start = state.link_to_start;\n\n\t\t\tvar allowDrag = gantt.isLinkAllowed(from_id, itemId, from_start, to_start);\n\n\t\t\tvar dragClass = \"\";\n\t\t\tif (allowDrag) {\n\t\t\t\tif (to_start)\n\t\t\t\t\tdragClass = \"link_start_allow\";\n\t\t\t\telse\n\t\t\t\t\tdragClass = \"link_finish_allow\";\n\t\t\t} else {\n\t\t\t\tif (to_start)\n\t\t\t\t\tdragClass = \"link_start_deny\";\n\t\t\t\telse\n\t\t\t\t\tdragClass = \"link_finish_deny\";\n\t\t\t}\n\t\t\tcss.push(dragClass);\n\t\t}\n\t\treturn css.join(\" \");\n\t}\n\n\tfunction _render_pair(parent, css, task, content, config) {\n\t\tvar state = gantt.getState();\n\t\tvar className, element;\n\t\tif (+task.start_date >= +state.min_date) {\n\t\t\tclassName = [css, config.rtl ? \"task_right\" : \"task_left\", \"task_start_date\"];\n\t\t\telement = content(className.join(\" \"));\n\t\t\telement.setAttribute(\"data-bind-property\", \"start_date\");\n\t\t\tparent.appendChild(element);\n\t\t}\n\n\t\tif (+task.end_date <= +state.max_date){\n\t\t\tclassName = [css, config.rtl ? \"task_left\" : \"task_right\", \"task_end_date\"];\n\t\t\telement = content(className.join(\" \"));\n\t\t\telement.setAttribute(\"data-bind-property\", \"end_date\");\n\t\t\tparent.appendChild(element);\n\t\t}\n\n\t}\n\n\treturn _render_task_element;\n}\n\nmodule.exports = createTaskRenderer;","var isRowInViewPort = require(\"./task_row_checker\");\n\nmodule.exports = function isInViewPort(item, view, viewport){\n\n\tif(!isRowInViewPort(item, view, viewport)){\n\t\treturn false;\n\t}\n\n\tvar left = view.posFromDate(item.start_date);\n\tvar right = view.posFromDate(item.end_date);\n\t\n\tif(left > right){\n\t\t// rtl\n\t\tvar tmp = right;\n\t\tright = left;\n\t\tleft = tmp;\n\t}\n\n\tleft -= 200; // add buffer for custom elements\n\tright += 200;\n\n\tif(viewport.x > right || viewport.x_end < left){\n\t\treturn false;\n\t}\n\t\t\n\treturn true;\n};","var domHelpers = require(\"../../../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\teventable = require(\"../../../utils/eventable\"),\n\tgridResize = require(\"./grid_resize\"),\n\ttopPositionMixin = require(\"../row_position_mixin\");\n\nvar Grid = function (parent, config, factory, gantt) {\n\tthis.$config = utils.mixin({}, config || {});\n\tthis.$gantt = gantt;\n\tthis.$parent = parent;\n\teventable(this);\n\tthis.$state = {};\n\tutils.mixin(this, topPositionMixin());\n};\n\n\nGrid.prototype = {\n\tinit: function (container) {\n\t\tvar gantt = this.$gantt;\n\t\tvar gridAriaAttr = gantt._waiAria.gridAttrString();\n\t\tvar gridDataAriaAttr = gantt._waiAria.gridDataAttrString();\n\n\n\t\tcontainer.innerHTML = \"<div class='gantt_grid' style='height:inherit;width:inherit;' \" + gridAriaAttr + \"></div>\";\n\t\tthis.$grid = container.childNodes[0];\n\n\t\tthis.$grid.innerHTML = \"<div class='gantt_grid_scale' \" +\n\t\t\tgantt._waiAria.gridScaleRowAttrString() + \"></div><div class='gantt_grid_data' \" + gridDataAriaAttr + \"></div>\";\n\n\t\tthis.$grid_scale = this.$grid.childNodes[0];\n\t\tthis.$grid_data = this.$grid.childNodes[1];\n\n\t\tvar attr = this.$getConfig()[this.$config.bind + \"_attribute\"];\n\t\tif (!attr && this.$config.bind) {\n\t\t\tattr = this.$config.bind + \"_id\";\n\t\t}\n\t\tthis.$config.item_attribute = attr || null;\n\n\t\tif (!this.$config.layers) {\n\t\t\tvar layers = this._createLayerConfig();\n\t\t\tthis.$config.layers = layers;\n\t\t}\n\n\t\tvar resizer = gridResize(gantt, this);\n\t\tresizer.init();\n\t\tthis._renderHeaderResizers = resizer.doOnRender;\n\t\tthis._mouseDelegates = require(\"../mouse_event_container\")(gantt);\n\n\t\tthis._addLayers(this.$gantt);\n\t\tthis._initEvents();\n\t\tthis.callEvent(\"onReady\", []);\n\t\t//this.refresh();\n\t},\n\n\t_validateColumnWidth: function (column, property) {\n\t\t// user can set {name:\"text\", width:\"200\",...} for some reason,\n\t\t// check and convert it to number when possible\n\t\tvar value = column[property];\n\t\tif (value && value != \"*\") {\n\t\t\tvar gantt = this.$gantt;\n\t\t\tvar numericWidth = value * 1;\n\t\t\tif (isNaN(numericWidth)) {\n\t\t\t\tgantt.assert(false, \"Wrong \" + property + \" value of column \" + column.name);\n\t\t\t} else {\n\t\t\t\tcolumn[property] = numericWidth;\n\t\t\t}\n\t\t}\n\t},\n\n\tsetSize: function (width, height) {\n\t\tthis.$config.width = this.$state.width = width;\n\t\tthis.$config.height = this.$state.height = height;\n\n\t\t// TODO: maybe inherit and override in a subclass instead of extending here\n\n\t\tvar columns = this.getGridColumns(),\n\t\t\tinnerWidth = 0;\n\n\t\tfor (var i = 0, l = columns.length; i < l; i++) {\n\t\t\tthis._validateColumnWidth(columns[i], \"min_width\");\n\t\t\tthis._validateColumnWidth(columns[i], \"max_width\");\n\t\t\tthis._validateColumnWidth(columns[i], \"width\");\n\n\t\t\tinnerWidth += columns[i].width * 1;\n\t\t}\n\n\t\tvar outerWidth;\n\t\tif (isNaN(innerWidth) || !this.$config.scrollable) {\n\t\t\touterWidth = this._setColumnsWidth(width + 1);\n\t\t\tinnerWidth = outerWidth;\n\t\t}\n\n\t\tif (this.$config.scrollable) {\n\t\t\tthis.$grid_scale.style.width = innerWidth + \"px\";\n\t\t\tthis.$grid_data.style.width = innerWidth + \"px\";\n\t\t} else {\n\t\t\tthis.$grid_scale.style.width = \"inherit\";\n\t\t\tthis.$grid_data.style.width = \"inherit\";\n\t\t}\n\t\tthis.$config.width -= 1;\n\n\t\tvar config = this.$getConfig();\n\t\tif (outerWidth !== width) {\n\t\t\tconfig.grid_width = outerWidth;\n\t\t\tthis.$config.width = outerWidth - 1;\n\t\t}\n\n\t\tvar dataHeight = Math.max(this.$state.height - config.scale_height, 0);\n\t\tthis.$grid_data.style.height = dataHeight + \"px\";\n\t\tthis.refresh();\n\t},\n\tgetSize: function () {\n\n\t\tvar config = this.$getConfig();\n\n\t\tvar store = this.$config.rowStore;\n\n\t\tvar contentHeight = store ? config.row_height * store.countVisible() : 0,\n\t\t\tcontentWidth = this._getGridWidth();\n\n\t\tvar size = {\n\t\t\tx: this.$state.width,\n\t\t\ty: this.$state.height,\n\t\t\tcontentX: this.isVisible() ? contentWidth : 0,\n\t\t\tcontentY: this.isVisible() ? (config.scale_height + contentHeight) : 0,\n\t\t\tscrollHeight: this.isVisible() ? contentHeight : 0,\n\t\t\tscrollWidth: this.isVisible() ? contentWidth : 0\n\t\t};\n\n\t\treturn size;\n\t},\n\n\t_bindStore: function () {\n\t\tif (this.$config.bind){\n\t\t\tvar rowStore = this.$gantt.getDatastore(this.$config.bind);\n\t\t\tthis.$config.rowStore = rowStore;\n\t\t\tif(rowStore && !rowStore._gridCacheAttached){\n\t\t\t\tvar self = this;\n\t\t\t\trowStore._gridCacheAttached = true;\n\t\t\t\trowStore.attachEvent(\"onBeforeFilter\", function(){\n\t\t\t\t\tself._resetTopPositionHeight();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\trefresh: function () {\n\t\tthis._bindStore();\n\n\t\tthis._resetTopPositionHeight();\n\t\tthis._initSmartRenderingPlaceholder();\n\n\t\tthis._calculateGridWidth();\n\t\tthis._renderGridHeader();\n\t},\n\n\tgetViewPort: function(){\n\t\tvar scrollLeft = this.$config.scrollLeft || 0;\n\t\tvar scrollTop = this.$config.scrollTop || 0;\n\t\tvar height = this.$config.height || 0;\n\t\tvar width = this.$config.width || 0;\n\t\treturn {\n\t\t\ty: scrollTop,\n\t\t\ty_end: scrollTop + height,\n\t\t\tx: scrollLeft,\n\t\t\tx_end: scrollLeft + width,\n\t\t\theight: height,\n\t\t\twidth: width\n\t\t};\n\t},\n\n\tscrollTo: function (left, top) {\n\t\tif (!this.isVisible())\n\t\t\treturn;\n\n\t\tvar scrolled = false;\n\n\t\tthis.$config.scrollTop = this.$config.scrollTop || 0;\n\t\tthis.$config.scrollLeft = this.$config.scrollLeft || 0;\n\n\t\tif (left * 1 == left) {\n\t\t\tthis.$config.scrollLeft = this.$state.scrollLeft = this.$grid.scrollLeft = left;\n\t\t\tscrolled = true;\n\t\t}\n\n\t\t// var config = this.$getConfig();\n\t\tif (top * 1 == top) {\n\t\t\tthis.$config.scrollTop = this.$state.scrollTop = this.$grid_data.scrollTop = top;\n\t\t\tscrolled = true;\n\t\t}\n\n\t\tif(scrolled){\n\t\t\tthis.callEvent(\"onScroll\", [this.$config.scrollLeft, this.$config.scrollTop]);\n\t\t}\n\t},\n\n\tgetColumnIndex: function (name) {\n\t\tvar columns = this.$getConfig().columns;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tif (columns[i].name == name) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetColumn: function (name) {\n\t\tvar index = this.getColumnIndex(name);\n\t\tif (index === null) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.$getConfig().columns[index];\n\t},\n\n\tgetGridColumns: function () {\n\t\tvar config = this.$getConfig();\n\t\treturn config.columns.slice();\n\t},\n\tisVisible: function () {\n\t\tif (this.$parent && this.$parent.$config) {\n\t\t\treturn !this.$parent.$config.hidden;\n\t\t} else {\n\t\t\treturn this.$grid.offsetWidth;\n\t\t}\n\t},\n\n\tgetItemHeight: function () {\n\t\tvar config = this.$getConfig();\n\t\treturn config.row_height;\n\t},\n\n\t_createLayerConfig: function () {\n\t\tvar gantt = this.$gantt;\n\t\tvar self = this;\n\t\tvar layers = [\n\t\t\t{\n\t\t\t\trenderer: gantt.$ui.layers.gridLine(),\n\t\t\t\tcontainer: this.$grid_data,\n\t\t\t\tfilter: [function () {\n\t\t\t\t\treturn self.isVisible();\n\t\t\t\t}]\n\t\t\t}\n\t\t];\n\t\treturn layers;\n\t},\n\n\t_addLayers: function (gantt) {\n\t\tif (!this.$config.bind)\n\t\t\treturn;\n\n\t\tthis._taskLayers = [];\n\n\t\tvar self = this;\n\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\t\tvar getViewPort = function(){\n\t\t\treturn self.getViewPort();\n\t\t};\n\t\tif (!taskRenderer) {\n\t\t\ttaskRenderer = layers.createDataRender({\n\t\t\t\tname: this.$config.bind,\n\t\t\t\tdefaultContainer: function () { return self.$grid_data; }\n\t\t\t});\n\t\t}\n\n\t\tvar taskLayers = this.$config.layers;\n\t\tfor (var i = 0; taskLayers && i < taskLayers.length; i++) {\n\t\t\tvar layer = taskLayers[i];\n\t\t\tlayer.host = this;\n\t\t\tlayer.getViewPort = getViewPort;\n\t\t\tvar bar_layer = taskRenderer.addLayer(layer);\n\t\t\tthis._taskLayers.push(bar_layer);\n\t\t\tthis.attachEvent(\"onScroll\", (function(layer){\n\t\t\t\treturn function(){\n\t\t\t\t\tif(layer.requestUpdate){\n\t\t\t\t\t\tlayer.requestUpdate();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t})(layer));\n\t\t}\n\n\t\tthis._bindStore();\n\n\t\tthis._initSmartRenderingPlaceholder();\n\t},\n\n\t_refreshPlaceholderOnStoreUpdate: function (id) {\n\t\tvar config = this.$getConfig(),\n\t\t\tstore = this.$config.rowStore;\n\n\t\tif (!store || id !== null || !this.isVisible() || !config.smart_rendering) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar contentHeight;\n\t\tif (this.$config.scrollY) {\n\t\t\tvar scroll = this.$gantt.$ui.getView(this.$config.scrollY);\n\t\t\tif (scroll)\n\t\t\t\tcontentHeight = scroll.getScrollState().scrollSize;\n\t\t}\n\n\t\tif (!contentHeight) {\n\t\t\tcontentHeight = store ? config.row_height * store.countVisible() : 0;\n\t\t}\n\n\t\tif (contentHeight) {\n\t\t\tif (this.$rowsPlaceholder && this.$rowsPlaceholder.parentNode) {\n\t\t\t\tthis.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);\n\t\t\t}\n\n\t\t\tvar placeholder = this.$rowsPlaceholder = document.createElement(\"div\");\n\t\t\tplaceholder.style.visibility = \"hidden\";\n\t\t\tplaceholder.style.height = contentHeight + \"px\";\n\t\t\tplaceholder.style.width = \"1px\";\n\t\t\tthis.$grid_data.appendChild(placeholder);\n\t\t}\n\t},\n\n\t_initSmartRenderingPlaceholder: function () {\n\t\tvar store = this.$config.rowStore;\n\t\tif (!store) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tthis._initSmartRenderingPlaceholder = function () { };\n\t\t}\n\t\tthis._staticBgHandler = store.attachEvent(\"onStoreUpdated\", utils.bind(this._refreshPlaceholderOnStoreUpdate, this));\n\t},\n\n\t_initEvents: function () {\n\t\tvar gantt = this.$gantt;\n\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_close\", gantt.bind(function (e, id, trg) {\n\t\t\tvar store = this.$config.rowStore;\n\t\t\tif (!store) return true;\n\n\t\t\tvar target = domHelpers.locateAttribute(e, this.$config.item_attribute);\n\t\t\tif (target) {\n\t\t\t\tstore.close(target.getAttribute(this.$config.item_attribute));\n\n\t\t\t}\n\t\t\treturn false;\n\t\t}, this), this.$grid);\n\n\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_open\", gantt.bind(function (e, id, trg) {\n\t\t\tvar store = this.$config.rowStore;\n\t\t\tif (!store) return true;\n\n\t\t\tvar target = domHelpers.locateAttribute(e, this.$config.item_attribute);\n\t\t\tif (target) {\n\t\t\t\tstore.open(target.getAttribute(this.$config.item_attribute));\n\n\t\t\t}\n\t\t\treturn false;\n\t\t}, this), this.$grid);\n\t},\n\n\t_clearLayers: function (gantt) {\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\n\t\tif (this._taskLayers) {\n\t\t\tfor (var i = 0; i < this._taskLayers.length; i++) {\n\t\t\t\ttaskRenderer.removeLayer(this._taskLayers[i]);\n\t\t\t}\n\t\t}\n\n\t\tthis._taskLayers = [];\n\t},\n\n\t_getColumnWidth: function (column, config, width) {\n\t\tvar min_width = column.min_width || config.min_grid_column_width;\n\t\tvar new_width = Math.max(width, min_width || 10);\n\t\tif (column.max_width)\n\t\t\tnew_width = Math.min(new_width, column.max_width);\n\t\treturn new_width;\n\t},\n\t// return min and max possible grid width according to restricts\n\t_getGridWidthLimits: function () {\n\t\tvar config = this.$getConfig(),\n\t\t\tcolumns = this.getGridColumns(),\n\t\t\tmin_limit = 0,\n\t\t\tmax_limit = 0;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tmin_limit += columns[i].min_width ? columns[i].min_width : config.min_grid_column_width;\n\t\t\tif (max_limit !== undefined) {\n\t\t\t\tmax_limit = columns[i].max_width ? (max_limit + columns[i].max_width) : undefined;\n\t\t\t}\n\t\t}\n\n\t\treturn [min_limit, max_limit];\n\t},\n\t// resize columns to get total newWidth, starting from columns[start_index]\n\t_setColumnsWidth: function (newWidth, start_index) {\n\t\tvar config = this.$getConfig();\n\t\tvar columns = this.getGridColumns(),\n\t\t\tcolumns_width = 0,\n\t\t\tfinal_width = newWidth;\n\n\t\tstart_index = !window.isNaN(start_index) ? start_index : -1;\n\n\t\tfor (var i = 0, l = columns.length; i < l; i++) {\n\t\t\tcolumns_width += columns[i].width * 1;\n\t\t}\n\n\t\tif (window.isNaN(columns_width)) {\n\t\t\tthis._calculateGridWidth();\n\t\t\tcolumns_width = 0;\n\t\t\tfor (var i = 0, l = columns.length; i < l; i++) {\n\t\t\t\tcolumns_width += columns[i].width * 1;\n\t\t\t}\n\t\t}\n\n\t\tvar extra_width = final_width - columns_width;\n\n\t\tvar start_width = 0;\n\t\tfor (var i = 0; i < start_index + 1; i++) {\n\t\t\tstart_width += columns[i].width;\n\t\t}\n\n\t\tcolumns_width -= start_width;\n\n\t\tfor (var i = start_index + 1; i < columns.length; i++) {\n\n\t\t\tvar col = columns[i];\n\t\t\tvar share = Math.round(extra_width * (col.width / columns_width));\n\n\t\t\t// columns have 2 additional restrict fields - min_width & max_width that are set by user\n\t\t\tif (extra_width < 0) {\n\t\t\t\tif (col.min_width && col.width + share < col.min_width)\n\t\t\t\t\tshare = col.min_width - col.width;\n\t\t\t\telse if (!col.min_width && config.min_grid_column_width && col.width + share < config.min_grid_column_width)\n\t\t\t\t\tshare = config.min_grid_column_width - col.width;\n\t\t\t} else if (col.max_width && col.width + share > col.max_width)\n\t\t\t\tshare = col.max_width - col.width;\n\n\t\t\tcolumns_width -= col.width;\n\t\t\tcol.width += share;\n\t\t\textra_width -= share;\n\n\t\t}\n\n\t\tvar iterator = extra_width > 0 ? 1 : -1;\n\t\twhile ((extra_width > 0 && iterator === 1) || (extra_width < 0 && iterator === -1)) {\n\t\t\tvar curExtra = extra_width;\n\t\t\tfor (i = start_index + 1; i < columns.length; i++) {\n\t\t\t\tvar new_width = columns[i].width + iterator;\n\n\t\t\t\tif (new_width == this._getColumnWidth(columns[i], config, new_width)) {\n\t\t\t\t\textra_width -= iterator;\n\t\t\t\t\tcolumns[i].width = new_width;\n\t\t\t\t}\n\n\t\t\t\tif (!extra_width)\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif (curExtra == extra_width)\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// if impossible to resize the right-side columns, resize the start column\n\t\tif (extra_width && start_index > -1) {\n\t\t\tvar new_width = columns[start_index].width + extra_width;\n\t\t\tif (new_width == this._getColumnWidth(columns[start_index], config, new_width))\n\t\t\t\tcolumns[start_index].width = new_width;\n\t\t}\n\n\t\t//if (this.callEvent(\"onGridResizeEnd\", [config.grid_width, final_width]) === false)\n\t\t//\treturn;\n\n\t\treturn this._getColsTotalWidth();\n\t},\n\n\t_getColsTotalWidth: function () {\n\t\tvar columns = this.getGridColumns();\n\t\tvar cols_width = 0;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar v = parseFloat(columns[i].width);\n\t\t\tif (window.isNaN(v)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcols_width += v;\n\t\t}\n\t\treturn cols_width;\n\t},\n\t_calculateGridWidth: function () {\n\t\tvar config = this.$getConfig();\n\t\tvar columns = this.getGridColumns();\n\t\tvar cols_width = 0;\n\t\tvar unknown = [];\n\t\tvar width = [];\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar v = parseFloat(columns[i].width);\n\t\t\tif (window.isNaN(v)) {\n\t\t\t\tv = config.min_grid_column_width || 10;\n\t\t\t\tunknown.push(i);\n\t\t\t}\n\t\t\twidth[i] = v;\n\t\t\tcols_width += v;\n\t\t}\n\t\tvar gridWidth = this._getGridWidth() + 1;\n\t\tif (config.autofit || unknown.length) {\n\t\t\tvar diff = gridWidth - cols_width;\n\t\t\t// TODO: logic may be improved for proportional changing of width\n\t\t\tif (config.autofit) {\n\t\t\t\t// delta must be added for all columns\n\t\t\t\tfor (var i = 0; i < width.length; i++) {\n\t\t\t\t\tvar delta = Math.round(diff / (width.length - i));\n\t\t\t\t\twidth[i] += delta;\n\t\t\t\t\tvar new_width = this._getColumnWidth(columns[i], config, width[i]);\n\n\t\t\t\t\tif (new_width != width[i]) {\n\t\t\t\t\t\tdelta = new_width - width[i];\n\t\t\t\t\t\twidth[i] = new_width;\n\t\t\t\t\t}\n\t\t\t\t\tdiff -= delta;\n\t\t\t\t}\n\t\t\t} else if (unknown.length) {\n\t\t\t\t// there are several columns with undefined width\n\t\t\t\tfor (var i = 0; i < unknown.length; i++) {\n\t\t\t\t\tvar delta = Math.round(diff / (unknown.length - i)); // no float values, just integer\n\t\t\t\t\tvar index = unknown[i];\n\t\t\t\t\twidth[index] += delta;\n\t\t\t\t\tvar new_width = this._getColumnWidth(columns[index], config, width[index]);\n\t\t\t\t\tif (new_width != width[index]) {\n\t\t\t\t\t\tdelta = new_width - width[index];\n\t\t\t\t\t\twidth[index] = new_width;\n\t\t\t\t\t}\n\t\t\t\t\tdiff -= delta;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < width.length; i++) {\n\t\t\t\tcolumns[i].width = width[i];\n\t\t\t}\n\t\t} else {\n\t\t\tvar changed = (gridWidth != cols_width);\n\t\t\tthis.$config.width = cols_width - 1;\n\t\t\tconfig.grid_width = cols_width;\n\t\t\tif (changed) {\n\t\t\t\tthis.$parent._setContentSize(this.$config.width, this.$config.height);\n\t\t\t\t//\t\t\t\tthis.$parent.$config.width = cols_width;\n\t\t\t}\n\t\t}\n\n\t},\n\n\t_renderGridHeader: function () {\n\t\tvar gantt = this.$gantt;\n\t\tvar config = this.$getConfig();\n\t\tvar locale = this.$gantt.locale;\n\t\tvar templates = this.$gantt.templates;\n\n\t\tvar columns = this.getGridColumns();\n\t\tif (config.rtl) {\n\t\t\tcolumns = columns.reverse();\n\t\t}\n\t\tvar cells = [];\n\t\tvar width = 0,\n\t\t\tlabels = locale.labels;\n\n\t\tvar lineHeigth = config.scale_height - 1;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar last = i == columns.length - 1;\n\t\t\tvar col = columns[i];\n\n\t\t\t// ensure columns have non-empty names\n\t\t\tif (!col.name) {\n\t\t\t\tcol.name = gantt.uid() + \"\";\n\t\t\t}\n\n\t\t\tvar colWidth = col.width * 1;\n\n\t\t\tvar gridWidth = this._getGridWidth();\n\t\t\tif (last && gridWidth > width + colWidth)\n\t\t\t\tcol.width = colWidth = gridWidth - width;\n\t\t\twidth += colWidth;\n\t\t\tvar sort = (gantt._sort && col.name == gantt._sort.name) ? (\"<div class='gantt_sort gantt_\" + gantt._sort.direction + \"'></div>\") : \"\";\n\t\t\tvar cssClass = [\"gantt_grid_head_cell\",\n\t\t\t\t(\"gantt_grid_head_\" + col.name),\n\t\t\t\t(last ? \"gantt_last_cell\" : \"\"),\n\t\t\t\ttemplates.grid_header_class(col.name, col)].join(\" \");\n\n\t\t\tvar style = \"width:\" + (colWidth - (last ? 1 : 0)) + \"px;\";\n\t\t\tvar label = (col.label || labels[\"column_\" + col.name] || labels[col.name]);\n\t\t\tlabel = label || \"\";\n\n\t\t\tvar ariaAttrs = gantt._waiAria.gridScaleCellAttrString(col, label);\n\n\t\t\tvar cell = \"<div class='\" + cssClass + \"' style='\" + style + \"' \" + ariaAttrs + \" data-column-id='\" + col.name + \"' column_id='\" + col.name + \"'>\" + label + sort + \"</div>\";\n\t\t\tcells.push(cell);\n\t\t}\n\t\tthis.$grid_scale.style.height = (config.scale_height) + \"px\";\n\t\tthis.$grid_scale.style.lineHeight = lineHeigth + \"px\";\n\t\t//this.$grid_scale.style.width = \"inherit\";\n\t\tthis.$grid_scale.innerHTML = cells.join(\"\");\n\n\t\tif (this._renderHeaderResizers) {\n\t\t\tthis._renderHeaderResizers();\n\t\t}\n\t},\n\n\t_getGridWidth: function () {\n\t\t// TODO: refactor/remove/comment some of _getGridWidth/this.$config.width/this.$state.width, it's not clear what they do\n\t\treturn this.$config.width;\n\t},\n\n\tdestructor: function () {\n\t\tthis._clearLayers(this.$gantt);\n\t\tif (this._mouseDelegates) {\n\t\t\tthis._mouseDelegates.destructor();\n\t\t\tthis._mouseDelegates = null;\n\t\t}\n\t\tthis.$grid = null;\n\t\tthis.$grid_scale = null;\n\t\tthis.$grid_data = null;\n\t\tthis.$gantt = null;\n\n\t\tif (this.$config.rowStore) {\n\t\t\tthis.$config.rowStore.detachEvent(this._staticBgHandler);\n\t\t\tthis.$config.rowStore = null;\n\t\t}\n\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\t}\n};\n\nmodule.exports = Grid;\n","function createMixin(){\n\tvar topCache = {};\n\treturn {\n\t\t_resetTopPositionHeight: function(){\n\t\t\ttopCache = {};\n\t\t},\n\n\t\t/**\n\t\t * Get top coordinate by row index (order)\n\t\t * @param {number} index\n\t\t */\n\t\tgetRowTop: function(index){\n\t\t\treturn index * this.$getConfig().row_height;\n\t\t},\n\n\t\t/**\n\t\t * Get top coordinate by item id\n\t\t * @param {*} task_id\n\t\t */\n\t\tgetItemTop: function (taskId) {\n\t\t\tif(this.$config.rowStore){\n\t\t\t\tif(topCache[taskId] !== undefined){\n\t\t\t\t\treturn topCache[taskId];\n\t\t\t\t}\n\t\t\t\tvar store = this.$config.rowStore;\n\t\t\t\tif(!store) return 0;\n\n\t\t\t\tvar itemIndex = store.getIndexById(taskId);\n\n\t\t\t\tif (itemIndex === -1 && store.getParent && store.exists(taskId)) {\n\t\t\t\t\tvar parentId = store.getParent(taskId);\n\t\t\t\t\tif (store.exists(parentId)) {\n\t\t\t\t\t\t// if task is not found in list - maybe it's parent is a split task and we should use parents index instead\n\t\t\t\t\t\tvar parent = store.getItem(parentId);\n\t\t\t\t\t\tif (this.$gantt.isSplitTask(parent)) {\n\t\t\t\t\t\t\treturn this.getRowTop(store.getIndexById(parent.id));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttopCache[taskId] = this.getRowTop(itemIndex);\n\t\t\t\treturn topCache[taskId];\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t}\n\t};\n}\n\nmodule.exports = createMixin;","var __extends = require(\"../../../utils/extends\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\"),\n\tCell = require(\"./cell\");\n\nvar Layout = (function (_super) {\n\t\"use strict\";\n\n\t__extends(Layout, _super);\n\tfunction Layout(parent, config, factory) {\n\t\tvar _this = _super.apply(this, arguments) || this;\n\n\t\tif(parent)\n\t\t\t_this.$root = true;\n\n\t\t_this._parseConfig(config);\n\t\t_this.$name = \"layout\";\n\t\treturn _this;\n\t}\n\n\tLayout.prototype.destructor = function () {\n\t\tif (this.$container && this.$view) {\n\t\t\tdomHelpers.removeNode(this.$view);\n\t\t}\n\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tvar child = this.$cells[i];\n\t\t\tchild.destructor();\n\t\t}\n\t\tthis.$cells = [];\n\n\t\t_super.prototype.destructor.call(this);\n\t};\n\n\tLayout.prototype._resizeScrollbars = function(autosize, scrollbars){\n\t\tvar scrollChanged = false;\n\t\tvar visibleScrollbars = [],\n\t\t\thiddenSrollbars = [];\n\n\t\tfunction showScrollbar(scrollbar){\n\t\t\tscrollbar.$parent.show();\n\t\t\tscrollChanged = true;\n\t\t\tvisibleScrollbars.push(scrollbar);\n\t\t}\n\t\tfunction hideScrollbar(scrollbar){\n\t\t\tscrollbar.$parent.hide();\n\t\t\tscrollChanged = true;\n\t\t\thiddenSrollbars.push(scrollbar);\n\t\t}\n\n\t\tvar scrollbar;\n\t\tfor(var i = 0; i < scrollbars.length; i++){\n\t\t\tscrollbar = scrollbars[i];\n\n\t\t\tif(autosize[scrollbar.$config.scroll]) {\n\t\t\t\thideScrollbar(scrollbar);\n\t\t\t}else if(scrollbar.shouldHide()){\n\t\t\t\thideScrollbar(scrollbar);\n\t\t\t}else if(scrollbar.shouldShow()){\n\t\t\t\tshowScrollbar(scrollbar);\n\t\t\t}else{\n\t\t\t\tif(scrollbar.isVisible()){\n\t\t\t\t\tvisibleScrollbars.push(scrollbar);\n\t\t\t\t}else{\n\t\t\t\t\thiddenSrollbars.push(scrollbar);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar visibleGroups = {};\n\t\tfor(var i = 0; i < visibleScrollbars.length; i++){\n\t\t\tif(visibleScrollbars[i].$config.group){\n\t\t\t\tvisibleGroups[visibleScrollbars[i].$config.group] = true;\n\t\t\t}\n\t\t}\n\n\t\tfor(var i = 0; i < hiddenSrollbars.length; i++){\n\t\t\tscrollbar = hiddenSrollbars[i];\n\n\t\t\tif(scrollbar.$config.group && visibleGroups[scrollbar.$config.group]){\n\t\t\t\tshowScrollbar(scrollbar);\n\t\t\t}\n\t\t}\n\n\t\treturn scrollChanged;\n\t};\n\n\tLayout.prototype._syncCellSizes = function(groupName, newSize){\n\t\tif(!groupName)\n\t\t\treturn;\n\n\t\tvar groups = {};\n\n\t\tthis._eachChild(function(cell){\n\t\t\tif(cell.$config.group && cell.$name != \"scrollbar\" && cell.$name != \"resizer\"){\n\t\t\t\tif(!groups[cell.$config.group]){\n\t\t\t\t\tgroups[cell.$config.group] = [];\n\t\t\t\t}\n\t\t\t\tgroups[cell.$config.group].push(cell);\n\t\t\t}\n\t\t});\n\n\t\tif(groups[groupName]){\n\t\t\tthis._syncGroupSize(groups[groupName], newSize);\n\t\t}\n\t\treturn groups[groupName];\n\t};\n\n\tLayout.prototype._syncGroupSize = function(cells, newSize){\n\t\tif(!cells.length) return;\n\n\t\tvar property = cells[0].$parent._xLayout ? \"width\" : \"height\";\n\t\tvar direction = cells[0].$parent.getNextSibling(cells[0].$id) ? 1 : -1;\n\n\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\tvar ownSize = cells[i].getSize();\n\n\t\t\tvar resizeSibling = direction > 0 ? cells[i].$parent.getNextSibling(cells[i].$id) : cells[i].$parent.getPrevSibling(cells[i].$id);\n\t\t\tif(resizeSibling.$name == \"resizer\"){\n\t\t\t\tresizeSibling = direction > 0 ? resizeSibling.$parent.getNextSibling(resizeSibling.$id) : resizeSibling.$parent.getPrevSibling(resizeSibling.$id);\n\t\t\t}\n\t\t\tvar siblingSize = resizeSibling.getSize();\n\n\t\t\tif(resizeSibling[property]){\n\t\t\t\tvar totalGravity = ownSize.gravity + siblingSize.gravity;\n\t\t\t\tvar totalSize = ownSize[property] + siblingSize[property];\n\t\t\t\tvar k = totalGravity / totalSize;\n\t\t\t\tcells[i].$config.gravity = k * newSize;\n\n\t\t\t\tresizeSibling.$config[property] = totalSize - newSize;\n\t\t\t\tresizeSibling.$config.gravity = totalGravity - k * newSize;\n\t\t\t}else{\n\n\n\t\t\t\tcells[i].$config[property] = newSize;\n\t\t\t}\n\n\t\t\tvar mainGrid = this.$gantt.$ui.getView(\"grid\");\n\t\t\tif(mainGrid && cells[i].$content === mainGrid && !mainGrid.$config.scrollable){\n\t\t\t\tthis.$gantt.config.grid_width = newSize;\n\t\t\t}\n\t\t}\n\t};\n\n\tLayout.prototype.resize = function(startStage){\n\t\tvar mainCall = false;\n\t\tif(this.$root && !this._resizeInProgress){\n\t\t\tthis.callEvent(\"onBeforeResize\", []);\n\t\t\tmainCall = true;\n\t\t\tthis._resizeInProgress = true;\n\t\t}\n\n\t\t_super.prototype.resize.call(this, true);\n\t\t_super.prototype.resize.call(this, false);\n\n\t\tif(mainCall){\n\n\t\t\tvar contentViews = [];\n\t\t\tcontentViews = contentViews.concat(this.getCellsByType(\"viewCell\"));\n\t\t\tcontentViews = contentViews.concat(this.getCellsByType(\"viewLayout\"));\n\t\t\tcontentViews = contentViews.concat(this.getCellsByType(\"hostCell\"));\n\n\t\t\tvar scrollbars = this.getCellsByType(\"scroller\");\n\n\t\t\tfor(var i = 0; i < contentViews.length; i++){\n\t\t\t\tif(!contentViews[i].$config.hidden)\n\t\t\t\t\tcontentViews[i].setContentSize();\n\t\t\t}\n\n\t\t\tvar autosize = this._getAutosizeMode(this.$config.autosize);\n\n\t\t\tvar scrollChanged = this._resizeScrollbars(autosize, scrollbars);\n\n\t\t\tif(this.$config.autosize){\n\t\t\t\tthis.autosize(this.$config.autosize);\n\t\t\t\tscrollChanged = true;\n\t\t\t}\n\n\t\t\tif(scrollChanged){\n\t\t\t\tthis.resize();\n\t\t\t\tfor(var i = 0; i < contentViews.length; i++){\n\t\t\t\t\tif(!contentViews[i].$config.hidden)\n\t\t\t\t\t\tcontentViews[i].setContentSize();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.callEvent(\"onResize\", []);\n\t\t}\n\t\tif(mainCall){\n\t\t\tthis._resizeInProgress = false;\n\t\t}\n\t};\n\n\tLayout.prototype._eachChild = function(code, cell){\n\t\tcell = cell || this;\n\t\tcode(cell);\n\t\tif(cell.$cells){\n\t\t\tfor(var i = 0; i < cell.$cells.length; i++){\n\t\t\t\tthis._eachChild(code, cell.$cells[i]);\n\t\t\t}\n\t\t}\n\t};\n\n\tLayout.prototype.isChild = function(view){\n\t\tvar res = false;\n\t\tthis._eachChild(function(child){\n\t\t\tif(child === view || child.$content === view){\n\t\t\t\tres = true;\n\t\t\t}\n\t\t});\n\t\treturn res;\n\t};\n\n\tLayout.prototype.getCellsByType = function(type){\n\t\tvar res = [];\n\t\tif(type === this.$name){\n\t\t\tres.push(this);\n\t\t}\n\n\t\tif(this.$content && this.$content.$name == type){\n\t\t\tres.push(this.$content);\n\t\t}\n\n\t\tif(this.$cells){\n\t\t\tfor(var i = 0; i < this.$cells.length; i++){\n\t\t\t\tvar children = Layout.prototype.getCellsByType.call(this.$cells[i], type);\n\t\t\t\tif(children.length){\n\t\t\t\t\tres.push.apply(res, children);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\n\tLayout.prototype.getNextSibling = function(cellId){\n\t\tvar index = this.cellIndex(cellId);\n\t\tif(index >= 0 && this.$cells[index + 1]){\n\t\t\treturn this.$cells[index + 1];\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tLayout.prototype.getPrevSibling = function(cellId){\n\t\tvar index = this.cellIndex(cellId);\n\t\tif(index >= 0 && this.$cells[index - 1]){\n\t\t\treturn this.$cells[index - 1];\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t};\n\n\n\tLayout.prototype.cell = function (id) {\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tvar child = this.$cells[i];\n\t\t\tif (child.$id === id) {\n\t\t\t\treturn child;\n\t\t\t}\n\t\t\tvar sub = child.cell(id);\n\t\t\tif (sub) {\n\t\t\t\treturn sub;\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype.cellIndex = function (id) {\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tif (this.$cells[i].$id === id) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\tLayout.prototype.moveView = function (view, ind) {\n\t\tif (this.$cells[ind] !== view) {\n\t\t\treturn window.alert(\"Not implemented\");\n\t\t}\n\t\telse {\n\t\t\tind += this.$config.header ? 1 : 0;\n\t\t\tvar node = this.$view;\n\t\t\tif (ind >= node.childNodes.length) {\n\t\t\t\tnode.appendChild(view.$view);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnode.insertBefore(view.$view, node.childNodes[ind]);\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype._parseConfig = function (config) {\n\t\tthis.$cells = [];\n\t\tthis._xLayout = !config.rows;\n\t\tvar cells = config.rows || config.cols || config.views;\n\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\tvar cell = cells[i];\n\t\t\tcell.mode = this._xLayout ? \"x\" : \"y\";\n\t\t\tvar $content = this.$factory.initUI(cell, this);\n\t\t\tif(!$content){\n\t\t\t\tcells.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}else{\n\t\t\t\t$content.$parent = this;\n\t\t\t\tthis.$cells.push($content);\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype.getCells = function () {\n\t\treturn this.$cells;\n\t};\n\tLayout.prototype.render = function () {\n\t\tvar view = domHelpers.insertNode(this.$container, this.$toHTML());\n\t\tthis.$fill(view, null);\n\t\tthis.callEvent(\"onReady\", []);\n\t\tthis.resize();\n\n\t\t// do simple repaint after the first call\n\t\tthis.render = this.resize;\n\t};\n\tLayout.prototype.$fill = function (node, parent) {\n\t\tthis.$view = node;\n\t\tthis.$parent = parent;\n\t\tvar cells = domHelpers.getChildNodes(node, \"gantt_layout_cell\");\n\t\tfor (var i = cells.length - 1; i >= 0; i--) {\n\t\t\tvar sub = this.$cells[i];\n\t\t\tsub.$fill(cells[i], this);\n\t\t\t// initially hidden cell\n\t\t\tif (sub.$config.hidden) {\n\t\t\t\tsub.$view.parentNode.removeChild(sub.$view);\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype.$toHTML = function () {\n\t\tvar mode = this._xLayout ? \"x\" : \"y\";\n\t\tvar html = [];\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\thtml.push(this.$cells[i].$toHTML());\n\t\t}\n\t\treturn _super.prototype.$toHTML.call(this, html.join(\"\"), (this.$root ? \"gantt_layout_root \" : \"\") + \"gantt_layout gantt_layout_\" + mode);\n\t};\n\n\tLayout.prototype.getContentSize = function(mode){\n\t\tvar contentWidth = 0,\n\t\t\tcontentHeight = 0;\n\n\t\tvar cellSize, cell, borders;\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tcell = this.$cells[i];\n\t\t\tif(cell.$config.hidden)\n\t\t\t\tcontinue;\n\n\t\t\tcellSize = cell.getContentSize(mode);\n\n\t\t\tif(cell.$config.view === \"scrollbar\" && mode[cell.$config.scroll]){\n\t\t\t\tcellSize.height = 0;\n\t\t\t\tcellSize.width = 0;\n\t\t\t}\n\n\t\t\tif(cell.$config.resizer){\n\t\t\t\tif(this._xLayout){\n\t\t\t\t\tcellSize.height = 0;\n\t\t\t\t}else{\n\t\t\t\t\tcellSize.width = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tborders = cell._getBorderSizes();\n\n\t\t\tif(this._xLayout){\n\t\t\t\tcontentWidth += (cellSize.width + borders.horizontal);\n\t\t\t\tcontentHeight = Math.max(contentHeight, (cellSize.height + borders.vertical));\n\t\t\t}else{\n\t\t\t\tcontentWidth = Math.max(contentWidth, cellSize.width + borders.horizontal);\n\t\t\t\tcontentHeight += cellSize.height + borders.vertical;\n\t\t\t}\n\t\t}\n\n\t\tborders = this._getBorderSizes();\n\t\tcontentWidth += borders.horizontal;\n\t\tcontentHeight += borders.vertical;\n\n\t\tif(this.$root){\n\t\t\tcontentWidth += 1;\n\t\t\tcontentHeight += 1;\n\t\t}\n\n\t\treturn {\n\t\t\twidth: contentWidth,\n\t\t\theight: contentHeight\n\t\t};\n\t};\n\n\tLayout.prototype._cleanElSize = function(value){\n\t\treturn ((value || \"\").toString().replace(\"px\", \"\") * 1 || 0);\n\t};\n\tLayout.prototype._getBoxStyles = function(div){\n\t\tvar computed = null;\n\t\tif(window.getComputedStyle){\n\t\t\tcomputed = window.getComputedStyle(div, null);\n\t\t}else{\n\t\t\t//IE with elem.currentStyle does not calculate sizes from %, so will use the default approach\n\t\t\tcomputed = {\n\t\t\t\t\"width\":div.clientWidth,\n\t\t\t\t\"height\":div.clientHeight\n\t\t\t};\n\t\t}\n\t\tvar properties = [\n\t\t\t\"width\",\n\t\t\t\"height\",\n\n\t\t\t\"paddingTop\",\n\t\t\t\"paddingBottom\",\n\t\t\t\"paddingLeft\",\n\t\t\t\"paddingRight\",\n\n\t\t\t\"borderLeftWidth\",\n\t\t\t\"borderRightWidth\",\n\t\t\t\"borderTopWidth\",\n\t\t\t\"borderBottomWidth\"\n\t\t];\n\t\tvar styles = {\n\t\t\tboxSizing:(computed.boxSizing == \"border-box\")\n\t\t};\n\n\t\tif(computed.MozBoxSizing){\n\t\t\tstyles.boxSizing = (computed.MozBoxSizing == \"border-box\");\n\t\t}\n\t\tfor(var i =0; i < properties.length; i++){\n\t\t\tstyles[properties[i]] = computed[properties[i]] ? this._cleanElSize(computed[properties[i]]) : 0;\n\t\t}\n\n\n\t\tvar box = {\n\t\t\thorPaddings : (styles.paddingLeft + styles.paddingRight + styles.borderLeftWidth + styles.borderRightWidth),\n\t\t\tvertPaddings : (styles.paddingTop + styles.paddingBottom + styles.borderTopWidth + styles.borderBottomWidth),\n\t\t\tborderBox: styles.boxSizing,\n\t\t\tinnerWidth : styles.width,\n\t\t\tinnerHeight : styles.height,\n\t\t\touterWidth : styles.width,\n\t\t\touterHeight : styles.height\n\t\t};\n\n\n\t\tif(box.borderBox){\n\t\t\tbox.innerWidth -= box.horPaddings;\n\t\t\tbox.innerHeight -= box.vertPaddings;\n\t\t}else{\n\t\t\tbox.outerWidth += box.horPaddings;\n\t\t\tbox.outerHeight += box.vertPaddings;\n\t\t}\n\n\t\treturn box;\n\t};\n\n\tLayout.prototype._getAutosizeMode = function(config){\n\t\tvar res = {x:false, y:false};\n\t\tif(config === \"xy\"){\n\t\t\tres.x = res.y = true;\n\t\t}else if(config === \"y\" || config === true){\n\t\t\tres.y = true;\n\t\t}else if(config === \"x\"){\n\t\t\tres.x = true;\n\t\t}\n\t\treturn res;\n\t};\n\n\tLayout.prototype.autosize = function(mode) {\n\t\tvar res = this._getAutosizeMode(mode);\n\t\tvar boxSizes = this._getBoxStyles(this.$container);\n\t\tvar contentSizes = this.getContentSize(mode);\n\n\t\tvar node = this.$container;\n\t\tif(res.x){\n\t\t\tif(boxSizes.borderBox){\n\t\t\t\tcontentSizes.width += boxSizes.horPaddings;\n\t\t\t}\n\t\t\tnode.style.width = contentSizes.width + \"px\";\n\t\t}\n\t\tif(res.y){\n\t\t\tif(boxSizes.borderBox){\n\t\t\t\tcontentSizes.height += boxSizes.vertPaddings;\n\t\t\t}\n\t\t\tnode.style.height = contentSizes.height + \"px\";\n\t\t}\n\t};\n\n\tLayout.prototype.getSize = function () {\n\t\tthis._sizes = [];\n\t\tvar width = 0;\n\t\tvar minWidth = 0;\n\t\tvar maxWidth = 100000;\n\t\tvar height = 0;\n\t\tvar maxHeight = 100000;\n\t\tvar minHeight = 0;\n\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\n\t\t\tvar size = this._sizes[i] = this.$cells[i].getSize();\n\t\t\tif (this.$cells[i].$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (this._xLayout) {\n\t\t\t\tif (!size.width && size.minWidth) {\n\t\t\t\t\twidth += size.minWidth;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\twidth += size.width;\n\t\t\t\t}\n\t\t\t\tmaxWidth += size.maxWidth;\n\t\t\t\tminWidth += size.minWidth;\n\t\t\t\theight = Math.max(height, size.height);\n\t\t\t\tmaxHeight = Math.min(maxHeight, size.maxHeight); // min of maxHeight\n\t\t\t\tminHeight = Math.max(minHeight, size.minHeight); // max of minHeight\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!size.height && size.minHeight) {\n\t\t\t\t\theight += size.minHeight;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\theight += size.height;\n\t\t\t\t}\n\t\t\t\tmaxHeight += size.maxHeight;\n\t\t\t\tminHeight += size.minHeight;\n\t\t\t\twidth = Math.max(width, size.width);\n\t\t\t\tmaxWidth = Math.min(maxWidth, size.maxWidth); // min of maxWidth\n\t\t\t\tminWidth = Math.max(minWidth, size.minWidth); // max of minWidth\n\t\t\t}\n\t\t}\n\t\tvar self = _super.prototype.getSize.call(this);\n\t\t// maxWidth\n\t\tif (self.maxWidth >= 100000) {\n\t\t\tself.maxWidth = maxWidth;\n\t\t}\n\t\t// maxHeight\n\t\tif (self.maxHeight >= 100000) {\n\t\t\tself.maxHeight = maxHeight;\n\t\t}\n\t\t// minWidth\n\t\tself.minWidth = self.minWidth !== self.minWidth ? 0 : self.minWidth;// || self.width || Math.max(minWidth, width);\n\t\t// minHeight\n\t\tself.minHeight = self.minHeight !== self.minHeight ? 0 : self.minHeight;//self.minHeight || self.height || Math.max(minHeight, height);\n\t\t// sizes with paddings and margins\n\t\tif (this._xLayout) {\n\t\t\tself.minWidth += this.$config.margin * (this.$cells.length) || 0;\n\t\t\tself.minWidth += this.$config.padding * 2 || 0;\n\t\t\tself.minHeight += (this.$config.padding * 2) || 0;\n\t\t}\n\t\telse {\n\t\t\tself.minHeight += this.$config.margin * (this.$cells.length) || 0;\n\t\t\tself.minHeight += (this.$config.padding * 2) || 0;\n\t\t}\n\t\t\n\t\treturn self;\n\t};\n\t// calc total gravity and free space\n\tLayout.prototype._calcFreeSpace = function (s, cell, xLayout) {\n\t\tvar min = xLayout ? cell.minWidth : cell.minHeight;\n\t\tvar max = xLayout ? cell.maxWidth : cell.maxWidth;\n\t\tvar side = s;\n\t\tif (!side) {\n\t\t\tside = Math.floor(this._free / this._gravity * cell.gravity);\n\t\t\tif (side > max) {\n\t\t\t\tside = max;\n\t\t\t\tthis._free -= side;\n\t\t\t\tthis._gravity -= cell.gravity;\n\t\t\t}\n\t\t\tif (side < min) {\n\t\t\t\tside = min;\n\t\t\t\tthis._free -= side;\n\t\t\t\tthis._gravity -= cell.gravity;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (side > max) {\n\t\t\t\tside = max;\n\t\t\t}\n\t\t\tif (side < min) {\n\t\t\t\tside = min;\n\t\t\t}\n\t\t\tthis._free -= side;\n\t\t}\n\t\treturn side;\n\t};\n\tLayout.prototype._calcSize = function (s, size, xLayout) {\n\t\tvar side = s;\n\t\tvar min = xLayout ? size.minWidth : size.minHeight;\n\t\tvar max = xLayout ? size.maxWidth : size.maxHeight;\n\t\tif (!side) {\n\t\t\tside = Math.floor(this._free / this._gravity * size.gravity);\n\t\t}\n\t\tif (side > max) {\n\t\t\tside = max;\n\t\t}\n\t\tif (side < min) {\n\t\t\tside = min;\n\t\t}\n\t\treturn side;\n\t};\n\n\tLayout.prototype._configureBorders = function(){\n\t\tif(this.$root){\n\t\t\tthis._setBorders([\n\t\t\t\tthis._borders.left,\n\t\t\t\tthis._borders.top,\n\t\t\t\tthis._borders.right,\n\t\t\t\tthis._borders.bottom\n\t\t\t],\n\t\t\tthis);\n\t\t}\n\n\t\tvar borderClass = this._xLayout ? this._borders.right : this._borders.bottom;\n\n\t\tvar cells = this.$cells;\n\n\t\tvar lastVisibleIndex = cells.length - 1;\n\t\tfor(var i = lastVisibleIndex; i >= 0; i--){\n\t\t\tif (!cells[i].$config.hidden) {\n\t\t\t\tlastVisibleIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\tif (cells[i].$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar lastCell = i >= lastVisibleIndex;\n\t\t\tvar borderColorClass = \"\";\n\t\t\tif(!lastCell && cells[i + 1]){\n\t\t\t\tif(cells[i + 1].$config.view == \"scrollbar\"){\n\t\t\t\t\tif(this._xLayout){\n\t\t\t\t\t\tlastCell = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tborderColorClass = \"gantt_layout_cell_border_transparent\";\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tthis._setBorders(lastCell ? [] : [borderClass, borderColorClass], cells[i]);\n\t\t}\n\t};\n\n\tLayout.prototype._updateCellVisibility = function(){\n\t\tvar oldVisibleCells = this._visibleCells || {};\n\t\tvar firstCall = !this._visibleCells;\n\t\tvar visibleCells = {};\n\t\tvar cell;\n\t\tfor (var i = 0; i < this._sizes.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (!firstCall && cell.$config.hidden && oldVisibleCells[cell.$id]) {\n\t\t\t\tcell._hide(true);\n\t\t\t}else if(!cell.$config.hidden && !oldVisibleCells[cell.$id]){\n\t\t\t\tcell._hide(false);\n\t\t\t}\n\n\t\t\tif(!cell.$config.hidden){\n\t\t\t\tvisibleCells[cell.$id] = true;\n\t\t\t}\n\t\t}\n\t\tthis._visibleCells = visibleCells;\n\t};\n\n\tLayout.prototype.setSize = function (x, y) {\n\t\tthis._configureBorders();\n\t\t_super.prototype.setSize.call(this, x, y);\n\t\ty = this.$lastSize.contentY;\n\t\tx = this.$lastSize.contentX;\n\n\t\tvar padding = (this.$config.padding || 0);\n\t\tthis.$view.style.padding = padding + \"px\";\n\t\tthis._gravity = 0;\n\t\tthis._free = this._xLayout ? x : y;\n\t\tthis._free -= padding * 2;\n\t\t// calc all gravity\n\n\t\tvar cell,\n\t\t\tsize;\n\n\t\tthis._updateCellVisibility();\n\n\t\tfor (var i = 0; i < this._sizes.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (cell.$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar margin = (this.$config.margin || 0);\n\t\t\tif(cell.$name == \"resizer\" && !margin){\n\t\t\t\tmargin = -1;\n\t\t\t}\n\n\t\t\t// set margins to child cell\n\t\t\tvar cellView = cell.$view;\n\n\t\t\tvar marginSide = this._xLayout ? \"marginRight\" : \"marginBottom\";\n\t\t\tif (i !== this.$cells.length - 1) {\n\t\t\t\tcellView.style[marginSide] = margin + \"px\";\n\t\t\t\tthis._free -= margin; // calc free space without margin\n\t\t\t}\n\t\t\tsize = this._sizes[i];\n\t\t\tif (this._xLayout) {\n\t\t\t\tif (!size.width) {\n\t\t\t\t\tthis._gravity += size.gravity;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!size.height) {\n\t\t\t\t\tthis._gravity += size.gravity;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < this._sizes.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (cell.$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tsize = this._sizes[i];\n\t\t\tvar width = size.width;\n\t\t\tvar height = size.height;\n\t\t\tif (this._xLayout) {\n\t\t\t\tthis._calcFreeSpace(width, size, true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._calcFreeSpace(height, size, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (cell.$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tsize = this._sizes[i];\n\t\t\tvar dx = void 0;\n\t\t\tvar dy = void 0;\n\t\t\tif (this._xLayout) {\n\t\t\t\tdx = this._calcSize(size.width, size, true);\n\t\t\t\tdy = y - padding * 2; // layout height without paddings\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdx = x - padding * 2; // layout width without paddings\n\t\t\t\tdy = this._calcSize(size.height, size, false);\n\t\t\t}\n\n\t\t\tcell.setSize(dx, dy);\n\t\t}\n\n\t};\n\n\treturn Layout;\n}(Cell));\n\nmodule.exports = Layout;","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","function checkTimeout(host, updPerSecond){\n\tif (!updPerSecond)\n\t\treturn true;\n\t\n\tif (host._on_timeout)\n\t\treturn false;\n\t\n\tvar timeout = Math.ceil(1000/updPerSecond);\n\tif (timeout < 2) return true;\n\n\tsetTimeout(function(){\n\t\tdelete host._on_timeout;\n\t}, timeout);\n\n\thost._on_timeout = true;\n\treturn true;\n}\n\nmodule.exports = checkTimeout;","function extend(gantt){\n\n\tgantt.destructor = function(){\n\t\tgantt.callEvent(\"onDestroy\", []);\n\t\tthis.clearAll();\n\n\t\tif(this.$root){\n\t\t\tdelete this.$root.gantt;\n\t\t}\n\n\t\tthis._eventRemoveAll();\n\t\tif(this.$layout){\n\t\t\tthis.$layout.destructor();\n\t\t}\n\n\t\tthis.resetLightbox();\n\n\t\tif(this._dp && this._dp.destructor){\n\t\t\tthis._dp.destructor();\n\t\t}\n\t\tthis.$services.destructor();\n\n\t\t// detachAllEvents should be called last, because in components may be attached events\n\t\tthis.detachAllEvents();\n\n\t\tfor(var i in this){\n\t\t\tif(i.indexOf(\"$\") === 0){\n\t\t\t\tdelete this[i];\n\t\t\t}\n\t\t}\n\t\tgantt.$destroyed = true;\n\t};\n}\n\nmodule.exports = extend;\n","/*\n \tasserts will be removed in final code, so you can place them anythere\n\twithout caring about performance impacts\n*/\n\nmodule.exports = function(gantt){\n\treturn function assert(check, message){\n\t\tif (!check){\n\t\t\tif(gantt.config.show_errors && gantt.callEvent(\"onError\",[message]) !== false) {\n\t\t\t\tgantt.message({type: \"error\", text: message, expire: -1});\n\n\t\t\t\t// eslint-disable-next-line no-debugger\n\t\t\t\tdebugger;\n\t\t\t}\n\t\t}\n\t};\n};","var domHelpers = require(\"../utils/dom_helpers\"),\n\thelpers = require(\"../utils/helpers\");\n\nmodule.exports = function(gantt){\n\tvar calculateScaleRange = require(\"./gantt_data_range\");\n\n\tgantt.assert = require(\"./common/assert\")(gantt);\n\n//initial initialization\n\tgantt.init = function(node, from, to){\n\t\tif(from && to){\n\t\t\tthis.config.start_date = this._min_date = new Date(from);\n\t\t\tthis.config.end_date = this._max_date = new Date(to);\n\t\t}\n\t\tthis.date.init();\n\n\t\tif (!this.config.scroll_size)\n\t\t\tthis.config.scroll_size = domHelpers.getScrollSize() || 1;\n\n\t\t//can be called only once\n\t\tthis.init = function(node){\n\t\t\tif (this.$container && this.$container.parentNode){\n\t\t\t\tthis.$container.parentNode.removeChild(this.$container);\n\t\t\t\tthis.$container = null;\n\t\t\t}\n\n\t\t\tif(this.$layout){\n\t\t\t\tthis.$layout.clear();\n\t\t\t}\n\t\t\tthis._reinit(node);\n\t\t};\n\n\t\tthis._reinit(node);\n\t};\n\n\tgantt._reinit = function(node){\n\t\tthis.callEvent(\"onBeforeGanttReady\", []);\n\n\t\t// detach listeners before clearing old DOM, possible IE errors when accessing detached nodes\n\t\tthis._eventRemoveAll();\n\t\tthis.$mouseEvents.reset();\n\n\t\tthis.resetLightbox();\n\t\tthis._update_flags();\n\n\n\t\tvar config = this.$services.getService(\"templateLoader\");\n\t\tconfig.initTemplates(this);\n\n\t\tthis._clearTaskLayers();\n\t\tthis._clearLinkLayers();\n\n\t\t//this.clear\n\t\tif(this.$layout){\n\t\t\tthis.$layout.destructor();\n\t\t\tthis.$ui.reset();\n\t\t}\n\n\t\tthis.$root = domHelpers.toNode(node);\n\t\tif(this.$root){\n\t\t\tthis.$root.innerHTML = \"\";\n\t\t}\n\t\tthis.$root.gantt = this;\n\t\tcalculateScaleRange(this);\n\t\tthis.config.layout.id = \"main\";\n\t\tthis.$layout = this.$ui.createView(\"layout\", node, this.config.layout);\n\n\t\tthis.$layout.attachEvent(\"onBeforeResize\", function(){\n\t\t\tvar storeNames = gantt.$services.getService(\"datastores\");\n\t\t\tfor(var i = 0; i < storeNames.length; i++){\n\t\t\t\tgantt.getDatastore(storeNames[i]).filter();\n\t\t\t}\n\t\t});\n\n\t\tthis.$layout.attachEvent(\"onResize\", function(){\n\t\t\tgantt.refreshData();\n\t\t});\n\n\t\tthis.callEvent(\"onGanttLayoutReady\", []);\n\t\tthis.$layout.render();\n\n\t\tgantt.$container = this.$layout.$container.firstChild;\n\n\t\taddResizeListener(gantt);\n\n\t\tthis.callEvent(\"onTemplatesReady\",[]);\n\t\tthis.$mouseEvents.reset(this.$root);\n\t\tthis.callEvent(\"onGanttReady\", []);\n\n\t\tthis.render();\n\t};\n\n\tfunction addResizeListener(gantt){\n\t\tvar containerStyles = window.getComputedStyle(gantt.$root);\n\t\tif(containerStyles.getPropertyValue(\"position\") == \"static\"){\n\t\t\tgantt.$root.style.position = \"relative\";\n\t\t}\n\n\t\tvar resizeWatcher = document.createElement('iframe');\n\t\tresizeWatcher.className = \"gantt_container_resize_watcher\";\n\t\tresizeWatcher.tabIndex = -1;\n\n\t\t// in some environments (namely, in SalesForce) iframe.contentWindow is not available\n\t\tgantt.$root.appendChild(resizeWatcher);\n\t\tif (resizeWatcher.contentWindow) {\n\t\t\tlistenWindowResize(gantt, resizeWatcher.contentWindow);\n\t\t} else {\n\t\t\t// if so - ditch the iframe and fallback to listening the main window resize\n\t\t\tgantt.$root.removeChild(resizeWatcher);\n\t\t\tlistenWindowResize(gantt, window);\n\t\t}\n\t}\n\n\tfunction listenWindowResize(gantt, window){\n\t\tvar resizeDelay;\n\t\tgantt.event(window, \"resize\", function(){\n\t\t\tclearTimeout(resizeDelay);\n\t\t\tresizeDelay = setTimeout(function(){\n\t\t\t\tgantt.render();\n\t\t\t}, 300);\n\t\t});\n\t}\n\n\tgantt.$click={\n\t\tbuttons:{\n\t\t\t\"edit\":function(id){\n\t\t\t\tgantt.showLightbox(id);\n\t\t\t},\n\t\t\t\"delete\":function(id){\n\t\t\t\tvar question = gantt.locale.labels.confirm_deleting;\n\t\t\t\tvar title = gantt.locale.labels.confirm_deleting_title;\n\n\t\t\t\tgantt._dhtmlx_confirm(question, title, function(){\n\t\t\t\t\tif(!gantt.isTaskExists(id)){\n\t\t\t\t\t\tgantt.hideLightbox();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar task = gantt.getTask(id);\n\t\t\t\t\tif(task.$new){\n\t\t\t\t\t\tgantt.silent(function(){\n\t\t\t\t\t\t\tgantt.deleteTask(id, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tgantt.refreshData();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tgantt.deleteTask(id);\n\t\t\t\t\t}\n\n\t\t\t\t\tgantt.hideLightbox();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n//renders self\n\tgantt.render = function(){\n\t\tthis.callEvent(\"onBeforeGanttRender\", []);\n\n\t\tif (!this.config.sort && this._sort) {\n\t\t\tthis._sort = undefined;\n\t\t}\n\n\t\tvar pos = this.getScrollState();\n\t\tvar posX = pos ? pos.x : 0;\n\t\tif(this._getHorizontalScrollbar()){\n\t\t\tvar scrollbar = this._getHorizontalScrollbar();\n\t\t\tposX = scrollbar.$config.codeScrollLeft || posX || 0;\n\t\t}\n\n\n\t\tvar visible_date = null;\n\t\tif(posX){\n\t\t\tvisible_date = gantt.dateFromPos(posX + this.config.task_scroll_offset);\n\t\t}\n\t\tcalculateScaleRange(this);\n\n\t\tthis.$layout.$config.autosize = this.config.autosize;\n\t\tthis.$layout.resize();\n\n\t\tif(this.config.preserve_scroll && pos){\n\n\t\t\tif(posX){\n\t\t\t\tvar new_pos = gantt.getScrollState();\n\t\t\t\tvar new_date = gantt.dateFromPos(new_pos.x);\n\t\t\t\tif(!(+visible_date == +new_date && new_pos.y == pos.y)){\n\t\t\t\t\tif(visible_date){\n\t\t\t\t\t\tthis.showDate(visible_date);\n\t\t\t\t\t}\n\t\t\t\t\tif(pos.y)\n\t\t\t\t\t\tgantt.scrollTo(undefined, pos.y);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.callEvent(\"onGanttRender\", []);\n\t};\n\n\t//TODO: add layout.resize method that wouldn't trigger data repaint\n\tgantt.setSizes = gantt.render;\n\n\tgantt.locate = function(e) {\n\t\tvar trg = domHelpers.getTargetNode(e);\n\n\t\t//ignore empty cells\n\t\tvar className = domHelpers.getClassName(trg);\n\t\tif ((className || \"\").indexOf(\"gantt_task_cell\") >= 0) return null;\n\n\t\tvar targetAttribute = arguments[1] || this.config.task_attribute;\n\n\t\tvar node = domHelpers.locateAttribute(trg, targetAttribute);\n\t\tif(node){\n\t\t\treturn node.getAttribute(targetAttribute);\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tgantt._locate_css = function(e, classname, strict){\n\t\treturn domHelpers.locateClassName(e, classname, strict);\n\t};\n\n\tgantt._locateHTML = function(e, attribute) {\n\t\treturn domHelpers.locateAttribute(e, attribute || this.config.task_attribute);\n\t};\n\n\tgantt.getTaskRowNode = function(id) {\n\t\tvar els = this.$grid_data.childNodes;\n\t\tvar attribute = this.config.task_attribute;\n\t\tfor (var i = 0; i < els.length; i++) {\n\t\t\tif (els[i].getAttribute) {\n\t\t\t\tvar value = els[i].getAttribute(attribute);\n\t\t\t\tif (value == id) return els[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\n\tgantt.changeLightboxType = function(type){\n\t\tif(this.getLightboxType() == type)\n\t\t\treturn true;\n\t\tgantt._silent_redraw_lightbox(type);\n\t};\n\n\n\tgantt._get_link_type = function (from_start, to_start) {\n\t\tvar type = null;\n\t\tif (from_start && to_start) {\n\t\t\ttype = gantt.config.links.start_to_start;\n\t\t} else if (!from_start && to_start) {\n\t\t\ttype = gantt.config.links.finish_to_start;\n\t\t} else if (!from_start && !to_start) {\n\t\t\ttype = gantt.config.links.finish_to_finish;\n\t\t} else if (from_start && !to_start) {\n\t\t\ttype = gantt.config.links.start_to_finish;\n\t\t}\n\t\treturn type;\n\t};\n\n\tgantt.isLinkAllowed = function (from, to, from_start, to_start) {\n\t\tvar link = null;\n\t\tif (typeof(from) == \"object\") {\n\t\t\tlink = from;\n\t\t} else {\n\t\t\tlink = {source: from, target: to, type: this._get_link_type(from_start, to_start)};\n\t\t}\n\n\t\tif (!link) return false;\n\t\tif (!(link.source && link.target && link.type)) return false;\n\t\tif (link.source == link.target) return false;\n\n\t\tvar res = true;\n\t\t//any custom rules\n\t\tif (this.checkEvent(\"onLinkValidation\"))\n\t\t\tres = this.callEvent(\"onLinkValidation\", [link]);\n\n\t\treturn res;\n\t};\n\n\n\tgantt._correct_dst_change = function(date, prevOffset, step, unit){\n\t\tvar time_unit = helpers.getSecondsInUnit(unit) * step;\n\t\tif(time_unit > 60*60 && time_unit < 60*60*24){\n\t\t\t//correct dst change only if current unit is more than one hour and less than day (days have own checking), e.g. 12h\n\t\t\tvar offsetChanged = date.getTimezoneOffset() - prevOffset;\n\t\t\tif(offsetChanged){\n\t\t\t\tdate = gantt.date.add(date, offsetChanged, \"minute\");\n\t\t\t}\n\t\t}\n\t\treturn date;\n\t};\n\n\tgantt.isSplitTask = function(task){\n\t\tgantt.assert(task && task instanceof Object, \"Invalid argument <b>task</b>=\"+task+\" of gantt.isSplitTask. Task object was expected\");\n\t\treturn this.$data.tasksStore._isSplitItem(task);\n\t};\n\n\tgantt._is_icon_open_click = function(e) {\n\t\tif (!e)\n\t\t\treturn false;\n\t\tvar target = e.target || e.srcElement;\n\t\tif (!(target && target.className))\n\t\t\treturn false;\n\t\tvar className = domHelpers.getClassName(target);\n\t\tif (className.indexOf(\"gantt_tree_icon\") !== -1 && (className.indexOf(\"gantt_close\") !== -1 || className.indexOf(\"gantt_open\") !== -1))\n\t\t\treturn true;\n\t\treturn false;\n\t};\n\n};","// default locale\n// load locale definition and wrap it into module build-time\nmodule.exports = function (gantt) {\n\tgantt.locale = {\n\tdate: {\n\t\tmonth_full: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\tday_full: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\t\tday_short: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"New task\",\n\t\ticon_save: \"Save\",\n\t\ticon_cancel: \"Cancel\",\n\t\ticon_details: \"Details\",\n\t\ticon_edit: \"Edit\",\n\t\ticon_delete: \"Delete\",\n\t\tconfirm_closing: \"\",//Your changes will be lost, are you sure?\n\t\tconfirm_deleting: \"Task will be deleted permanently, are you sure?\",\n\t\tsection_description: \"Description\",\n\t\tsection_time: \"Time period\",\n\t\tsection_type: \"Type\",\n\n\t\t/* grid columns */\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Cancel\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n};","module.exports = function(gantt) {\n\n\tgantt.config.touch_drag = 500; //nearly immediate dnd\n\tgantt.config.touch = true;\n\tgantt.config.touch_feedback = true;\n\tgantt.config.touch_feedback_duration = 1;\n\tgantt._prevent_touch_scroll = false;\n\n\n\tgantt._touch_feedback = function () {\n\t\tif (gantt.config.touch_feedback) {\n\t\t\tif (navigator.vibrate)\n\t\t\t\tnavigator.vibrate(gantt.config.touch_feedback_duration);\n\t\t}\n\t};\n\n\tgantt.attachEvent(\"onGanttReady\", gantt.bind(function(){\n\t\tif (this.config.touch != \"force\")\n\t\t\tthis.config.touch = this.config.touch &&\n\t\t\t\t((navigator.userAgent.indexOf(\"Mobile\") != -1) ||\n\t\t\t\t\t(navigator.userAgent.indexOf(\"iPad\") != -1) ||\n\t\t\t\t\t(navigator.userAgent.indexOf(\"Android\") != -1) ||\n\t\t\t\t\t(navigator.userAgent.indexOf(\"Touch\") != -1));\n\n\t\tif (this.config.touch) {\n\n\t\t\tvar touchEventsSupported = true;\n\t\t\ttry {\n\t\t\t\tdocument.createEvent(\"TouchEvent\");\n\t\t\t} catch (e) {\n\t\t\t\ttouchEventsSupported = false;\n\t\t\t}\n\n\t\t\tif (touchEventsSupported) {\n\t\t\t\tthis._touch_events([\"touchmove\", \"touchstart\", \"touchend\"], function (ev) {\n\t\t\t\t\tif (ev.touches && ev.touches.length > 1) return null;\n\t\t\t\t\tif (ev.touches[0])\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttarget: ev.target,\n\t\t\t\t\t\t\tpageX: ev.touches[0].pageX,\n\t\t\t\t\t\t\tpageY: ev.touches[0].pageY,\n\t\t\t\t\t\t\tclientX: ev.touches[0].clientX,\n\t\t\t\t\t\t\tclientY: ev.touches[0].clientY\n\t\t\t\t\t\t};\n\t\t\t\t\telse\n\t\t\t\t\t\treturn ev;\n\t\t\t\t}, function () {\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t} else if (window.navigator.pointerEnabled) {\n\t\t\t\tthis._touch_events([\"pointermove\", \"pointerdown\", \"pointerup\"], function (ev) {\n\t\t\t\t\tif (ev.pointerType == \"mouse\") return null;\n\t\t\t\t\treturn ev;\n\t\t\t\t}, function (ev) {\n\t\t\t\t\treturn (!ev || (ev.pointerType == \"mouse\" ));\n\t\t\t\t});\n\t\t\t} else if (window.navigator.msPointerEnabled) {\n\t\t\t\tthis._touch_events([\"MSPointerMove\", \"MSPointerDown\", \"MSPointerUp\"], function (ev) {\n\t\t\t\t\tif (ev.pointerType == ev.MSPOINTER_TYPE_MOUSE) return null;\n\t\t\t\t\treturn ev;\n\t\t\t\t}, function (ev) {\n\t\t\t\t\treturn (!ev || ev.pointerType == ev.MSPOINTER_TYPE_MOUSE);\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\t}, gantt));\n\n\n\tfunction getTaskDND(){\n\t\tvar _tasks_dnd;\n\t\tif(gantt.$ui.getView(\"timeline\")){\n\t\t\t_tasks_dnd = gantt.$ui.getView(\"timeline\")._tasks_dnd;\n\t\t}\n\t\treturn _tasks_dnd;\n\t}\n\n\tvar touchHandlers = [];\n\n//we can't use native scrolling, as we need to sync momentum between different parts\n//so we will block native scroll and use the custom one\n//in future we can add custom momentum\n\tgantt._touch_events = function (names, accessor, ignore) {\n\t\t//webkit on android need to be handled separately\n\t\tvar dblclicktime = 0;\n\t\tvar action_mode = false;\n\t\tvar scroll_mode = false;\n\t\tvar action_start = null;\n\t\tvar scroll_state;\n\t\tvar long_tap_timer = null;\n\t\tvar current_target = null;\n\n\n\n\t\tfor(var i = 0; i < touchHandlers.length; i++){\n\t\t\tgantt.eventRemove(touchHandlers[i][0], touchHandlers[i][1], touchHandlers[i][2]);\n\t\t}\n\t\ttouchHandlers = [];\n\n\t\t//touch move\n\t\ttouchHandlers.push([gantt.$container, names[0], function (e) {\n\t\t\tvar _tasks_dnd = getTaskDND();\n\n\t\t\t\tif (ignore(e)) return;\n\n\t\t\t\t//ignore common and scrolling moves\n\t\t\t\tif (!action_mode) return;\n\n\t\t\t\tif (long_tap_timer) clearTimeout(long_tap_timer);\n\n\t\t\t\tvar source = accessor(e);\n\t\t\t\tif (_tasks_dnd && (_tasks_dnd.drag.id || _tasks_dnd.drag.start_drag)) {\n\t\t\t\t\t_tasks_dnd.on_mouse_move(source);\n\t\t\t\t\tif (e.preventDefault)\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.cancelBubble = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!gantt._prevent_touch_scroll) {\n\t\t\t\t\tif (source && action_start) {\n\t\t\t\t\t\tvar dx = action_start.pageX - source.pageX;\n\t\t\t\t\t\tvar dy = action_start.pageY - source.pageY;\n\t\t\t\t\t\tif (!scroll_mode && (Math.abs(dx) > 5 || Math.abs(dy) > 5)) {\n\t\t\t\t\t\t\tgantt._touch_scroll_active = scroll_mode = true;\n\t\t\t\t\t\t\tdblclicktime = 0;\n\t\t\t\t\t\t\tscroll_state = gantt.getScrollState();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (scroll_mode) {\n\t\t\t\t\t\t\tgantt.scrollTo(scroll_state.x + dx, scroll_state.y + dy);\n\t\t\t\t\t\t\tvar new_scroll_state = gantt.getScrollState();\n\n\t\t\t\t\t\t\tif ((scroll_state.x != new_scroll_state.x && dy > 2 * dx) ||\n\t\t\t\t\t\t\t\t(scroll_state.y != new_scroll_state.y && dx > 2 * dy )) {\n\t\t\t\t\t\t\t\treturn block_action(e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn block_action(e);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}]);\n\n\n\t\t//block touch context menu in IE10\n\t\ttouchHandlers.push([this.$container, \"contextmenu\", function (e) {\n\t\t\tif (action_mode)\n\t\t\t\treturn block_action(e);\n\t\t}]);\n\n\t\t//touch start\n\t\ttouchHandlers.push([this.$container, names[1], function (e) {\n\t\t\tif (ignore(e)) return;\n\t\t\tif (e.touches && e.touches.length > 1) {\n\t\t\t\taction_mode = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taction_start = accessor(e);\n\t\t\tif (!gantt._locate_css(action_start, \"gantt_hor_scroll\") && !gantt._locate_css(action_start, \"gantt_ver_scroll\")) {\n\t\t\t\taction_mode = true;\n\t\t\t}\n\t\t\tvar _tasks_dnd = getTaskDND();\n\n\t\t\t//long tap\n\t\t\tlong_tap_timer = setTimeout(function () {\n\t\t\t\tvar taskId = gantt.locate(action_start);\n\t\t\t\tif (_tasks_dnd && (taskId && !gantt._locate_css(action_start, \"gantt_link_control\") && !gantt._locate_css(action_start, \"gantt_grid_data\"))) {\n\t\t\t\t\t_tasks_dnd.on_mouse_down(action_start);\n\n\t\t\t\t\tif (_tasks_dnd.drag && _tasks_dnd.drag.start_drag) {\n\t\t\t\t\t\tcloneTaskRendered(taskId);\n\t\t\t\t\t\t_tasks_dnd._start_dnd(action_start);\n\t\t\t\t\t\tgantt._touch_drag = true;\n\n\t\t\t\t\t\tgantt.refreshTask(taskId);\n\n\t\t\t\t\t\tgantt._touch_feedback();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tlong_tap_timer = null;\n\t\t\t}, gantt.config.touch_drag);\n\t\t}]);\n\n\t\t//touch end\n\t\ttouchHandlers.push([this.$container, names[2], function (e) {\n\t\t\tif (ignore(e)) return;\n\t\t\tif (long_tap_timer) clearTimeout(long_tap_timer);\n\t\t\tgantt._touch_drag = false;\n\t\t\taction_mode = false;\n\t\t\tvar source = accessor(e);\n\n\t\t\tvar _tasks_dnd = getTaskDND();\n\n\t\t\tif(_tasks_dnd)\n\t\t\t\t_tasks_dnd.on_mouse_up(source);\n\n\t\t\tif (current_target) {\n\t\t\t\tgantt.refreshTask(gantt.locate(current_target));\n\t\t\t\tif (current_target.parentNode) {\n\t\t\t\t\tcurrent_target.parentNode.removeChild(current_target);\n\t\t\t\t\tgantt._touch_feedback();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgantt._touch_scroll_active = action_mode = scroll_mode = false;\n\t\t\tcurrent_target = null;\n\n\t\t\t//dbl-tap handling\n\t\t\tif (action_start && dblclicktime) {\n\t\t\t\tvar now = new Date();\n\t\t\t\tif ((now - dblclicktime) < 500) {\n\n\t\t\t\t\tvar mouseEvents = gantt.$services.getService(\"mouseEvents\");\n\t\t\t\t\tmouseEvents.onDoubleClick(action_start);\n\t\t\t\t\tblock_action(e);\n\t\t\t\t} else\n\t\t\t\t\tdblclicktime = now;\n\t\t\t} else {\n\t\t\t\tdblclicktime = new Date();\n\t\t\t}\n\t\t}]);\n\n\t\tfor(var i = 0; i < touchHandlers.length; i++){\n\t\t\tgantt.event(touchHandlers[i][0], touchHandlers[i][1], touchHandlers[i][2]);\n\t\t}\n\n\t\t//common helper, prevents event\n\t\tfunction block_action(e) {\n\t\t\tif (e && e.preventDefault)\n\t\t\t\te.preventDefault();\n\t\t\t(e || event).cancelBubble = true;\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction cloneTaskRendered(taskId) {\n\t\t\tvar renders = gantt._getTaskLayers();\n\t\t\tvar task = gantt.getTask(taskId);\n\t\t\tif (task && gantt.isTaskVisible(taskId)) {\n\t\t\t\tfor (var i = 0; i < renders.length; i++) {\n\t\t\t\t\ttask = renders[i].rendered[taskId];\n\t\t\t\t\tif (task && task.getAttribute(gantt.config.task_attribute) && task.getAttribute(gantt.config.task_attribute) == taskId) {\n\t\t\t\t\t\tvar copy = task.cloneNode(true);\n\t\t\t\t\t\tcurrent_target = task;\n\t\t\t\t\t\trenders[i].rendered[taskId] = copy;\n\t\t\t\t\t\ttask.style.display = \"none\";\n\t\t\t\t\t\tcopy.className += \" gantt_drag_move \";\n\t\t\t\t\t\ttask.parentNode.appendChild(copy);\n\t\t\t\t\t\t//return copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n};","module.exports = function(gantt) {\ngantt.skins[\"contrast_white\"] = {\n\tconfig:{\n\t\tgrid_width:360,\n\t\trow_height: 35,\n\t\tscale_height: 35,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:100,\n\t_third_column_width:80\n};\n\n};","module.exports = function(gantt) {\ngantt.skins[\"contrast_black\"] = {\n\tconfig:{\n\t\tgrid_width:360,\n\t\trow_height: 35,\n\t\tscale_height: 35,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:100,\n\t_third_column_width:80\n};\n\n};","module.exports = function(gantt) {\n\tgantt.skins.material = {\n\t\tconfig: {\n\t\t\tgrid_width: 411,\n\t\t\trow_height: 34,\n\t\t\ttask_height_offset: 6,\n\t\t\tscale_height: 36,\n\t\t\tlink_line_width: 2,\n\t\t\tlink_arrow_size: 6,\n\t\t\tlightbox_additional_height: 80\n\t\t},\n\t\t_second_column_width: 110,\n\t\t_third_column_width: 75,\n\t\t_redefine_lightbox_buttons: {\n\t\t\t\"buttons_left\": [\"dhx_delete_btn\"],\n\t\t\t\"buttons_right\": [\"dhx_save_btn\", \"dhx_cancel_btn\"]\n\t\t}\n\t};\n\n\tgantt.attachEvent(\"onAfterTaskDrag\", function (id) {\n\t\tvar t = gantt.getTaskNode(id);\n\t\tif (t) {\n\t\t\tt.className += \" gantt_drag_animation\";\n\t\t\tsetTimeout(function () {\n\t\t\t\tvar indx = t.className.indexOf(\" gantt_drag_animation\");\n\t\t\t\tif (indx > -1) {\n\t\t\t\t\tt.className = t.className.slice(0, indx);\n\t\t\t\t}\n\t\t\t}, 200);\n\t\t}\n\t});\n\n};","module.exports = function(gantt) {\n\tgantt.skins.broadway = {\n\t\tconfig: {\n\t\t\tgrid_width: 360,\n\t\t\trow_height: 35,\n\t\t\tscale_height: 35,\n\t\t\tlink_line_width: 1,\n\t\t\tlink_arrow_size: 7,\n\t\t\tlightbox_additional_height: 86\n\t\t},\n\t\t_second_column_width: 90,\n\t\t_third_column_width: 80,\n\n\t\t_lightbox_template: \"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>\",\n\t\t_config_buttons_left: {},\n\t\t_config_buttons_right: {\n\t\t\t\"gantt_delete_btn\": \"icon_delete\",\n\t\t\t\"gantt_save_btn\": \"icon_save\"\n\t\t}\n\t};\n};","module.exports = function(gantt) {\ngantt.skins.terrace = {\n\tconfig:{\n\t\tgrid_width:360,\n\t\trow_height: 35,\n\t\tscale_height: 35,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:90,\n\t_third_column_width:70\t\t\n};\n\n};","module.exports = function(gantt) {\ngantt.skins.meadow = {\n\tconfig:{\n\t\tgrid_width:350,\n\t\trow_height: 27,\n\t\tscale_height: 30,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:72\n\t},\n\t_second_column_width:95,\n\t_third_column_width:80\n};\n\n};","module.exports = function(gantt) {\ngantt.skins.skyblue = {\n\tconfig:{\n\t\tgrid_width:350,\n\t\trow_height: 27,\n\t\tscale_height: 27,\n\t\tlink_line_width:1,\n\t\tlink_arrow_size:8,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:95,\n\t_third_column_width:80\n};\n\n};","function _configure(col, data, force) {\n\tfor (var key in data)\n\t\tif (typeof col[key] == \"undefined\" || force)\n\t\t\tcol[key] = data[key];\n}\n\nfunction _get_skin(force, gantt) {\n\tvar skin = gantt.skin;\n\tif (!skin || force) {\n\t\tvar links = document.getElementsByTagName(\"link\");\n\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\tvar res = links[i].href.match(\"dhtmlxgantt_([a-z_]+).css\");\n\t\t\tif (res) {\n\t\t\t\tif (gantt.skins[res[1]] || !skin) {\n\t\t\t\t\tskin = res[1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgantt.skin = skin || \"terrace\";\n\tvar skinset = gantt.skins[gantt.skin] || gantt.skins[\"terrace\"];\n\n\t//apply skin related settings\n\t_configure(gantt.config, skinset.config, force);\n\n\tvar config = gantt.getGridColumns();\n\tif (config[1] && !gantt.defined(config[1].width))\n\t\tconfig[1].width = skinset._second_column_width;\n\tif (config[2] && !gantt.defined(config[2].width))\n\t\tconfig[2].width = skinset._third_column_width;\n\t\n\tfor (var i=0; i<config.length; i++) {\n\t\tvar column = config[i];\n\t\tif (column.name == \"add\") {\n\t\t\tif(!column.width){\n\t\t\t\tcolumn.width = 44;\n\t\t\t}\n\t\t\tif (!(gantt.defined(column.min_width) && gantt.defined(column.max_width))) {\n\t\t\t\tcolumn.min_width = column.min_width || column.width;\n\t\t\t\tcolumn.max_width = column.max_width || column.width;\n\t\t\t}\n\t\t\tif (column.min_width)\n\t\t\t\tcolumn.min_width = +column.min_width;\n\t\t\tif (column.max_width)\n\t\t\t\tcolumn.max_width = +column.max_width;\n\t\t\tif (column.width) {\n\t\t\t\tcolumn.width = +column.width;\n\t\t\t\tcolumn.width = (column.min_width && column.min_width > column.width) ? column.min_width : column.width;\n\t\t\t\tcolumn.width = (column.max_width && column.max_width < column.width) ? column.max_width : column.width;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (skinset.config.task_height)\n\t\tgantt.config.task_height = skinset.config.task_height || \"full\"; \n\n\tif (skinset._lightbox_template)\n\t\tgantt._lightbox_template = skinset._lightbox_template;\n\n\tif (skinset._redefine_lightbox_buttons) {\n\t\tgantt.config.buttons_right = skinset._redefine_lightbox_buttons[\"buttons_right\"];\n\t\tgantt.config.buttons_left = skinset._redefine_lightbox_buttons[\"buttons_left\"];\n\t}\n\n\n\tgantt.resetLightbox();\n}\n\nmodule.exports = function(gantt) {\n\tif(!gantt.resetSkin){\n\t\tgantt.resetSkin = function () {\n\t\t\tthis.skin = \"\";\n\t\t\t_get_skin(true, this);\n\t\t};\n\t\tgantt.skins = {};\n\n\t\tgantt.attachEvent(\"onGanttLayoutReady\", function(){\n\t\t\t_get_skin(false, this);\n\t\t});\n\t}\n};","/*\n reuse results of functions that can be recalculated during rendering\n greatly increases the rendering speed when critical path enabled\n Sample - 94_dev/critical_path.html\n\n */\nmodule.exports = function(gantt){\n\ngantt._cached_functions = {\n\tcache: {},\n\tmode: false,\n\tcritical_path_mode: false,\n\twrap_methods : function(methods, object){\n\t\tif(object._prefetch_originals){\n\t\t\tfor(var i in object._prefetch_originals){\n\t\t\t\tobject[i] = object._prefetch_originals[i];\n\t\t\t}\n\t\t}\n\t\tobject._prefetch_originals = {};\n\t\tfor(var i = 0; i < methods.length; i++)\n\t\t\tthis.prefetch(methods[i], object);\n\n\t},\n\tprefetch : function(methodname, host){\n\t\tvar original = host[methodname];\n\t\tif(original){\n\t\t\tvar optimizer = this;\n\n\t\t\thost._prefetch_originals[methodname] = original;\n\t\t\thost[methodname] = function get_prefetched_value(){\n\n\t\t\t\tvar argumentsArray = new Array(arguments.length);\n\t\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\t\targumentsArray[i] = arguments[i];\n\t\t\t\t}\n\n\t\t\t\tif(optimizer.active){\n\t\t\t\t\tvar args = optimizer.get_arguments_hash(Array.prototype.slice.call(argumentsArray));\n\t\t\t\t\tif(!optimizer.cache[methodname]){\n\t\t\t\t\t\toptimizer.cache[methodname] = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tvar cached_values = optimizer.cache[methodname];\n\n\t\t\t\t\tif(optimizer.has_cached_value(cached_values, args)){\n\t\t\t\t\t\treturn optimizer.get_cached_value(cached_values, args);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tvar value = original.apply(this, argumentsArray);\n\t\t\t\t\t\toptimizer.cache_value(cached_values, args, value);\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn original.apply(this, argumentsArray);\n\t\t\t};\n\t\t}\n\t\treturn original;\n\t},\n\tcache_value: function(cache, arguments_hash, value){\n\t\tif(this.is_date(value))\n\t\t\tvalue = new Date(value);\n\t\tcache[arguments_hash] = value;\n\t},\n\thas_cached_value: function(cache, arguments_hash){\n\t\treturn cache.hasOwnProperty(arguments_hash);\n\t},\n\tget_cached_value: function(cache, arguments_hash){\n\t\tvar data = cache[arguments_hash];\n\n\t\t//for cached dates - return copy\n\t\tif(this.is_date(data)){\n\t\t\tdata = new Date(data);\n\t\t}\n\t\treturn data;\n\t},\n\tis_date: function(value){\n\t\treturn (value && value.getUTCDate);\n\t},\n\tget_arguments_hash:function(args){\n\t\tvar values = [];\n\t\tfor(var i = 0; i < args.length; i++){\n\t\t\tvalues.push(this.stringify_argument(args[i]));\n\t\t}\n\t\treturn \"(\" + values.join(\";\") + \")\";\n\t},\n\tstringify_argument: function(value){\n\t\t//expecting task or link, or any other data entries, dates and primitive values\n\t\tvar ret = \"\";\n\t\tif(value.id){\n\t\t\tret = value.id;\n\t\t}else if(this.is_date(value)){\n\t\t\tret = value.valueOf();\n\t\t}else{\n\t\t\tret = value;\n\t\t}\n\t\treturn ret + \"\";\n\t},\n\tactivate: function(){\n\t\tthis.clear();\n\t\tthis.active = true;\n\t},\n\tdeactivate: function(){\n\t\tthis.clear();\n\t\tthis.active = false;\n\t},\n\tclear: function(){\n\t\tthis.cache = {};\n\t},\n\n\tsetup: function(gantt){\n\t\tvar override_gantt = [];\n\n\t\tvar gantt_methods  = [\n\t\t\t'_isProjectEnd',\n\t\t\t'_getProjectEnd',\n\t\t\t'_getSlack'\n\t\t];\n\n\n\n\t\tif(this.mode == 'auto'){\n\t\t\tif(gantt.config.highlight_critical_path){\n\t\t\t\toverride_gantt = gantt_methods;\n\t\t\t}\n\t\t}else if(this.mode === true){\n\t\t\toverride_gantt = gantt_methods;\n\t\t}\n\n\t\tthis.wrap_methods(override_gantt, gantt);\n\n\t},\n\tupdate_if_changed: function(gantt){\n\t\tvar changed = (this.critical_path_mode != gantt.config.highlight_critical_path ||\n\t\t\t\t\t\tthis.mode !== gantt.config.optimize_render);\n\t\tif(changed){\n\t\t\tthis.critical_path_mode = gantt.config.highlight_critical_path;\n\t\t\tthis.mode = gantt.config.optimize_render;\n\t\t\tthis.setup(gantt);\n\t\t}\n\t}\n};\n\nfunction activate(){\n\tgantt._cached_functions.update_if_changed(gantt);\n\tif(!gantt._cached_functions.active){\n\t\tgantt._cached_functions.activate();\n\t}\n\treturn true;\n}\ngantt.attachEvent(\"onBeforeGanttRender\", activate);\ngantt.attachEvent(\"onBeforeDataRender\", activate);\ngantt.attachEvent(\"onBeforeSmartRender\",  function(){\n\tactivate();\n});\ngantt.attachEvent(\"onBeforeParse\", activate);\ngantt.attachEvent(\"onDataRender\", function(){\n\tgantt._cached_functions.deactivate();\n});\nvar deactivTimeout = null;\ngantt.attachEvent(\"onSmartRender\", function(){\n\tif(deactivTimeout)\n\t\tclearTimeout(deactivTimeout);\n\tdeactivTimeout = setTimeout(function(){\n\t\tgantt._cached_functions.deactivate();\n\t}, 1000);\n});\n\ngantt.attachEvent(\"onBeforeGanttReady\", function(){\n\tgantt._cached_functions.update_if_changed(gantt);\n\treturn true;\n});\n\n};","module.exports = function(gantt) {\n\n\tgantt.getTaskType = function (type) {\n\t\treturn \"task\";\n\t};\n};","module.exports = function(gantt) {\n\n\tgantt._extend_to_optional = function (lightbox_block) {\n\n\t\tvar duration = lightbox_block;\n\t\tvar optional_time = {\n\t\t\trender: duration.render,\n\t\t\tfocus: duration.focus,\n\t\t\tset_value: function (node, value, task, section) {\n\t\t\t\tvar mapping = gantt._resolve_default_mapping(section);\n\t\t\t\tif (!task[mapping.start_date] || (mapping.start_date == \"start_date\" && this._isAllowedUnscheduledTask(task))) {\n\t\t\t\t\toptional_time.disable(node, section);\n\t\t\t\t\tvar val = {};\n\n\t\t\t\t\tfor (var i in mapping) {\n\t\t\t\t\t\t//take default values from the time control from task start/end dates\n\t\t\t\t\t\tval[mapping[i]] = task[i];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn duration.set_value.call(gantt, node, value, val, section);//set default value\n\t\t\t\t} else {\n\t\t\t\t\toptional_time.enable(node, section);\n\t\t\t\t\treturn duration.set_value.call(gantt, node, value, task, section);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget_value: function (node, task, section) {\n\t\t\t\tif (section.disabled) {\n\t\t\t\t\treturn {start_date: null};\n\t\t\t\t} else {\n\t\t\t\t\treturn duration.get_value.call(gantt, node, task, section);\n\t\t\t\t}\n\t\t\t},\n\t\t\tupdate_block: function (node, section) {\n\t\t\t\tgantt.callEvent(\"onSectionToggle\", [gantt._lightbox_id, section]);\n\t\t\t\tnode.style.display = section.disabled ? \"none\" : \"block\";\n\n\t\t\t\tif (section.button) {\n\t\t\t\t\tvar button = node.previousSibling.querySelector(\".gantt_custom_button_label\"),\n\t\t\t\t\t\tlabels = gantt.locale.labels;\n\n\t\t\t\t\tvar button_text = section.disabled ? labels[section.name + \"_enable_button\"] : labels[section.name + \"_disable_button\"];\n\n\t\t\t\t\tbutton.innerHTML = button_text;\n\t\t\t\t}\n\t\t\t\tgantt.resizeLightbox();\n\t\t\t},\n\t\t\tdisable: function (node, section) {\n\t\t\t\tsection.disabled = true;\n\t\t\t\toptional_time.update_block(node, section);\n\n\t\t\t},\n\t\t\tenable: function (node, section) {\n\t\t\t\tsection.disabled = false;\n\t\t\t\toptional_time.update_block(node, section);\n\t\t\t},\n\t\t\tbutton_click: function (index, el, section, container) {\n\t\t\t\tif (gantt.callEvent(\"onSectionButton\", [gantt._lightbox_id, section]) === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar config = gantt._get_typed_lightbox_config()[index];\n\t\t\t\tif (config.disabled) {\n\t\t\t\t\toptional_time.enable(container, config);\n\t\t\t\t} else {\n\t\t\t\t\toptional_time.disable(container, config);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn optional_time;\n\t};\n\n\tgantt.form_blocks.duration_optional = gantt._extend_to_optional(gantt.form_blocks.duration);\n\tgantt.form_blocks.time_optional = gantt._extend_to_optional(gantt.form_blocks.time);\n\n};","var __extends = require(\"../../../utils/extends\");\nvar htmlHelpers = require(\"../../../utils/html_helpers\");\n\nmodule.exports = function (gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction ConstraintControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(ConstraintControl, _super);\n\n\tfunction isNonTimedConstraint(value) {\n\t\tif (!value || value === gantt.config.constraint_types.ASAP || value === gantt.config.constraint_types.ALAP) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction toggleTimeSelect(timeSelects, typeValue) {\n\t\tvar isNonTimed = isNonTimedConstraint(typeValue);\n\t\tfor (var i = 0; i < timeSelects.length; i++) {\n\t\t\ttimeSelects[i].disabled = isNonTimed;\n\t\t}\n\t}\n\n\tConstraintControl.prototype.render = function (sns) {\n\t\tvar height = (sns.height || 30) + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext gantt_section_\" + sns.name + \"' style='height:\" + height + \";'>\";\n\n\t\tvar options = [];\n\t\tfor (var i in gantt.config.constraint_types) {\n\t\t\toptions.push({ key: gantt.config.constraint_types[i], label: gantt.locale.labels[gantt.config.constraint_types[i]] });\n\t\t}\n\n\t\tsns.options = sns.options || options;\n\n\t\thtml += \"<span data-constraint-type-select>\" + htmlHelpers.getHtmlSelect(sns.options, [{ key: \"data-type\", value: \"constraint-type\" }]) + \"</span>\";\n\n\t\tvar timeLabel = gantt.locale.labels[\"constraint_date\"] || \"Constraint date\";\n\t\thtml += \"<label data-constraint-time-select>\" + timeLabel + \": \" + gantt.form_blocks.getTimePicker.call(this, sns) + \"</label>\";\n\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tConstraintControl.prototype.set_value = function (node, value, task, config) {\n\t\tvar typeSelect = node.querySelector(\"[data-constraint-type-select] select\");\n\t\tvar timeSelects = node.querySelectorAll(\"[data-constraint-time-select] select\");\n\t\tvar map = config._time_format_order;\n\n\t\tvar mapping = gantt._resolve_default_mapping(config);\n\n\t\tif (!typeSelect._eventsInitialized) {\n\t\t\ttypeSelect.addEventListener(\"input\", function (e) {\n\t\t\t\ttoggleTimeSelect(timeSelects, e.target.value);\n\t\t\t});\n\t\t\ttypeSelect._eventsInitialized = true;\n\t\t}\n\n\t\tvar constraintDate = task[mapping.constraint_date] || new Date();\n\t\tgantt.form_blocks._fill_lightbox_select(timeSelects, 0, constraintDate, map, config);\n\n\t\tvar constraintType = task[mapping.constraint_type] || gantt.getConstraintType(task);\n\t\ttypeSelect.value = constraintType;\n\t\ttoggleTimeSelect(timeSelects, constraintType);\n\t};\n\n\tConstraintControl.prototype.get_value = function (node, task, config) {\n\t\tvar typeSelect = node.querySelector(\"[data-constraint-type-select] select\");\n\t\tvar timeSelects = node.querySelectorAll(\"[data-constraint-time-select] select\");\n\n\t\tvar constraintType = typeSelect.value;\n\t\tvar constraintDate = null;\n\t\tif (!isNonTimedConstraint(constraintType)) {\n\t\t\tconstraintDate = gantt.form_blocks.getTimePickerValue(timeSelects, config);\n\t\t}\n\n\t\treturn {\n\t\t\tconstraint_type: constraintType,\n\t\t\tconstraint_date: constraintDate\n\t\t};\n\t};\n\n\tConstraintControl.prototype.focus = function (node) {\n\t\tgantt._focus(node.querySelector(\"select\"));\n\t};\n\n\treturn ConstraintControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./select_control\")(gantt);\n\n\tfunction ParentControl() {\n\t\tvar self = _super.apply(this, arguments) || this; \n\n\t\treturn self; \n\t}\n\n\t__extends(ParentControl, _super);\n\n\n\tParentControl.prototype.render = function(sns) {\n\t\treturn _display(sns, false);\n\t};\n\n\tParentControl.prototype.set_value = function(node, value, ev, config) {\n\t\tvar tmpDom = document.createElement(\"div\");\n\t\ttmpDom.innerHTML = _display(config, ev.id);\n\t\tvar newOptions = tmpDom.removeChild(tmpDom.firstChild);\n\t\tnode.onselect = null;\n\t\tnode.parentNode.replaceChild(newOptions, node);\n\n\t\treturn gantt.form_blocks.select.set_value.apply(gantt, [newOptions, value, ev, config]);\n\t};\n\n\tfunction _display(config, item_id) {\n\t\tvar tasks = [],\n\t\t\toptions = [];\n\t\tif (item_id) {\n\t\t\ttasks = gantt.getTaskByTime();\n\t\t\tif (config.allow_root) {\n\t\t\t\ttasks.unshift({id: gantt.config.root_id, text: config.root_label || \"\"});\n\t\t\t}\n\t\t\ttasks = _filter(tasks, config, item_id);\n\t\t\tif (config.sort) {\n\t\t\t\ttasks.sort(config.sort);\n\t\t\t}\n\t\t}\n\t\tvar text = config.template || gantt.templates.task_text;\n\t\tfor (var i = 0; i < tasks.length; i++) {\n\t\t\tvar label = text.apply(gantt, [tasks[i].start_date, tasks[i].end_date, tasks[i]]);\n\t\t\tif (label === undefined) {\n\t\t\t\tlabel = \"\";\n\t\t\t}\n\t\t\toptions.push({\n\t\t\t\tkey: tasks[i].id,\n\t\t\t\tlabel: label\n\t\t\t});\n\t\t}\n\t\tconfig.options = options;\n\t\tconfig.map_to = config.map_to || \"parent\";\n\t\treturn gantt.form_blocks.select.render.apply(this, arguments);\n\t}\n\n\tfunction _filter(options, config, item_id) {\n\t\tvar filter = config.filter || function() {\n\t\t\treturn true;\n\t\t};\n\n\t\toptions = options.slice(0);\n\n\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\tvar task = options[i];\n\t\t\tif (task.id == item_id || gantt.isChildOf(task.id, item_id) || filter(task.id, task) === false) {\n\t\t\t\toptions.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\treturn options;\n\t}\n\treturn ParentControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction DurationControl() {\n\t\tvar self = _super.apply(this, arguments) || this; \n\n\t\treturn self; \n\t}\n\n\t__extends(DurationControl, _super);\n\n\tDurationControl.prototype.render = function(sns) {\n\t\tvar time = \"<div class='gantt_time_selects'>\" + gantt.form_blocks.getTimePicker.call(this, sns) + \"</div>\";\n\t\tvar label = gantt.locale.labels[gantt.config.duration_unit + \"s\"];\n\t\tvar singleDate = sns.single_date ? \" style='display:none'\" : \"\";\n\t\tvar readonly = sns.readonly ? \" disabled='disabled'\" : \"\";\n\t\tvar ariaAttr = gantt._waiAria.lightboxDurationInputAttrString(sns);\n\t\tvar duration = \"<div class='gantt_duration' \" + singleDate + \">\" +\n\t\t\t\"<input type='button' class='gantt_duration_dec' value=''\" + readonly + \">\" +\n\t\t\t\"<input type='text' value='5' class='gantt_duration_value'\" + readonly + \" \" + ariaAttr + \">\" +\n\t\t\t\"<input type='button' class='gantt_duration_inc' value='+'\" + readonly + \"> \" + label + \" <span></span>\" +\n\t\t\t\"</div>\";\n\t\tvar html = \"<div style='height:\" + (sns.height || 30) + \"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>\" + time + \" \" + duration + \"</div>\";\n\t\treturn html;\n\t};\n\n\tDurationControl.prototype.set_value = function(node, value, ev, config) {\n\t\tvar cfg = config;\n\t\tvar s = node.getElementsByTagName(\"select\");\n\t\tvar inps = node.getElementsByTagName(\"input\");\n\t\tvar duration = inps[1];\n\t\tvar btns = [inps[0], inps[2]];\n\t\tvar endspan = node.getElementsByTagName(\"span\")[0];\n\t\tvar map = config._time_format_order;\n\t\tvar mapping;\n\t\tvar start_date;\n\t\tvar end_date;\n\t\tvar duration_val;\n\n\t\tfunction _calc_date() {\n\t\t\tvar start_date = _getStartDate.call(gantt, node, config);\n\t\t\tvar duration = _getDuration.call(gantt, node, config);\n\t\t\tvar end_date = gantt.calculateEndDate({start_date: start_date, duration: duration, task: ev});\n\n\t\t\tendspan.innerHTML = gantt.templates.task_date(end_date);\n\t\t}\n\n\t\tfunction _change_duration(step) {\n\t\t\tvar value = duration.value;\n\n\t\t\tvalue = parseInt(value, 10);\n\t\t\tif (window.isNaN(value))\n\t\t\t\tvalue = 0;\n\t\t\tvalue += step;\n\t\t\tif (value < 1) value = 1;\n\t\t\tduration.value = value;\n\t\t\t_calc_date();\n\t\t}\n\n\t\tbtns[0].onclick = gantt.bind(function() {\n\t\t\t_change_duration(-1 * gantt.config.duration_step);\n\t\t}, this);\n\t\tbtns[1].onclick = gantt.bind(function() {\n\t\t\t_change_duration(1 * gantt.config.duration_step);\n\t\t}, this);\n\t\ts[0].onchange = _calc_date;\n\t\ts[1].onchange = _calc_date;\n\t\ts[2].onchange = _calc_date;\n\t\tif (s[3]) s[3].onchange = _calc_date;\n\n\t\tduration.onkeydown = gantt.bind(function(e) {\n\t\t\tvar code; \n\n\t\t\te = e || window.event;\n\t\t\tcode = (e.charCode || e.keyCode || e.which);\n\t\t\t\n\t\t\tif (code == gantt.constants.KEY_CODES.DOWN) {\n\t\t\t\t_change_duration(-1 * gantt.config.duration_step);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (code == gantt.constants.KEY_CODES.UP) {\n\t\t\t\t_change_duration(1 * gantt.config.duration_step);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\twindow.setTimeout(_calc_date, 1);\n\t\t}, this);\n\n\t\tduration.onchange = gantt.bind(_calc_date, this);\n\n\t\tmapping = gantt._resolve_default_mapping(config);\n\t\tif (typeof(mapping) === \"string\") mapping = {start_date: mapping};\n\n\t\tstart_date = ev[mapping.start_date] || new Date();\n\t\tend_date = ev[mapping.end_date] || gantt.calculateEndDate({\n\t\t\tstart_date: start_date,\n\t\t\tduration: 1,\n\t\t\ttask: ev\n\t\t});\n\t\tduration_val = Math.round(ev[mapping.duration]) || gantt.calculateDuration({\n\t\t\tstart_date: start_date,\n\t\t\tend_date: end_date,\n\t\t\ttask: ev\n\t\t});\n\n\t\tgantt.form_blocks._fill_lightbox_select(s, 0, start_date, map, cfg);\n\t\tduration.value = duration_val;\n\t\t_calc_date();\n\t};\n\n\tDurationControl.prototype.get_value = function(node, ev, config) {\n\t\tvar startDate = _getStartDate(node, config);\n\t\tvar duration = _getDuration(node, config);\n\t\tvar endDate = gantt.calculateEndDate({start_date: startDate, duration: duration, task: ev});\n\n\t\tif (typeof gantt._resolve_default_mapping(config) == \"string\") {\n\t\t\treturn startDate;\n\t\t}\n\n\t\treturn {\n\t\t\tstart_date: startDate,\n\t\t\tend_date: endDate,\n\t\t\tduration: duration\n\t\t};\n\t};\n\n\tDurationControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.getElementsByTagName(\"select\")[0]);\n\t};\n\n\n\tfunction _getStartDate(node, config) {\n\t\tvar s = node.getElementsByTagName(\"select\");\n\t\tvar map = config._time_format_order;\n\t\tvar hours = 0;\n\t\tvar minutes = 0;\n\n\t\tif (gantt.defined(map[3])) {\n\t\t\tvar input = s[map[3]];\n\t\t\tvar time = parseInt(input.value, 10);\n\t\t\tif (isNaN(time) && input.hasAttribute(\"data-value\")) {\n\t\t\t\ttime = parseInt(input.getAttribute(\"data-value\"), 10);\n\t\t\t}\n\n\t\t\thours = Math.floor(time / 60);\n\t\t\tminutes = time % 60;\n\t\t}\n\t\treturn new Date(s[map[2]].value, s[map[1]].value, s[map[0]].value, hours, minutes);\n\t}\n\n\tfunction _getDuration(node) {\n\t\tvar duration = node.getElementsByTagName(\"input\")[1];\n\n\t\tduration = parseInt(duration.value, 10);\n\t\tif (!duration || window.isNaN(duration)) duration = 1;\n\t\tif (duration < 0) duration *= -1;\n\t\treturn duration;\n\t}\n\n\n\treturn DurationControl; \n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction RadioControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self; \n\t}\n\n\t__extends(RadioControl, _super);\n\n\tRadioControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"23\") + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext' style='height:\" + height + \";'>\";\n\n\t\tif (sns.options && sns.options.length) {\n\t\t\tfor (var i = 0; i < sns.options.length; i++) {\n\t\t\t\thtml += \"<label><input type='radio' value='\" + sns.options[i].key + \"' name='\" + sns.name + \"'>\" + sns.options[i].label + \"</label>\";\n\t\t\t}\n\t\t}\n\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tRadioControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar radio;\n\n\t\tif (!sns.options || !sns.options.length) return;\n\n\t\tradio = node.querySelector(\"input[type=radio][value='\" + value + \"']\") ||\n\t\t\t\tnode.querySelector(\"input[type=radio][value='\" + sns.default_value + \"']\");\n\n\t\tif (!radio) return;\n\n\t\tif (!node._dhx_onchange && sns.onchange) {\n\t\t\tnode.onchange = sns.onchange;\n\t\t\tnode._dhx_onchange = true;\n\t\t}\n\n\t\tradio.checked = true;\n\t};\n\n\tRadioControl.prototype.get_value = function(node, ev) {\n\t\tvar result = node.querySelector(\"input[type=radio]:checked\");\n\n\t\treturn result ? result.value : \"\";\n\t};\n\n\tRadioControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.querySelector(\"input[type=radio]\"));\n\t};\n\n\treturn RadioControl;\n};","var helpers = require(\"../../../utils/helpers\");\nvar __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction CheckboxControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self; \n\t}\n\n\t__extends(CheckboxControl, _super);\n\n\tCheckboxControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"23\") + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext' style='height:\" + height + \";'>\";\n\n\t\tif (sns.options && sns.options.length) {\n\t\t\tfor (var i = 0; i < sns.options.length; i++) {\n\t\t\t\thtml += \"<label><input type='checkbox' value='\" + sns.options[i].key + \"' name='\" + sns.name + \"'>\" + sns.options[i].label + \"</label>\";\n\t\t\t}\n\t\t}\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tCheckboxControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar checkboxes = Array.prototype.slice.call(node.querySelectorAll(\"input[type=checkbox]\"));\n\n\t\tif (!node._dhx_onchange && sns.onchange) {\n\t\t\tnode.onchange = sns.onchange;\n\t\t\tnode._dhx_onchange = true;\n\t\t}\n\n\t\thelpers.forEach(checkboxes, function(entry) {\n\t\t\tentry.checked = value ? value.indexOf(entry.value) >= 0 : false;\n\t\t});\n\t};\n\n\tCheckboxControl.prototype.get_value = function(node) {\n\t\treturn helpers.arrayMap(Array.prototype.slice.call(node.querySelectorAll(\"input[type=checkbox]:checked\")), function(entry) {\n\t\t\treturn entry.value;\n\t\t});\n\t};\n\n\tCheckboxControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.querySelector(\"input[type=checkbox]\"));\n\t};\n\n\treturn CheckboxControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function (gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction TimeControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self;\n\t}\n\n\t__extends(TimeControl, _super);\n\n\tTimeControl.prototype.render = function (sns) {\n\t\tvar time = gantt.form_blocks.getTimePicker.call(this, sns);\n\t\tvar html = \"<div style='height:\" + (sns.height || 30) + \"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>\";\n\t\thtml += time;\n\n\t\tif (sns.single_date) {\n\t\t\ttime = gantt.form_blocks.getTimePicker.call(this, sns, true);\n\t\t\thtml += \"<span></span>\";\n\t\t} else {\n\t\t\thtml += \"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>\";\n\t\t}\n\n\t\thtml += time;\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tTimeControl.prototype.set_value = function (node, value, ev, config) {\n\t\tvar cfg = config;\n\t\tvar s = node.getElementsByTagName(\"select\");\n\t\tvar map = config._time_format_order;\n\n\t\tif (cfg.auto_end_date) {\n\t\t\tvar _update_lightbox_select = function () {\n\t\t\t\tstart_date = new Date(s[map[2]].value, s[map[1]].value, s[map[0]].value, 0, 0);\n\t\t\t\tend_date = gantt.calculateEndDate({ start_date: start_date, duration: 1, task: ev });\n\t\t\t\tgantt.form_blocks._fill_lightbox_select(s, map.size, end_date, map, cfg);\n\t\t\t};\n\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\ts[i].onchange = _update_lightbox_select;\n\t\t\t}\n\t\t}\n\n\t\tvar mapping = gantt._resolve_default_mapping(config);\n\n\t\tif (typeof (mapping) === \"string\") mapping = { start_date: mapping };\n\n\t\tvar start_date = ev[mapping.start_date] || new Date();\n\t\tvar end_date = ev[mapping.end_date] || gantt.calculateEndDate({\n\t\t\tstart_date: start_date,\n\t\t\tduration: 1,\n\t\t\ttask: ev\n\t\t});\n\n\t\tgantt.form_blocks._fill_lightbox_select(s, 0, start_date, map, cfg);\n\t\tgantt.form_blocks._fill_lightbox_select(s, map.size, end_date, map, cfg);\n\t};\n\n\tTimeControl.prototype.get_value = function (node, ev, config) {\n\t\tvar selects = node.getElementsByTagName(\"select\");\n\t\tvar startDate;\n\t\tvar map = config._time_format_order;\n\t\tfunction _getEndDate(selects, map, startDate) {\n\t\t\tvar endDate = gantt.form_blocks.getTimePickerValue(selects, config, map.size);\n\n\t\t\tif (endDate <= startDate) {\n\t\t\t\treturn gantt.date.add(startDate, gantt._get_timepicker_step(), \"minute\");\n\t\t\t}\n\t\t\treturn endDate;\n\t\t}\n\n\t\tstartDate = gantt.form_blocks.getTimePickerValue(selects, config);\n\n\t\tif (typeof gantt._resolve_default_mapping(config) === \"string\") {\n\t\t\treturn startDate;\n\t\t}\n\n\t\treturn {\n\t\t\tstart_date: startDate,\n\t\t\tend_date: _getEndDate(selects, map, startDate)\n\t\t};\n\t};\n\n\tTimeControl.prototype.focus = function (node) {\n\t\tgantt._focus(node.getElementsByTagName(\"select\")[0]);\n\t};\n\n\treturn TimeControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction TextareaControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self; \n\t}\n\n\t__extends(TextareaControl, _super);\n\n\tTextareaControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"130\") + \"px\";\n\t\treturn \"<div class='gantt_cal_ltext' style='height:\" + height + \";'><textarea></textarea></div>\";\n\t};\n\n\tTextareaControl.prototype.set_value = function(node, value) {\n\t\tgantt.form_blocks.textarea._get_input(node).value = value || \"\";\n\t};\n\n\tTextareaControl.prototype.get_value = function(node) {\n\t\treturn gantt.form_blocks.textarea._get_input(node).value;\n\t};\n\n\tTextareaControl.prototype.focus = function(node) {\n\t\tvar a = gantt.form_blocks.textarea._get_input(node);\n\t\tgantt._focus(a, true);\n\t};\n\n\tTextareaControl.prototype._get_input = function(node) {\n\t\treturn node.querySelector(\"textarea\");\n\t};\n\n\treturn TextareaControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction TemplateControl() {\n\t\tvar self = _super.apply(this, arguments) || this; \n\t\treturn self; \n\t}\n\n\t__extends(TemplateControl, _super);\n\n\n\tTemplateControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"30\") + \"px\";\n\t\treturn \"<div class='gantt_cal_ltext gantt_cal_template' style='height:\" + height + \";'></div>\";\n\t};\n\n\tTemplateControl.prototype.set_value = function(node, value) {\n\t\tnode.innerHTML = value || \"\";\n\t};\n\n\tTemplateControl.prototype.get_value = function(node) {\n\t\treturn node.innerHTML || \"\";\n\t};\n\n\tTemplateControl.prototype.focus = function() {};\n\n\treturn TemplateControl;\n};","module.exports = function (gantt) {\n\tvar domHelpers = require(\"../../utils/dom_helpers\");\n\tvar helpers = require(\"../../utils/helpers\");\n\n\tvar TemplateControl = require(\"./controls/template_control\")(gantt);\n\tvar TextareaControl = require(\"./controls/textarea_control\")(gantt);\n\tvar TimeControl = require(\"./controls/time_control\")(gantt);\n\tvar SelectControl = require(\"./controls/select_control\")(gantt);\n\tvar CheckboxControl = require(\"./controls/checkbox_control\")(gantt);\n\tvar RadioControl = require(\"./controls/radio_control\")(gantt);\n\tvar DurationControl = require(\"./controls/duration_control\")(gantt);\n\tvar ParentControl = require(\"./controls/parent_control\")(gantt);\n\tvar ResourcesControl = require(\"./controls/resources_control\")(gantt);\n\tvar ConstraintControl = require(\"./controls/constraint_control\")(gantt);\n\n\n\tgantt._lightbox_methods = {};\n\tgantt._lightbox_template = \"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>\";\n\n\n\t//TODO: gantt._lightbox_id is changed from data.js and accessed from autoscheduling, check if it can be removed from gantt object\n\tvar state = gantt.$services.getService(\"state\");\n\tstate.registerProvider(\"lightbox\", function () {\n\t\treturn {\n\t\t\tlightbox: gantt._lightbox_id\n\t\t};\n\t});\n\n\tgantt.showLightbox = function (id) {\n\t\tif (!id || gantt.isReadonly(this.getTask(id))) return;\n\t\tif (!this.callEvent(\"onBeforeLightbox\", [id])) return;\n\n\t\tvar task = this.getTask(id);\n\n\t\tvar box = this.getLightbox(this.getTaskType(task.type));\n\t\tthis._center_lightbox(box);\n\t\tthis.showCover();\n\t\tthis._fill_lightbox(id, box);\n\n\t\tthis._waiAria.lightboxVisibleAttr(box);\n\n\t\tthis.callEvent(\"onLightbox\", [id]);\n\t};\n\n\tfunction _is_chart_visible(gantt) {\n\t\tvar timeline = gantt.$ui.getView(\"timeline\");\n\t\tif (timeline && timeline.isVisible()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tgantt._get_timepicker_step = function () {\n\t\tif (this.config.round_dnd_dates) {\n\t\t\tvar step;\n\t\t\tif (_is_chart_visible(this)) {\n\t\t\t\tvar scale = gantt.getScale();\n\t\t\t\tstep = (helpers.getSecondsInUnit(scale.unit) * scale.step) / 60;//timepicker step is measured in minutes\n\t\t\t}\n\n\t\t\tif (!step || step >= 60 * 24) {\n\t\t\t\tstep = this.config.time_step;\n\t\t\t}\n\t\t\treturn step;\n\t\t}\n\t\treturn this.config.time_step;\n\t};\n\tgantt.getLabel = function (property, key) {\n\t\tvar sections = this._get_typed_lightbox_config();\n\t\tfor (var i = 0; i < sections.length; i++) {\n\t\t\tif (sections[i].map_to == property) {\n\t\t\t\tvar options = sections[i].options;\n\t\t\t\tfor (var j = 0; j < options.length; j++) {\n\t\t\t\t\tif (options[j].key == key) {\n\t\t\t\t\t\treturn options[j].label;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t};\n\n\tgantt.updateCollection = function (list_name, collection) {\n\t\tcollection = collection.slice(0);\n\t\tvar list = gantt.serverList(list_name);\n\t\tif (!list) return false;\n\t\tlist.splice(0, list.length);\n\t\tlist.push.apply(list, collection || []);\n\t\tgantt.resetLightbox();\n\t};\n\tgantt.getLightboxType = function () {\n\t\treturn this.getTaskType(this._lightbox_type);\n\t};\n\tgantt.getLightbox = function (type) {\n\t\tvar lightboxDiv;\n\t\tvar fullWidth;\n\t\tvar html;\n\t\tvar sns;\n\t\tvar ds;\n\t\tvar classNames = \"\";\n\n\t\tif (type === undefined)\n\t\t\ttype = this.getLightboxType();\n\n\t\tif (!this._lightbox || this.getLightboxType() != this.getTaskType(type)) {\n\t\t\tthis._lightbox_type = this.getTaskType(type);\n\t\t\tlightboxDiv = document.createElement(\"div\");\n\t\t\tclassNames = \"gantt_cal_light\";\n\t\t\tfullWidth = this._is_lightbox_timepicker();\n\n\t\t\tif (gantt.config.wide_form || fullWidth)\n\t\t\t\tclassNames += \" gantt_cal_light_wide\";\n\n\t\t\tif (fullWidth) {\n\t\t\t\tgantt.config.wide_form = true;\n\t\t\t\tclassNames += \" gantt_cal_light_full\";\n\t\t\t}\n\n\t\t\tlightboxDiv.className = classNames;\n\n\t\t\tlightboxDiv.style.visibility = \"hidden\";\n\t\t\thtml = this._lightbox_template;\n\n\t\t\thtml += getHtmlButtons(this.config.buttons_left);\n\t\t\thtml += getHtmlButtons(this.config.buttons_right, true);\n\n\t\t\tlightboxDiv.innerHTML = html;\n\n\t\t\tgantt._waiAria.lightboxAttr(lightboxDiv);\n\n\t\t\tif (gantt.config.drag_lightbox) {\n\t\t\t\tlightboxDiv.firstChild.onmousedown = gantt._ready_to_dnd;\n\t\t\t\tlightboxDiv.firstChild.onselectstart = function () {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t\tlightboxDiv.firstChild.style.cursor = \"pointer\";\n\t\t\t\tgantt._init_dnd_events();\n\t\t\t}\n\n\t\t\tdocument.body.insertBefore(lightboxDiv, document.body.firstChild);\n\t\t\tthis._lightbox = lightboxDiv;\n\n\t\t\tsns = this._get_typed_lightbox_config(type);\n\t\t\thtml = this._render_sections(sns);\n\n\t\t\tds = lightboxDiv.querySelector(\"div.gantt_cal_larea\");\n\t\t\tds.innerHTML = html;\n\n\t\t\tbindLabelsToInputs(sns);\n\n\t\t\t//sizes\n\t\t\tthis.resizeLightbox();\n\n\t\t\tthis._init_lightbox_events(this);\n\t\t\tlightboxDiv.style.display = \"none\";\n\t\t\tlightboxDiv.style.visibility = \"visible\";\n\t\t}\n\t\treturn this._lightbox;\n\t};\n\n\tgantt._render_sections = function (sns) {\n\t\tvar html = \"\";\n\t\tfor (var i = 0; i < sns.length; i++) {\n\t\t\tvar block = this.form_blocks[sns[i].type];\n\t\t\tif (!block) continue; //ignore incorrect blocks\n\t\t\tsns[i].id = \"area_\" + this.uid();\n\n\t\t\tvar display = sns[i].hidden ? \" style='display:none'\" : \"\";\n\t\t\tvar button = \"\";\n\t\t\tif (sns[i].button) {\n\t\t\t\tbutton = \"<div class='gantt_custom_button' data-index='\" + i + \"'><div class='gantt_custom_button_\" + sns[i].button + \"'></div><div class='gantt_custom_button_label'>\" + this.locale.labels[\"button_\" + sns[i].button] + \"</div></div>\";\n\t\t\t}\n\t\t\tif (this.config.wide_form) {\n\t\t\t\thtml += \"<div class='gantt_wrap_section' \" + display + \">\";\n\t\t\t}\n\t\t\thtml += \"<div id='\" + sns[i].id + \"' class='gantt_cal_lsection'><label>\" + button + this.locale.labels[\"section_\" + sns[i].name] + \"</label></div>\" + block.render.call(this, sns[i]);\n\t\t\thtml += \"</div>\";\n\t\t}\n\t\treturn html;\n\t};\n\n\n\tgantt.resizeLightbox = function () {\n\t\tif (!this._lightbox) return;\n\n\t\tvar con = this._lightbox.childNodes[1];\n\t\tcon.style.height = \"0px\";\n\t\tcon.style.height = con.scrollHeight + \"px\";\n\t\tthis._lightbox.style.height = con.scrollHeight + this.config.lightbox_additional_height + \"px\";\n\t\tcon.style.height = con.scrollHeight + \"px\"; //it is incredible , how ugly IE can be\n\t};\n\n\tgantt._center_lightbox = function (box) {\n\t\tif (box) {\n\t\t\tbox.style.display = \"block\";\n\n\t\t\tvar scroll_top = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n\t\t\tvar scroll_left = window.pageXOffset || document.body.scrollLeft || document.documentElement.scrollLeft;\n\n\t\t\tvar view_height = window.innerHeight || document.documentElement.clientHeight;\n\n\t\t\tif (scroll_top) // if vertical scroll on window\n\t\t\t\tbox.style.top = Math.round(scroll_top + Math.max((view_height - box.offsetHeight) / 2, 0)) + \"px\";\n\t\t\telse // vertical scroll on body\n\t\t\t\tbox.style.top = Math.round(Math.max(((view_height - box.offsetHeight) / 2), 0) + 9) + \"px\"; // +9 for compatibility with auto tests\n\n\t\t\t// not quite accurate but used for compatibility reasons\n\t\t\tif (document.documentElement.scrollWidth > document.body.offsetWidth) // if horizontal scroll on the window\n\t\t\t\tbox.style.left = Math.round(scroll_left + (document.body.offsetWidth - box.offsetWidth) / 2) + \"px\";\n\t\t\telse // horizontal scroll on the body\n\t\t\t\tbox.style.left = Math.round((document.body.offsetWidth - box.offsetWidth) / 2) + \"px\";\n\t\t}\n\t};\n\tgantt.showCover = function () {\n\t\tif (this._cover) return;\n\n\t\tthis._cover = document.createElement(\"DIV\");\n\t\tthis._cover.className = \"gantt_cal_cover\";\n\t\tvar _document_height = ((document.height !== undefined) ? document.height : document.body.offsetHeight);\n\t\tvar _scroll_height = ((document.documentElement) ? document.documentElement.scrollHeight : 0);\n\t\tthis._cover.style.height = Math.max(_document_height, _scroll_height) + \"px\";\n\t\tdocument.body.appendChild(this._cover);\n\t};\n\n\n\tgantt._init_lightbox_events = function () {\n\t\tgantt.lightbox_events = {};\n\n\n\t\tgantt.lightbox_events.gantt_save_btn = function () {\n\t\t\tgantt._save_lightbox();\n\t\t};\n\n\n\t\tgantt.lightbox_events.gantt_delete_btn = function () {\n\t\t\tif (!gantt.callEvent(\"onLightboxDelete\", [gantt._lightbox_id]))\n\t\t\t\treturn;\n\n\t\t\tif (gantt.isTaskExists(gantt._lightbox_id)) {\n\t\t\t\tgantt.$click.buttons[\"delete\"](gantt._lightbox_id);\n\t\t\t} else {\n\t\t\t\tgantt.hideLightbox();\n\t\t\t}\n\n\t\t};\n\n\n\t\tgantt.lightbox_events.gantt_cancel_btn = function () {\n\t\t\tgantt._cancel_lightbox();\n\t\t};\n\n\n\t\tgantt.lightbox_events[\"default\"] = function (e, src) {\n\t\t\tif (src.getAttribute(\"data-dhx-button\")) {\n\t\t\t\tgantt.callEvent(\"onLightboxButton\", [src.className, src, e]);\n\t\t\t} else {\n\t\t\t\tvar index, block, sec;\n\n\t\t\t\tvar className = domHelpers.getClassName(src);\n\t\t\t\tif (className.indexOf(\"gantt_custom_button\") != -1) {\n\t\t\t\t\tif (className.indexOf(\"gantt_custom_button_\") != -1) {\n\t\t\t\t\t\tindex = src.parentNode.getAttribute(\"data-index\");\n\t\t\t\t\t\tsec = src;\n\t\t\t\t\t\twhile (sec && domHelpers.getClassName(sec).indexOf(\"gantt_cal_lsection\") == -1) {\n\t\t\t\t\t\t\tsec = sec.parentNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindex = src.getAttribute(\"data-index\");\n\t\t\t\t\t\tsec = src.parentNode;\n\t\t\t\t\t\tsrc = src.firstChild;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar sections = gantt._get_typed_lightbox_config();\n\n\t\t\t\tif (index) {\n\t\t\t\t\tindex = index * 1;\n\t\t\t\t\tblock = gantt.form_blocks[sections[index * 1].type];\n\t\t\t\t\tblock.button_click(index, src, sec, sec.nextSibling);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tthis.event(gantt.getLightbox(), \"click\", function (e) {\n\t\t\te = e || window.event;\n\t\t\tvar src = e.target ? e.target : e.srcElement;\n\n\t\t\tvar className = domHelpers.getClassName(src);\n\t\t\tif (!className) {\n\t\t\t\tsrc = src.previousSibling;\n\t\t\t\tclassName = domHelpers.getClassName(src);\n\t\t\t}\n\t\t\tif (src && className && className.indexOf(\"gantt_btn_set\") === 0) {\n\t\t\t\tsrc = src.firstChild;\n\t\t\t\tclassName = domHelpers.getClassName(src);\n\t\t\t}\n\t\t\tif (src && className) {\n\t\t\t\tvar func = gantt.defined(gantt.lightbox_events[src.className]) ? gantt.lightbox_events[src.className] : gantt.lightbox_events[\"default\"];\n\t\t\t\treturn func(e, src);\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\n\t\tgantt.getLightbox().onkeydown = function (e) {\n\t\t\tvar event = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\t\t\tvar buttonTarget = domHelpers.getClassName(target).indexOf(\"gantt_btn_set\") > -1;\n\n\t\t\tswitch ((e || event).keyCode) {\n\t\t\t\tcase gantt.constants.KEY_CODES.SPACE: {\n\t\t\t\t\tif ((e || event).shiftKey) return;\n\t\t\t\t\tif (buttonTarget && target.click) {\n\t\t\t\t\t\ttarget.click();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase gantt.keys.edit_save:\n\t\t\t\t\tif ((e || event).shiftKey) return;\n\t\t\t\t\tif (buttonTarget && target.click) {\n\t\t\t\t\t\ttarget.click();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgantt._save_lightbox();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase gantt.keys.edit_cancel:\n\t\t\t\t\tgantt._cancel_lightbox();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t};\n\n\tgantt._cancel_lightbox = function () {\n\t\tvar task = this.getLightboxValues();\n\t\tthis.callEvent(\"onLightboxCancel\", [this._lightbox_id, task.$new]);\n\t\tif (gantt.isTaskExists(task.id) && task.$new) {\n\t\t\tthis.silent(function () {\n\t\t\t\tgantt.$data.tasksStore.removeItem(task.id);\n\t\t\t\tgantt._update_flags(task.id, null);\n\t\t\t});\n\t\t}\n\n\t\tthis.refreshData();\n\t\tthis.hideLightbox();\n\t};\n\n\tgantt._save_lightbox = function () {\n\t\tvar task = this.getLightboxValues();\n\t\tif (!this.callEvent(\"onLightboxSave\", [this._lightbox_id, task, !!task.$new]))\n\t\t\treturn;\n\n\t\tif (task.$new) {\n\t\t\tdelete task.$new;\n\t\t\tthis.addTask(task, task.parent, this.getTaskIndex(task.id));\n\t\t} else if (this.isTaskExists(task.id)) {\n\t\t\tthis.mixin(this.getTask(task.id), task, true);\n\t\t\tthis.refreshTask(task.id);\n\t\t\tthis.updateTask(task.id);\n\t\t}\n\t\tthis.refreshData();\n\n\t\t// TODO: do we need any blockable events here to prevent closing lightbox?\n\t\tthis.hideLightbox();\n\t};\n\n\tgantt._resolve_default_mapping = function (section) {\n\t\tvar mapping = section.map_to;\n\t\tvar time_controls = { \"time\": true, \"time_optional\": true, \"duration\": true, \"duration_optional\": true };\n\t\tif (time_controls[section.type]) {\n\t\t\tif (section.map_to == \"auto\") {\n\t\t\t\tmapping = { start_date: \"start_date\", end_date: \"end_date\", duration: \"duration\" };\n\t\t\t} else if (typeof (section.map_to) === \"string\") {\n\t\t\t\tmapping = { start_date: section.map_to };\n\t\t\t}\n\t\t} else if (section.type === \"constraint\") {\n\t\t\tif (!section.map_to || typeof (section.map_to) === \"string\") {\n\t\t\t\tmapping = { constraint_type: \"constraint_type\", constraint_date: \"constraint_date\" };\n\t\t\t}\n\t\t}\n\n\t\treturn mapping;\n\t};\n\n\tgantt.getLightboxValues = function () {\n\t\tvar task = {};\n\n\t\tif (gantt.isTaskExists(this._lightbox_id)) {\n\t\t\ttask = this.mixin({}, this.getTask(this._lightbox_id));\n\t\t}\n\n\t\tvar sns = this._get_typed_lightbox_config();\n\t\tfor (var i = 0; i < sns.length; i++) {\n\t\t\tvar node = document.getElementById(sns[i].id);\n\t\t\tnode = (node ? node.nextSibling : node);\n\t\t\tvar block = this.form_blocks[sns[i].type];\n\t\t\tif (!block) continue;\n\t\t\tvar res = block.get_value.call(this, node, task, sns[i]);\n\t\t\tvar map_to = gantt._resolve_default_mapping(sns[i]);\n\t\t\tif (typeof map_to == \"string\" && map_to != \"auto\") {\n\t\t\t\ttask[map_to] = res;\n\t\t\t} else if (typeof map_to == \"object\") {\n\t\t\t\tfor (var property in map_to) {\n\t\t\t\t\tif (map_to[property])\n\t\t\t\t\t\ttask[map_to[property]] = res[property];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn task;\n\t};\n\n\n\tgantt.hideLightbox = function () {\n\t\tvar box = this.getLightbox();\n\t\tif (box) box.style.display = \"none\";\n\n\t\tthis._waiAria.lightboxHiddenAttr(box);\n\t\tthis._lightbox_id = null;\n\n\t\tthis.hideCover();\n\t\tthis.callEvent(\"onAfterLightbox\", []);\n\t};\n\tgantt.hideCover = function () {\n\t\tif (this._cover)\n\t\t\tthis._cover.parentNode.removeChild(this._cover);\n\t\tthis._cover = null;\n\t};\n\n\tgantt.resetLightbox = function () {\n\t\tif (gantt._lightbox && !gantt._custom_lightbox)\n\t\t\tgantt._lightbox.parentNode.removeChild(gantt._lightbox);\n\t\tgantt._lightbox = null;\n\t\tgantt.hideCover();\n\t};\n\tgantt._set_lightbox_values = function (data, box) {\n\t\tvar task = data;\n\t\tvar s = box.getElementsByTagName(\"span\");\n\t\tvar lightboxHeader = [];\n\t\tif (gantt.templates.lightbox_header) {\n\t\t\tlightboxHeader.push(\"\");\n\t\t\tlightboxHeader.push(gantt.templates.lightbox_header(task.start_date, task.end_date, task));\n\t\t\ts[1].innerHTML = \"\";\n\t\t\ts[2].innerHTML = gantt.templates.lightbox_header(task.start_date, task.end_date, task);\n\t\t} else {\n\t\t\tlightboxHeader.push(this.templates.task_time(task.start_date, task.end_date, task));\n\t\t\tlightboxHeader.push(String(this.templates.task_text(task.start_date, task.end_date, task) || \"\").substr(0, 70)); //IE6 fix\n\t\t\ts[1].innerHTML = this.templates.task_time(task.start_date, task.end_date, task);\n\t\t\ts[2].innerHTML = String(this.templates.task_text(task.start_date, task.end_date, task) || \"\").substr(0, 70); //IE6 fix\n\t\t}\n\t\ts[1].innerHTML = lightboxHeader[0];\n\t\ts[2].innerHTML = lightboxHeader[1];\n\n\t\tgantt._waiAria.lightboxHeader(box, lightboxHeader.join(\" \"));\n\n\t\tvar sns = this._get_typed_lightbox_config(this.getLightboxType());\n\t\tfor (var i = 0; i < sns.length; i++) {\n\t\t\tvar section = sns[i];\n\n\t\t\tif (!this.form_blocks[section.type]) {\n\t\t\t\tcontinue;//skip incorrect sections, same check is done during rendering\n\t\t\t}\n\n\n\t\t\tvar node = document.getElementById(section.id).nextSibling;\n\t\t\tvar block = this.form_blocks[section.type];\n\t\t\tvar map_to = gantt._resolve_default_mapping(sns[i]);\n\t\t\tvar value = this.defined(task[map_to]) ? task[map_to] : section.default_value;\n\t\t\tblock.set_value.call(gantt, node, value, task, section);\n\n\t\t\tif (section.focus)\n\t\t\t\tblock.focus.call(gantt, node);\n\t\t}\n\t\tif (data.id)\n\t\t\tgantt._lightbox_id = data.id;\n\t};\n\tgantt._fill_lightbox = function (id, box) {\n\t\tvar task = this.getTask(id);\n\t\tthis._set_lightbox_values(task, box);\n\t};\n\n\n\tgantt.getLightboxSection = function (name) {\n\t\tvar config = this._get_typed_lightbox_config();\n\t\tvar i = 0;\n\t\tfor (i; i < config.length; i++)\n\t\t\tif (config[i].name == name)\n\t\t\t\tbreak;\n\t\tvar section = config[i];\n\t\tif (!section)\n\t\t\treturn null;\n\n\t\tif (!this._lightbox)\n\t\t\tthis.getLightbox();\n\t\tvar header = document.getElementById(section.id);\n\t\tvar node = header.nextSibling;\n\n\t\tvar result = {\n\t\t\tsection: section,\n\t\t\theader: header,\n\t\t\tnode: node,\n\t\t\tgetValue: function (ev) {\n\t\t\t\treturn gantt.form_blocks[section.type].get_value.call(gantt, node, (ev || {}), section);\n\t\t\t},\n\t\t\tsetValue: function (value, ev) {\n\t\t\t\treturn gantt.form_blocks[section.type].set_value.call(gantt, node, value, (ev || {}), section);\n\t\t\t}\n\t\t};\n\n\t\tvar handler = this._lightbox_methods[\"get_\" + section.type + \"_control\"];\n\t\treturn handler ? handler(result) : result;\n\t};\n\n\tgantt._lightbox_methods.get_template_control = function (result) {\n\t\tresult.control = result.node;\n\t\treturn result;\n\t};\n\tgantt._lightbox_methods.get_select_control = function (result) {\n\t\tresult.control = result.node.getElementsByTagName(\"select\")[0];\n\t\treturn result;\n\t};\n\tgantt._lightbox_methods.get_textarea_control = function (result) {\n\t\tresult.control = result.node.getElementsByTagName(\"textarea\")[0];\n\t\treturn result;\n\t};\n\tgantt._lightbox_methods.get_time_control = function (result) {\n\t\tresult.control = result.node.getElementsByTagName(\"select\"); // array\n\t\treturn result;\n\t};\n\n\n\tgantt._init_dnd_events = function () {\n\t\tthis.event(document.body, \"mousemove\", gantt._move_while_dnd);\n\t\tthis.event(document.body, \"mouseup\", gantt._finish_dnd);\n\t\tgantt._init_dnd_events = function () {\n\t\t};\n\t};\n\tgantt._move_while_dnd = function (e) {\n\t\tif (gantt._dnd_start_lb) {\n\t\t\tif (!document.gantt_unselectable) {\n\t\t\t\tdocument.body.className += \" gantt_unselectable\";\n\t\t\t\tdocument.gantt_unselectable = true;\n\t\t\t}\n\t\t\tvar lb = gantt.getLightbox();\n\t\t\tvar now = (e && e.target) ? [e.pageX, e.pageY] : [event.clientX, event.clientY];\n\t\t\tlb.style.top = gantt._lb_start[1] + now[1] - gantt._dnd_start_lb[1] + \"px\";\n\t\t\tlb.style.left = gantt._lb_start[0] + now[0] - gantt._dnd_start_lb[0] + \"px\";\n\t\t}\n\t};\n\tgantt._ready_to_dnd = function (e) {\n\t\tvar lb = gantt.getLightbox();\n\t\tgantt._lb_start = [parseInt(lb.style.left, 10), parseInt(lb.style.top, 10)];\n\t\tgantt._dnd_start_lb = (e && e.target) ? [e.pageX, e.pageY] : [event.clientX, event.clientY];\n\t};\n\tgantt._finish_dnd = function () {\n\t\tif (gantt._lb_start) {\n\t\t\tgantt._lb_start = gantt._dnd_start_lb = false;\n\t\t\tdocument.body.className = document.body.className.replace(\" gantt_unselectable\", \"\");\n\t\t\tdocument.gantt_unselectable = false;\n\t\t}\n\t};\n\n\n\tgantt._focus = function (node, select) {\n\t\tif (node && node.focus) {\n\t\t\tif (gantt.config.touch) {\n\t\t\t\t//do not focus editor, to prevent auto-zoom\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tif (select && node.select) node.select();\n\t\t\t\t\tnode.focus();\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// silent errors\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\n\tgantt.form_blocks = {\n\t\tgetTimePicker: function (sns, hidden) {\n\t\t\tvar html = \"\";\n\t\t\tvar cfg = this.config;\n\t\t\tvar i;\n\t\t\tvar options;\n\t\t\tvar ariaAttrs;\n\t\t\tvar readonly;\n\t\t\tvar display;\n\t\t\tvar settings = {\n\t\t\t\tfirst: 0,\n\t\t\t\tlast: 24 * 60,\n\t\t\t\tdate: this.date.date_part(new Date(gantt._min_date.valueOf())),\n\t\t\t\ttimeFormat: getTimeFormat(sns)\n\t\t\t};\n\n\t\t\t// map: default order => real one\n\t\t\tsns._time_format_order = { size: 0 };\n\n\t\t\tif (gantt.config.limit_time_select) {\n\t\t\t\tsettings.first = 60 * cfg.first_hour;\n\t\t\t\tsettings.last = 60 * cfg.last_hour + 1;\n\t\t\t\tsettings.date.setHours(cfg.first_hour);\n\t\t\t}\n\n\t\t\tfor (i = 0; i < settings.timeFormat.length; i++) {\n\t\t\t\t// adding spaces between selects\n\t\t\t\tif (i > 0) {\n\t\t\t\t\thtml += \" \";\n\t\t\t\t}\n\n\t\t\t\toptions = getHtmlTimePickerOptions(sns, i, settings);\n\n\t\t\t\tif (options) {\n\t\t\t\t\tariaAttrs = gantt._waiAria.lightboxSelectAttrString(settings.timeFormat[i]);\n\t\t\t\t\treadonly = sns.readonly ? \"disabled='disabled'\" : \"\";\n\t\t\t\t\tdisplay = hidden ? \" style='display:none' \" : \"\";\n\t\t\t\t\thtml += \"<select \" + readonly + display + ariaAttrs + \">\" + options + \"</select>\";\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn html;\n\t\t},\n\t\tgetTimePickerValue: function (selects, config, offset) {\n\t\t\tvar map = config._time_format_order;\n\t\t\tvar needSetTime = gantt.defined(map[3]);\n\n\t\t\tvar time;\n\t\t\tvar hours = 0;\n\t\t\tvar minutes = 0;\n\n\t\t\tvar mapOffset = offset || 0;\n\n\t\t\tif (needSetTime) {\n\t\t\t\ttime = parseInt(selects[map[3] + mapOffset].value, 10);\n\t\t\t\thours = Math.floor(time / 60);\n\t\t\t\tminutes = time % 60;\n\t\t\t}\n\t\t\treturn new Date(selects[map[2] + mapOffset].value, selects[map[1] + mapOffset].value, selects[map[0] + mapOffset].value, hours, minutes);\n\t\t},\n\n\t\t_fill_lightbox_select: function (s, i, d, map) {\n\t\t\ts[i + map[0]].value = d.getDate();\n\t\t\ts[i + map[1]].value = d.getMonth();\n\t\t\ts[i + map[2]].value = d.getFullYear();\n\t\t\tif (gantt.defined(map[3])) {\n\t\t\t\tvar v = d.getHours() * 60 + d.getMinutes();\n\t\t\t\tv = Math.round(v / gantt._get_timepicker_step()) * gantt._get_timepicker_step();\n\t\t\t\tvar input = s[i + map[3]];\n\t\t\t\tinput.value = v;\n\t\t\t\t//in case option not shown\n\t\t\t\tinput.setAttribute(\"data-value\", v);\n\t\t\t}\n\t\t},\n\t\ttemplate: new TemplateControl(),\n\t\ttextarea: new TextareaControl(),\n\t\tselect: new SelectControl(),\n\t\ttime: new TimeControl(),\n\t\tduration: new DurationControl(),\n\t\tparent: new ParentControl(),\n\t\tradio: new RadioControl(),\n\t\tcheckbox: new CheckboxControl(),\n\t\tresources: new ResourcesControl(),\n\t\tconstraint: new ConstraintControl()\n\t};\n\n\tgantt._is_lightbox_timepicker = function () {\n\t\tvar s = this._get_typed_lightbox_config();\n\t\tfor (var i = 0; i < s.length; i++)\n\t\t\tif (s[i].name == \"time\" && s[i].type == \"time\")\n\t\t\t\treturn true;\n\t\treturn false;\n\t};\n\n\tgantt._dhtmlx_confirm = function (message, title, callback, ok) {\n\t\tif (!message)\n\t\t\treturn callback();\n\t\tvar opts = { text: message };\n\t\tif (title)\n\t\t\topts.title = title;\n\t\tif (ok) {\n\t\t\topts.ok = ok;\n\t\t}\n\t\tif (callback) {\n\t\t\topts.callback = function (result) {\n\t\t\t\tif (result)\n\t\t\t\t\tcallback();\n\t\t\t};\n\t\t}\n\t\tgantt.confirm(opts);\n\t};\n\n\tfunction _get_type_name(type_value) {\n\t\tfor (var i in this.config.types) {\n\t\t\tif (this.config.types[i] == type_value) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn \"task\";\n\t}\n\n\tgantt._get_typed_lightbox_config = function (type) {\n\t\tif (type === undefined) {\n\t\t\ttype = this.getLightboxType();\n\t\t}\n\n\t\tvar field = _get_type_name.call(this, type);\n\n\t\tif (gantt.config.lightbox[field + \"_sections\"]) {\n\t\t\treturn gantt.config.lightbox[field + \"_sections\"];\n\t\t} else {\n\t\t\treturn gantt.config.lightbox.sections;\n\t\t}\n\t};\n\n\tgantt._silent_redraw_lightbox = function (type) {\n\t\tvar oldType = this.getLightboxType();\n\n\t\tif (this.getState().lightbox) {\n\t\t\tvar taskId = this.getState().lightbox;\n\t\t\tvar formData = this.getLightboxValues(),\n\t\t\t\ttask = this.copy(this.getTask(taskId));\n\n\t\t\tthis.resetLightbox();\n\n\t\t\tvar updTask = this.mixin(task, formData, true);\n\t\t\tvar box = this.getLightbox(type ? type : undefined);\n\t\t\tthis._center_lightbox(this.getLightbox());\n\t\t\tthis._set_lightbox_values(updTask, box);\n\t\t} else {\n\t\t\tthis.resetLightbox();\n\t\t\tthis.getLightbox(type ? type : undefined);\n\t\t}\n\t\tthis.callEvent(\"onLightboxChange\", [oldType, this.getLightboxType()]);\n\t};\n\n\tfunction bindLabelsToInputs(sns) {\n\t\tvar section;\n\t\tvar label;\n\t\tvar labelBlock;\n\t\tvar inputBlock;\n\t\tvar input;\n\t\tvar i;\n\n\t\tfor (i = 0; i < sns.length; i++) {\n\t\t\tsection = sns[i];\n\t\t\tlabelBlock = document.getElementById(section.id);\n\n\t\t\tif (!section.id || !labelBlock) continue;\n\n\t\t\tlabel = labelBlock.querySelector(\"label\");\n\t\t\tinputBlock = labelBlock.nextSibling;\n\n\t\t\tif (!inputBlock) continue;\n\n\t\t\tinput = inputBlock.querySelector(\"input, select, textarea\");\n\t\t\tif (input) {\n\t\t\t\tinput.id = input.id || \"input_\" + gantt.uid();\n\t\t\t\tsection.inputId = input.id;\n\t\t\t\tlabel.setAttribute(\"for\", section.inputId);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getHtmlButtons(buttons, floatRight) {\n\t\tvar button;\n\t\tvar ariaAttr;\n\t\tvar html = \"\";\n\t\tvar i;\n\n\t\tfor (i = 0; i < buttons.length; i++) {\n\t\t\t// needed to migrate from 'dhx_something' to 'gantt_something' naming in a lightbox\n\t\t\tbutton = gantt.config._migrate_buttons[buttons[i]] ? gantt.config._migrate_buttons[buttons[i]] : buttons[i];\n\n\t\t\tariaAttr = gantt._waiAria.lightboxButtonAttrString(button);\n\t\t\thtml += \"<div \" + ariaAttr + \" class='gantt_btn_set gantt_left_btn_set \" + button + \"_set'\" + (floatRight ? \" style='float:right;'\" : \"\") + \"><div dhx_button='1' data-dhx-button='1' class='\" + button + \"'></div><div>\" + gantt.locale.labels[button] + \"</div></div>\";\n\t\t}\n\t\treturn html;\n\t}\n\n\tfunction getTimeFormat(sns) {\n\t\tvar scale;\n\t\tvar unit;\n\t\tvar result;\n\n\t\tif (sns.time_format) return sns.time_format;\n\n\t\t// default order\n\t\tresult = [\"%d\", \"%m\", \"%Y\"];\n\t\tscale = gantt.getScale();\n\t\tunit = scale ? scale.unit : gantt.config.duration_unit;\n\t\tif (helpers.getSecondsInUnit(unit) < helpers.getSecondsInUnit(\"day\")) {\n\t\t\tresult.push(\"%H:%i\");\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction getHtmlTimePickerOptions(sns, index, settings) {\n\t\tvar range;\n\t\tvar offset;\n\t\tvar start_year;\n\t\tvar end_year;\n\t\tvar i;\n\t\tvar time;\n\t\tvar diff;\n\t\tvar tdate;\n\t\tvar html = \"\";\n\n\t\tswitch (settings.timeFormat[index]) {\n\t\t\tcase \"%Y\":\n\t\t\t\tsns._time_format_order[2] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//year\n\n\t\t\t\tif (sns.year_range) {\n\t\t\t\t\tif (!isNaN(sns.year_range)) {\n\t\t\t\t\t\trange = sns.year_range;\n\t\t\t\t\t} else if (sns.year_range.push) {\n\t\t\t\t\t\t// if\n\t\t\t\t\t\tstart_year = sns.year_range[0];\n\t\t\t\t\t\tend_year = sns.year_range[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trange = range || 10;\n\t\t\t\toffset = offset || Math.floor(range / 2);\n\t\t\t\tstart_year = start_year || settings.date.getFullYear() - offset;\n\t\t\t\tend_year = end_year || start_year + range;\n\n\t\t\t\tfor (i = start_year; i < end_year; i++)\n\t\t\t\t\thtml += \"<option value='\" + (i) + \"'>\" + (i) + \"</option>\";\n\t\t\t\tbreak;\n\t\t\tcase \"%m\":\n\t\t\t\tsns._time_format_order[1] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//month\n\t\t\t\tfor (i = 0; i < 12; i++)\n\t\t\t\t\thtml += \"<option value='\" + i + \"'>\" + gantt.locale.date.month_full[i] + \"</option>\";\n\t\t\t\tbreak;\n\t\t\tcase \"%d\":\n\t\t\t\tsns._time_format_order[0] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//days\n\t\t\t\tfor (i = 1; i < 32; i++)\n\t\t\t\t\thtml += \"<option value='\" + i + \"'>\" + i + \"</option>\";\n\t\t\t\tbreak;\n\t\t\tcase \"%H:%i\":\n\t\t\t\t//  var last = 24*60, first = 0;\n\t\t\t\tsns._time_format_order[3] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//hours\n\t\t\t\ti = settings.first;\n\t\t\t\ttdate = settings.date.getDate();\n\t\t\t\tsns._time_values = [];\n\n\t\t\t\twhile (i < settings.last) {\n\t\t\t\t\ttime = gantt.templates.time_picker(settings.date);\n\t\t\t\t\thtml += \"<option value='\" + i + \"'>\" + time + \"</option>\";\n\t\t\t\t\tsns._time_values.push(i);\n\t\t\t\t\tsettings.date.setTime(settings.date.valueOf() + gantt._get_timepicker_step() * 60 * 1000);\n\t\t\t\t\tdiff = (settings.date.getDate() != tdate) ? 1 : 0; // moved or not to the next day\n\t\t\t\t\ti = diff * 24 * 60 + settings.date.getHours() * 60 + settings.date.getMinutes();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn html;\n\t}\n};","var helpers = require(\"../utils/helpers\");\n\nmodule.exports = function(gantt) {\n\n\tgantt.isUnscheduledTask = function (task) {\n\t\tgantt.assert(task && task instanceof Object, \"Invalid argument <b>task</b>=\"+task+\" of gantt.isUnscheduledTask. Task object was expected\");\n\t\treturn (!!task.unscheduled || !task.start_date);\n\t};\n\n\tgantt._isAllowedUnscheduledTask = function (task) {\n\t\treturn !!(task.unscheduled && gantt.config.show_unscheduled);\n\t};\n\n\tgantt.isTaskVisible = function (id) {\n\t\tif (!this.isTaskExists(id))\n\t\t\treturn false;\n\n\t\tvar task = this.getTask(id);\n\n\t\tvar taskStart = task.start_date ? task.start_date.valueOf() : null;\n\t\tvar taskEnd = task.end_date ? task.end_date.valueOf() : null;\n\n\t\tif (!(gantt._isAllowedUnscheduledTask(task) || (taskStart && taskEnd && taskStart <= this._max_date.valueOf() && taskEnd >= this._min_date.valueOf()))){\n\t\t\treturn false;\n\t\t}\n\n\t\treturn !!(gantt.getGlobalTaskIndex(id) >= 0);\n\t};\n\n\tgantt._getProjectEnd = function() {\n\t\tif(gantt.config.project_end){\n\t\t\treturn gantt.config.project_end;\n\t\t}else{\n\t\t\tvar tasks = gantt.getTaskByTime();\n\t\t\ttasks = tasks.sort(function (a, b) {\n\t\t\t\treturn +a.end_date > +b.end_date ? 1 : -1;\n\t\t\t});\n\t\t\treturn tasks.length ? tasks[tasks.length - 1].end_date : null;\n\t\t}\n\t};\n\tgantt._getProjectStart = function() {\n\t\tif (gantt.config.project_start) {\n\t\t\treturn gantt.config.project_start;\n\t\t}\n\n\t\t// use timeline start if project start is not specified\n\t\tif (gantt.config.start_date) {\n\t\t\treturn gantt.config.start_date;\n\t\t}\n\t\tif (gantt.getState().min_date) {\n\t\t\treturn gantt.getState().min_date;\n\t\t}\n\n\t\t// earliest task start if neither project start nor timeline are specified\n\t\tvar tasks = gantt.getTaskByTime();\n\t\ttasks = tasks.sort(function (a, b) {\n\t\t\treturn +a.start_date > +b.start_date ? 1 : -1;\n\t\t});\n\t\treturn tasks.length ? tasks[0].start_date : null;\n\t};\n\n\tgantt._defaultTaskDate = function (item, parent_id) {\n\t\tvar parent = (parent_id && parent_id != gantt.config.root_id) ? gantt.getTask(parent_id) : false,\n\t\t\tstartDate = null;\n\t\tif (parent) {\n\t\t\tif(gantt.config.schedule_from_end){\n\t\t\t\tstartDate = gantt.calculateEndDate({\n\t\t\t\t\tstart_date: parent.end_date,\n\t\t\t\t\tduration: - gantt.config.duration_step,\n\t\t\t\t\ttask:item\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tstartDate = parent.start_date;\n\t\t\t}\n\n\t\t} else if(gantt.config.schedule_from_end) {\n\t\t\tstartDate = gantt.calculateEndDate({\n\t\t\t\tstart_date: gantt._getProjectEnd(),\n\t\t\t\tduration: - gantt.config.duration_step,\n\t\t\t\ttask:item\n\t\t\t});\n\t\t} else {\n\t\t\tvar first = gantt.getTaskByIndex(0);\n\t\t\tstartDate = first ? (first.start_date ? first.start_date : (first.end_date ? gantt.calculateEndDate({\n\t\t\t\tstart_date: first.end_date,\n\t\t\t\tduration: -gantt.config.duration_step,\n\t\t\t\ttask:item\n\t\t\t}) : null)) : gantt.config.start_date || gantt.getState().min_date;\n\t\t}\n\t\tgantt.assert(startDate, \"Invalid dates\");\n\t\treturn new Date(startDate);\n\t};\n\n\tgantt._set_default_task_timing = function (task) {\n\t\ttask.start_date = task.start_date || gantt._defaultTaskDate(task, gantt.getParent(task));\n\t\ttask.duration = task.duration || gantt.config.duration_step;\n\t\ttask.end_date = task.end_date || gantt.calculateEndDate(task);\n\t};\n\n\tgantt.createTask = function (item, parent, index) {\n\t\titem = item || {};\n\t\tif (!gantt.defined(item.id))\n\t\t\titem.id = gantt.uid();\n\n\t\tif (!item.start_date) {\n\t\t\titem.start_date = gantt._defaultTaskDate(item, parent);\n\t\t}\n\t\tif (item.text === undefined) {\n\t\t\titem.text = gantt.locale.labels.new_task;\n\t\t}\n\t\tif (item.duration === undefined) {\n\t\t\titem.duration = 1;\n\t\t}\n\n\t\tif (this.isTaskExists(parent)) {\n\t\t\tthis.setParent(item, parent, true);\n\t\t\tvar parentObj = this.getTask(parent);\n\t\t\tparentObj.$open = true;\n\t\t}\n\n\t\tif (!this.callEvent(\"onTaskCreated\", [item])) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this.config.details_on_create) {\n\t\t\titem.$new = true;\n\t\t\tthis.silent(function(){\n\t\t\t\tgantt.$data.tasksStore.addItem(item, index);\n\t\t\t});\n\t\t\tthis.selectTask(item.id);\n\t\t\tthis.refreshData();\n\t\t\tthis.showLightbox(item.id);\n\t\t} else {\n\t\t\tif (this.addTask(item, parent, index)) {\n\t\t\t\tthis.showTask(item.id);\n\t\t\t\tthis.selectTask(item.id);\n\t\t\t}\n\t\t}\n\t\treturn item.id;\n\t};\n\n\tgantt._update_flags = function (oldid, newid) {\n\t\t//  TODO: need a proper way to update all possible flags\n\t\tvar store = gantt.$data.tasksStore;\n\t\tif (oldid === undefined) {\n\t\t\tthis._lightbox_id = null;\n\n\t\t\tstore.silent(function(){\n\t\t\t\tstore.unselect();\n\t\t\t});\n\n\t\t\tif (this._tasks_dnd && this._tasks_dnd.drag) {\n\t\t\t\tthis._tasks_dnd.drag.id = null;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this._lightbox_id == oldid)\n\t\t\t\tthis._lightbox_id = newid;\n\n\t\t\t// TODO: probably can be removed\n\t\t\tif (store.getSelectedId() == oldid) {\n\t\t\t\tstore.silent(function(){\n\t\t\t\t\tstore.unselect(oldid);\n\t\t\t\t\tstore.select(newid);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this._tasks_dnd && this._tasks_dnd.drag && this._tasks_dnd.drag.id == oldid) {\n\t\t\t\tthis._tasks_dnd.drag.id = newid;\n\t\t\t}\n\t\t}\n\t};\n\n\tgantt._get_task_timing_mode = function (task, force) {\n\t\tvar task_type = this.getTaskType(task.type);\n\n\t\tvar state = {\n\t\t\ttype: task_type,\n\t\t\t$no_start: false,\n\t\t\t$no_end: false\n\t\t};\n\n\t\tif (!force && task_type == task.$rendered_type) {\n\t\t\tstate.$no_start = task.$no_start;\n\t\t\tstate.$no_end = task.$no_end;\n\t\t\treturn state;\n\t\t}\n\n\t\tif (task_type == this.config.types.project) {\n\t\t\t//project duration is always defined by children duration\n\t\t\tstate.$no_end = state.$no_start = true;\n\t\t} else if (task_type != this.config.types.milestone) {\n\t\t\t//tasks can have fixed duration, children duration(as projects), or one date fixed, and other defined by nested items\n\t\t\tstate.$no_end = !(task.end_date || task.duration);\n\t\t\tstate.$no_start = !task.start_date;\n\n\t\t\tif (this._isAllowedUnscheduledTask(task)) {\n\t\t\t\tstate.$no_end = state.$no_start = false;\n\t\t\t}\n\t\t}\n\n\t\treturn state;\n\t};\n\n\tgantt._init_task_timing = function (task) {\n\t\tvar task_mode = gantt._get_task_timing_mode(task, true);\n\n\t\tvar dirty = task.$rendered_type != task_mode.type;\n\n\t\tvar task_type = task_mode.type;\n\n\t\tif (dirty) {\n\t\t\ttask.$no_start = task_mode.$no_start;\n\t\t\ttask.$no_end = task_mode.$no_end;\n\t\t\ttask.$rendered_type = task_mode.type;\n\t\t}\n\n\t\tif (dirty && task_type != this.config.types.milestone) {\n\t\t\tif (task_type == this.config.types.project) {\n\t\t\t\t//project duration is always defined by children duration\n\t\t\t\tthis._set_default_task_timing(task);\n\t\t\t}\n\t\t}\n\n\t\tif (task_type == this.config.types.milestone) {\n\t\t\ttask.end_date = task.start_date;\n\t\t}\n\t\tif (task.start_date && task.end_date) {\n\t\t\ttask.duration = this.calculateDuration(task);\n\t\t}\n\n\t\tif (!task.end_date) {\n\t\t\ttask.end_date = task.start_date;\n\t\t}\n\n\t\ttask.duration = task.duration || 0;\n\t};\n\n\tgantt.isSummaryTask = function (task) {\n\t\tgantt.assert(task && task instanceof Object, \"Invalid argument <b>task</b>=\"+task+\" of gantt.isSummaryTask. Task object was expected\");\n\n\t\tvar mode = gantt._get_task_timing_mode(task);\n\n\t\treturn !!(mode.$no_end || mode.$no_start);\n\t};\n\n// downward calculation of project duration\n\tgantt.resetProjectDates = function (task) {\n\t\tvar taskMode = this._get_task_timing_mode(task);\n\t\tif (taskMode.$no_end || taskMode.$no_start) {\n\t\t\tvar dates = this.getSubtaskDates(task.id);\n\t\t\tthis._assign_project_dates(task, dates.start_date, dates.end_date);\n\t\t}\n\t};\n\n\tgantt.getSubtaskDuration = function (task_id) {\n\t\tvar res = 0,\n\t\t\troot = task_id !== undefined ? task_id : gantt.config.root_id;\n\n\t\tthis.eachTask(function (child) {\n\t\t\tif (this.getTaskType(child.type) == gantt.config.types.project || this.isUnscheduledTask(child))\n\t\t\t\treturn;\n\n\t\t\tres += child.duration;\n\t\t}, root);\n\n\t\treturn res;\n\t};\n\n\tgantt.getSubtaskDates = function (task_id) {\n\t\tvar min = null,\n\t\t\tmax = null,\n\t\t\troot = task_id !== undefined ? task_id : gantt.config.root_id;\n\n\t\tthis.eachTask(function (child) {\n\t\t\tif (this.getTaskType(child.type) == gantt.config.types.project || this.isUnscheduledTask(child))\n\t\t\t\treturn;\n\n\t\t\tif ((child.start_date && !child.$no_start) && (!min || min > child.start_date.valueOf()))\n\t\t\t\tmin = child.start_date.valueOf();\n\t\t\tif ((child.end_date && !child.$no_end) && (!max || max < child.end_date.valueOf()))\n\t\t\t\tmax = child.end_date.valueOf();\n\t\t}, root);\n\n\t\treturn {\n\t\t\tstart_date: min ? new Date(min) : null,\n\t\t\tend_date: max ? new Date(max) : null\n\t\t};\n\t};\n\n\tgantt._assign_project_dates = function (task, from, to) {\n\t\tvar taskTiming = this._get_task_timing_mode(task);\n\t\tif (taskTiming.$no_start) {\n\t\t\tif (from && from != Infinity) {\n\t\t\t\ttask.start_date = new Date(from);\n\t\t\t} else {\n\t\t\t\ttask.start_date = this._defaultTaskDate(task, this.getParent(task));\n\t\t\t}\n\t\t}\n\n\t\tif (taskTiming.$no_end) {\n\t\t\tif (to && to != -Infinity) {\n\t\t\t\ttask.end_date = new Date(to);\n\t\t\t} else {\n\t\t\t\ttask.end_date = this.calculateEndDate({\n\t\t\t\t\tstart_date: task.start_date,\n\t\t\t\t\tduration: this.config.duration_step,\n\t\t\t\t\ttask: task\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (taskTiming.$no_start || taskTiming.$no_end) {\n\t\t\tthis._init_task_timing(task);\n\t\t}\n\t};\n\n// upward calculation of project duration\n\tgantt._update_parents = function (taskId, silent) {\n\t\tif (!taskId) return;\n\n\t\tvar task = this.getTask(taskId);\n\t\tvar pid = this.getParent(task);\n\n\t\tvar taskTiming = this._get_task_timing_mode(task);\n\n\t\tvar has_changed = true;\n\n\t\tif (taskTiming.$no_start || taskTiming.$no_end) {\n\t\t\tvar oldStart = task.start_date.valueOf(),\n\t\t\t\toldEnd = task.end_date.valueOf();\n\n\t\t\tgantt.resetProjectDates(task);\n\n\t\t\t// not refresh parent projects if dates hasn't changed\n\t\t\tif (oldStart == task.start_date.valueOf() && oldEnd == task.end_date.valueOf()) {\n\t\t\t\thas_changed = false;\n\t\t\t}\n\n\t\t\tif (has_changed && !silent) {\n\t\t\t\tthis.refreshTask(task.id, true);\n\t\t\t}\n\t\t}\n\n\n\t\tif (has_changed && pid && this.isTaskExists(pid)) {\n\t\t\tthis._update_parents(pid, silent);\n\t\t}\n\t};\n\n\tgantt.roundDate = function (config) {\n\t\tvar scale = gantt.getScale();\n\n\t\tif (helpers.isDate(config)) {\n\t\t\tconfig = {\n\t\t\t\tdate: config,\n\t\t\t\tunit: scale ? scale.unit : gantt.config.duration_unit,\n\t\t\t\tstep: scale ?  scale.step : gantt.config.duration_step\n\t\t\t};\n\t\t}\n\t\tvar date = config.date,\n\t\t\tsteps = config.step,\n\t\t\tunit = config.unit;\n\n\t\tif(!scale){\n\t\t\treturn date;\n\t\t}\n\n\t\tvar upper, lower, colIndex;\n\t\tif (unit == scale.unit && steps == scale.step &&\n\t\t\t+date >= +scale.min_date && +date <= +scale.max_date) {\n\t\t\t//find date in time scale config\n\t\t\tcolIndex = Math.floor(gantt.columnIndexByDate(date));\n\n\t\t\tif (!scale.trace_x[colIndex]) {\n\t\t\t\tcolIndex -= 1;// end of time scale\n\t\t\t\tif(scale.rtl){\n\t\t\t\t\tcolIndex = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlower = new Date(scale.trace_x[colIndex]);\n\t\t\tupper = gantt.date.add(lower, steps, unit);\n\t\t} else {\n\t\t\tcolIndex = Math.floor(gantt.columnIndexByDate(date));\n\n\t\t\tupper = gantt.date[unit + \"_start\"](new Date(scale.min_date));\n\t\t\tif (scale.trace_x[colIndex]) {\n\t\t\t\tupper = gantt.date[unit + \"_start\"](scale.trace_x[colIndex]);// end of time scale\n\t\t\t}\n\n\t\t\twhile (+upper < +date) {\n\t\t\t\tupper = gantt.date[unit + \"_start\"](gantt.date.add(upper, steps, unit));\n\n\t\t\t\tvar tzOffset = upper.getTimezoneOffset();\n\n\t\t\t\tupper = gantt._correct_dst_change(upper, tzOffset, upper, unit);\n\t\t\t\tif (gantt.date[unit + '_start'])\n\t\t\t\t\tupper = gantt.date[unit + '_start'](upper);\n\t\t\t}\n\n\t\t\tlower = gantt.date.add(upper, -1 * steps, unit);\n\n\t\t}\n\t\tif (config.dir && config.dir == 'future')\n\t\t\treturn upper;\n\t\tif (config.dir && config.dir == 'past')\n\t\t\treturn lower;\n\n\t\tif (Math.abs(date - lower) < Math.abs(upper - date)) {\n\t\t\treturn lower;\n\t\t} else {\n\t\t\treturn upper;\n\t\t}\n\n\t};\n\n\tgantt.correctTaskWorkTime = function (task) {\n\t\tif (gantt.config.work_time && gantt.config.correct_work_time) {\n\t\t\tif (!this.isWorkTime(task.start_date, undefined, task)) {\n\t\t\t\ttask.start_date = this.getClosestWorkTime({date: task.start_date, dir: 'future', task: task});\n\t\t\t\ttask.end_date = this.calculateEndDate(task);\n\t\t\t} else if (!this.isWorkTime(new Date(+task.end_date - 1), undefined, task)) {\n\t\t\t\ttask.end_date = this.calculateEndDate(task);\n\t\t\t}\n\t\t}\n\t};\n\n\tgantt.attachEvent(\"onBeforeTaskUpdate\", function (id, task) {\n\t\tgantt._init_task_timing(task);\n\t\treturn true;\n\t});\n\tgantt.attachEvent(\"onBeforeTaskAdd\", function (id, task) {\n\t\tgantt._init_task_timing(task);\n\t\treturn true;\n\t});\n\n};","// TODO: rework public api for date methods\nvar utils = require(\"../../utils/utils\");\n\nvar createWorktimeFacade = function(calendarManager, timeCalculator){\n\treturn {\n\t\tgetWorkHours: function (date) {\n\t\t\treturn timeCalculator.getWorkHours(date);\n\t\t},\n\n\t\tsetWorkTime: function (config) {\n\t\t\treturn timeCalculator.setWorkTime(config);\n\t\t},\n\n\t\tunsetWorkTime: function (config) {\n\t\t\ttimeCalculator.unsetWorkTime(config);\n\t\t},\n\n\t\tisWorkTime: function (date, unit, task) {\n\t\t\treturn timeCalculator.isWorkTime(date, unit, task);\n\t\t},\n\n\t\tgetClosestWorkTime: function (config) {\n\t\t\treturn timeCalculator.getClosestWorkTime(config);\n\t\t},\n\n\t\tcalculateDuration: function (start_date, end_date, task) {\n\t\t\treturn timeCalculator.calculateDuration(start_date, end_date, task);\n\t\t},\n\t\t_hasDuration: function (start_date, end_date, task) {\n\t\t\treturn timeCalculator.hasDuration(start_date, end_date, task);\n\t\t},\n\n\t\tcalculateEndDate: function (start, duration, unit, task) {\n\t\t\treturn timeCalculator.calculateEndDate(start, duration, unit, task);\n\t\t},\n\n\t\tcreateCalendar: utils.bind(calendarManager.createCalendar, calendarManager),\n\t\taddCalendar: utils.bind(calendarManager.addCalendar, calendarManager),\n\t\tgetCalendar: utils.bind(calendarManager.getCalendar, calendarManager),\n\t\tgetCalendars: utils.bind(calendarManager.getCalendars, calendarManager),\n\t\tgetTaskCalendar: utils.bind(calendarManager.getTaskCalendar, calendarManager),\n\t\tdeleteCalendar: utils.bind(calendarManager.deleteCalendar, calendarManager)\n\t};\n};\n\n\nmodule.exports = { create: createWorktimeFacade };\n","function CalendarDisabledTimeStrategy(gantt, argumentsHelper){\n\tthis.argumentsHelper = argumentsHelper;\n\tthis.$gantt = gantt;\n}\n\nCalendarDisabledTimeStrategy.prototype = {\n\tgetWorkHours: function () {\n\t\treturn [0, 24];\n\t},\n\tsetWorkTime: function () {\n\t\treturn true;\n\t},\n\tunsetWorkTime: function () {\n\t\treturn true;\n\t},\n\tisWorkTime: function () {\n\t\treturn true;\n\t},\n\tgetClosestWorkTime: function (config) {\n\t\tvar config = this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\t\treturn config.date;\n\t},\n\n\tcalculateDuration: function () {\n\t\tvar config = this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper, arguments);\n\t\tvar from = config.start_date,\n\t\t\tto = config.end_date,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\treturn this._calculateDuration(from, to, unit, step);\n\t},\n\t_calculateDuration: function (start, end, unit, step) {\n\t\tvar dateHelper = this.$gantt.date;\n\t\tvar fixedUnits = {\n\t\t\t\"week\": 1000 * 60 * 60 * 24 * 7,\n\t\t\t\"day\": 1000 * 60 * 60 * 24,\n\t\t\t\"hour\": 1000 * 60 * 60,\n\t\t\t\"minute\": 1000 * 60\n\t\t};\n\n\t\tvar res = 0;\n\t\tif (fixedUnits[unit]) {\n\t\t\tres = Math.round((end - start) / (step * fixedUnits[unit]));\n\t\t} else {\n\t\t\tvar from = new Date(start),\n\t\t\t\tto = new Date(end);\n\t\t\twhile (from.valueOf() < to.valueOf()) {\n\t\t\t\tres += 1;\n\t\t\t\tfrom = dateHelper.add(from, step, unit);\n\t\t\t}\n\n\t\t\tif (from.valueOf() != end.valueOf()) {\n\t\t\t\tres += (to - from) / (dateHelper.add(from, step, unit) - from);\n\t\t\t}\n\t\t}\n\n\t\treturn Math.round(res);\n\t},\n\n\thasDuration: function () {\n\t\tvar config = this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper, arguments);\n\t\tvar from = config.start_date,\n\t\t\tto = config.end_date,\n\t\t\tunit = config.unit;\n\n\t\tif (!unit) {\n\t\t\treturn false;\n\t\t}\n\t\tfrom = new Date(from);\n\t\tto = new Date(to);\n\n\t\treturn (from.valueOf() < to.valueOf());\n\t},\n\n\tcalculateEndDate: function () {\n\t\tvar config = this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar start = config.start_date,\n\t\t\tduration = config.duration,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\treturn this.$gantt.date.add(start, step * duration, unit);\n\t}\n};\n\nmodule.exports = CalendarDisabledTimeStrategy;","var createArgumentsHelper = require(\"./calendar_arguments_helper\"),\n\tNoWorkTimeCalendar = require(\"./strategy/no_work_time\");\n\nfunction TimeCalculator(calendarManager){\n\n\tthis.$gantt = calendarManager.$gantt;\n\tthis.argumentsHelper = createArgumentsHelper(this.$gantt);\n\tthis.calendarManager = calendarManager;\n\tthis.$disabledCalendar = new NoWorkTimeCalendar(this.$gantt, this.argumentsHelper);\n}\n\nTimeCalculator.prototype = {\n\t_getCalendar: function (config) {\n\t\tvar calendar;\n\t\tif (!this.$gantt.$services.config().work_time) {\n\t\t\tcalendar = this.$disabledCalendar;\n\t\t} else {\n\t\t\tvar manager = this.calendarManager;\n\t\t\tif (config.task) {\n\t\t\t\tcalendar = manager.getTaskCalendar(config.task);\n\t\t\t} else if (config.id) {\n\t\t\t\tcalendar = manager.getTaskCalendar(config);\n\t\t\t} else if (config.calendar) {\n\t\t\t\tcalendar = config.calendar;\n\t\t\t}\n\t\t\tif (!calendar) {\n\t\t\t\tcalendar = manager.getTaskCalendar();\n\t\t\t}\n\t\t}\n\t\treturn calendar;\n\t},\n\n\tgetWorkHours: function (config) {\n\t\tconfig = this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\n\t\treturn calendar.getWorkHours(config.date);\n\t},\n\n\tsetWorkTime: function (config, calendar) {\n\t\tconfig = this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tif (!calendar)\n\t\t\tcalendar = this.calendarManager.getCalendar(); // Global\n\t\treturn calendar.setWorkTime(config);\n\t},\n\n\tunsetWorkTime: function (config, calendar) {\n\t\tconfig = this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tif (!calendar)\n\t\t\tcalendar = this.calendarManager.getCalendar(); // Global\n\t\treturn calendar.unsetWorkTime(config);\n\t},\n\tisWorkTime: function (date, unit, task, calendar) {\n\t\tvar config = this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tcalendar = this._getCalendar(config);\n\t\treturn calendar.isWorkTime(config);\n\t},\n\tgetClosestWorkTime: function (config) {\n\t\tconfig = this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\n\t\treturn calendar.getClosestWorkTime(config);\n\t},\n\n\tcalculateDuration: function () { // start_date_date, end_date, task\n\t\tvar config = this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper, arguments);\n\n\n\t\tvar calendar = this._getCalendar(config);\n\t\treturn calendar.calculateDuration(config);\n\t},\n\thasDuration: function () {\n\t\tvar config = this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\n\t\treturn calendar.hasDuration(config);\n\t},\n\tcalculateEndDate: function (config) { // start_date, duration, unit, task\n\t\tvar config = this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\t\treturn calendar.calculateEndDate(config);\n\t}\n};\n\nmodule.exports = TimeCalculator;\n\n","import { IWorkUnitCache } from \"./workunit_cache_interface\";\n\nexport class WorkUnitsObjectCache implements IWorkUnitCache {\n\tprivate _cache: any;\n\tconstructor() {\n\t\tthis.clear();\n\t}\n\n\tgetItem(unit: string, timestamp: string): number|boolean {\n\t\tconst cache = this._cache;\n\t\tif (cache && cache[unit]) {\n\t\t\tconst units = cache[unit];\n\n\t\t\tif (units[timestamp] !== undefined) {\n\t\t\t\treturn units[timestamp];\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n\tsetItem(unit: string, timestamp: string, value: boolean): void {\n\t\tif (!unit || !timestamp) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst cache = this._cache;\n\n\t\tif (!cache) {\n\t\t\treturn;\n\t\t}\n\t\tif (!cache[unit]) {\n\t\t\tcache[unit] = {};\n\t\t}\n\t\tcache[unit][timestamp] = value;\n\t}\n\tclear(): void{\n\t\tthis._cache = {};\n\t}\n}","\n\nimport { IWorkUnitCache } from \"./workunit_cache_interface\";\n\nexport class WorkUnitsMapCache implements IWorkUnitCache {\n\tprivate _cache: Map<string, Map<string, boolean>>;\n\tconstructor() {\n\t\tthis.clear();\n\t}\n\n\tgetItem(unit: string, timestamp: string): number|boolean {\n\t\tif (this._cache.has(unit)) {\n\t\t\tconst unitCache = this._cache.get(unit);\n\t\t\tif (unitCache.has(timestamp)) {\n\t\t\t\treturn unitCache.get(timestamp);\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n\tsetItem(unit: string, timestamp: string, value: boolean): void {\n\t\tif (!unit || !timestamp) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst cache = this._cache;\n\n\t\tlet unitCache;\n\t\tif (!cache.has(unit)) {\n\t\t\tunitCache = new Map<string, boolean>();\n\t\t\tcache.set(unit, unitCache);\n\t\t} else {\n\t\t\tunitCache = cache.get(unit);\n\t\t}\n\t\tunitCache.set(timestamp, value);\n\t}\n\tclear(): void{\n\t\tthis._cache = new Map<string, Map<string, boolean>>();\n\t}\n}","import { IWorkUnitCache } from \"./workunit_cache_interface\";\nimport { WorkUnitsMapCache } from \"./workunit_map_cache\";\nimport { WorkUnitsObjectCache } from \"./workunit_object_cache\";\n\nexport function createCacheObject(): IWorkUnitCache {\n\n\t// worktime hash is on the hot path,\n\t// Map seems to work faster than plain array, use it whenever possible\n\tif (typeof Map !== \"undefined\") {\n\t\treturn new WorkUnitsMapCache();\n\t} else {\n\t\treturn new WorkUnitsObjectCache();\n\t}\n}","var cacheFactory = require(\"./work_unit_cache\"),\n\tutils = require(\"../../../utils/utils\");\n\nfunction CalendarWorkTimeStrategy(gantt, argumentsHelper){\n\tthis.argumentsHelper = argumentsHelper;\n\tthis.$gantt = gantt;\n\tthis._workingUnitsCache = cacheFactory.createCacheObject();\n}\n\nCalendarWorkTimeStrategy.prototype = {\n\tunits: [\n\t\t\"year\",\n\t\t\"month\",\n\t\t\"week\",\n\t\t\"day\",\n\t\t\"hour\",\n\t\t\"minute\"\n\t],\n\t// cache previously calculated worktime\n\t_getUnitOrder: function (unit) {\n\t\tfor (var i = 0, len = this.units.length; i < len; i++) {\n\t\t\tif (this.units[i] == unit)\n\t\t\t\treturn i;\n\t\t}\n\t},\n\t_timestamp: function (settings) {\n\n\t\tvar timestamp = null;\n\t\tif ((settings.day || settings.day === 0)) {\n\t\t\ttimestamp = settings.day;\n\t\t} else if (settings.date) {\n\t\t\t// store worktime datestamp in utc so it could be recognized in different timezones (e.g. opened locally and sent to the export service in different timezone)\n\t\t\ttimestamp = Date.UTC(settings.date.getFullYear(), settings.date.getMonth(), settings.date.getDate());\n\t\t}\n\t\treturn timestamp;\n\t},\n\t_checkIfWorkingUnit: function (date, unit, order) {\n\t\tif (order === undefined) {\n\t\t\torder = this._getUnitOrder(unit);\n\t\t}\n\n\t\t// disable worktime check for custom time units\n\t\tif (order === undefined) {\n\t\t\treturn true;\n\t\t}\n\t\tif (order) {\n\t\t\t//check if bigger time unit is a work time (hour < day < month...)\n\t\t\t//i.e. don't check particular hour if the whole day is marked as not working\n\t\t\tif (!this._isWorkTime(date, this.units[order - 1], order - 1))\n\t\t\t\treturn false;\n\t\t}\n\t\tif (!this[\"_is_work_\" + unit])\n\t\t\treturn true;\n\t\treturn this[\"_is_work_\" + unit](date);\n\t},\n\t//checkings for particular time units\n\t//methods for month-year-week can be defined, otherwise always return 'true'\n\t_is_work_day: function (date) {\n\t\tvar val = this._getWorkHours(date);\n\n\t\tif (val instanceof Array) {\n\t\t\treturn val.length > 0;\n\t\t}\n\t\treturn false;\n\t},\n\t_is_work_hour: function (date) {\n\t\tvar hours = this._getWorkHours(date); // [7,12] or []\n\t\tvar hour = date.getHours();\n\t\tfor (var i = 0; i < hours.length; i += 2) {\n\t\t\tif (hours[i + 1] === undefined) {\n\t\t\t\treturn hours[i] == hour;\n\t\t\t} else {\n\t\t\t\tif (hour >= hours[i] && hour < hours[i + 1])\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\t_internDatesPull: {},\n\t_nextDate: function (start, unit, step) {\n\t\tvar dateHelper = this.$gantt.date;\n\t\treturn dateHelper.add(start, step, unit);\n\n\t\t/*var start_value = +start,\n\t\t\tkey = unit + \"_\" + step;\n\t\tvar interned = this._internDatesPull[key];\n\t\tif(!interned){\n\t\t\tinterned = this._internDatesPull[key] = {};\n\t\t}\n\t\tvar calculated;\n\t\tif(!interned[start_value]){\n\t\t\tinterned[start_value] = calculated = dateHelper.add(start, step, unit);\n\t\t\t//interned[start_value] = dateHelper.add(start, step, unit);\n\t\t}\n\t\treturn calculated || interned[start_value];*/\n\t},\n\t_getWorkUnitsBetweenGeneric: function (from, to, unit, step) {\n\t\tvar dateHelper = this.$gantt.date;\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\t\tstep = step || 1;\n\t\tvar units = 0;\n\n\n\t\tvar next = null;\n\t\tvar stepStart,\n\t\t\tstepEnd;\n\n\t\t// calculating decimal durations, i.e. 2016-09-20 00:05:00 - 2016-09-20 01:00:00 ~ 0.95 instead of 1\n\t\t// and also  2016-09-20 00:00:00 - 2016-09-20 00:05:00 ~ 0.05 instead of 1\n\t\t// durations must be rounded later\n\t\tvar checkFirst = false;\n\t\tstepStart = dateHelper[unit + \"_start\"](new Date(start));\n\t\tif (stepStart.valueOf() != start.valueOf()) {\n\t\t\tcheckFirst = true;\n\t\t}\n\t\tvar checkLast = false;\n\t\tstepEnd = dateHelper[unit + \"_start\"](new Date(to));\n\t\tif (stepEnd.valueOf() != to.valueOf()) {\n\t\t\tcheckLast = true;\n\t\t}\n\n\t\tvar isLastStep = false;\n\t\twhile (start.valueOf() < end.valueOf()) {\n\t\t\tnext = this._nextDate(start, unit, step);\n\t\t\tisLastStep = (next.valueOf() > end.valueOf());\n\n\t\t\tif (this._isWorkTime(start, unit)) {\n\t\t\t\tif (checkFirst || (checkLast && isLastStep)) {\n\t\t\t\t\tstepStart = dateHelper[unit + \"_start\"](new Date(start));\n\t\t\t\t\tstepEnd = dateHelper.add(stepStart, step, unit);\n\t\t\t\t}\n\n\t\t\t\tif (checkFirst) {\n\t\t\t\t\tcheckFirst = false;\n\t\t\t\t\tnext = this._nextDate(stepStart, unit, step);\n\t\t\t\t\tunits += ((stepEnd.valueOf() - start.valueOf()) / (stepEnd.valueOf() - stepStart.valueOf()));\n\t\t\t\t} else if (checkLast && isLastStep) {\n\t\t\t\t\tcheckLast = false;\n\t\t\t\t\tunits += ((end.valueOf() - start.valueOf()) / (stepEnd.valueOf() - stepStart.valueOf()));\n\n\t\t\t\t} else {\n\t\t\t\t\tunits++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tstart = next;\n\t\t}\n\t\treturn units;\n\t},\n\n\t_getMinutesPerDay: function (date) {\n\t\t// current api doesn't allow setting working minutes, so use hardcoded 60 minutes per hour\n\t\treturn this._getHoursPerDay(date) * 60;\n\t},\n\t_getHoursPerDay: function (date) {\n\t\tvar hours = this._getWorkHours(date);\n\t\tvar res = 0;\n\t\tfor (var i = 0; i < hours.length; i += 2) {\n\t\t\tres += ((hours[i + 1] - hours[i]) || 0);\n\t\t}\n\t\treturn res;\n\t},\n\t_getWorkUnitsForRange: function (from, to, unit, step) {\n\t\tvar total = 0;\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\n\t\tvar getUnitsPerDay;\n\t\tif (unit == \"minute\") {\n\t\t\tgetUnitsPerDay = utils.bind(this._getMinutesPerDay, this);\n\t\t} else {\n\t\t\tgetUnitsPerDay = utils.bind(this._getHoursPerDay, this);\n\t\t}\n\n\t\twhile (start.valueOf() < end.valueOf()) {\n\t\t\tif (this._isWorkTime(start, \"day\")) {\n\t\t\t\ttotal += getUnitsPerDay(start);\n\t\t\t}\n\t\t\tstart = this._nextDate(start, \"day\", 1);\n\t\t}\n\n\t\treturn total / step;\n\t},\n\n\t// optimized method for calculating work units duration of large time spans\n\t// implemented for hours and minutes units, bigger time units don't benefit from the optimization so much\n\t_getWorkUnitsBetweenQuick: function (from, to, unit, step) {\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\t\tstep = step || 1;\n\n\t\tvar firstDayStart = new Date(start);\n\t\tvar firstDayEnd = this.$gantt.date.add(this.$gantt.date.day_start(new Date(start)), 1, \"day\");\n\n\t\tif (end.valueOf() <= firstDayEnd.valueOf()) {\n\t\t\treturn this._getWorkUnitsBetweenGeneric(from, to, unit, step);\n\t\t} else {\n\n\t\t\tvar lastDayStart = this.$gantt.date.day_start(new Date(end));\n\t\t\tvar lastDayEnd = end;\n\n\t\t\tvar startPart = this._getWorkUnitsBetweenGeneric(firstDayStart, firstDayEnd, unit, step);\n\t\t\tvar endPart = this._getWorkUnitsBetweenGeneric(lastDayStart, lastDayEnd, unit, step);\n\n\t\t\tvar rangePart = this._getWorkUnitsForRange(firstDayEnd, lastDayStart, unit, step);\n\t\t\tvar total = startPart + rangePart + endPart;\n\n\t\t\treturn total;\n\t\t}\n\t},\n\n\t_getCalendar: function () {\n\t\treturn this.worktime;\n\t},\n\t_setCalendar: function (settings) {\n\t\tthis.worktime = settings;\n\t},\n\n\t_tryChangeCalendarSettings: function (payload) {\n\t\tvar backup = JSON.stringify(this._getCalendar());\n\t\tpayload();\n\t\tif (this._isEmptyCalendar(this._getCalendar())) {\n\t\t\tthis.$gantt.assert(false, \"Invalid calendar settings, no worktime available\");\n\t\t\tthis._setCalendar(JSON.parse(backup));\n\t\t\tthis._workingUnitsCache.clear();\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\n\t},\n\n\t_isEmptyCalendar: function (settings) {\n\t\tvar result = false,\n\t\t\tdatesArray = [],\n\t\t\tisFullWeekSet = true;\n\t\tfor (var i in settings.dates) {\n\t\t\tresult |= !!settings.dates[i];\n\t\t\tdatesArray.push(i);\n\t\t}\n\n\t\tvar checkFullArray = [];\n\t\tfor (var i = 0; i < datesArray.length; i++) {\n\t\t\tif (datesArray[i] < 10) {\n\t\t\t\tcheckFullArray.push(datesArray[i]);\n\t\t\t}\n\t\t}\n\t\tcheckFullArray.sort();\n\n\t\tfor (var i = 0; i < 7; i++) {\n\t\t\tif (checkFullArray[i] != i)\n\t\t\t\tisFullWeekSet = false;\n\t\t}\n\t\tif (isFullWeekSet)\n\t\t\treturn !result;\n\t\treturn !(result || !!settings.hours); // can still return false if separated dates are set to true\n\t},\n\n\tgetWorkHours: function () {\n\t\tvar config = this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper, arguments);\n\t\treturn this._getWorkHours(config.date);\n\t},\n\t_getWorkHours: function (date) {\n\t\tvar t = this._timestamp({date: date});\n\t\tvar hours = true;\n\t\tvar calendar = this._getCalendar();\n\t\tif (calendar.dates[t] !== undefined) {\n\t\t\thours = calendar.dates[t];//custom day\n\t\t} else if (calendar.dates[date.getDay()] !== undefined) {\n\t\t\thours = calendar.dates[date.getDay()];//week day\n\t\t}\n\t\tif (hours === true) {\n\t\t\treturn calendar.hours;\n\t\t} else if (hours) {\n\t\t\treturn hours;\n\t\t}\n\t\treturn [];\n\t},\n\n\tsetWorkTime: function (settings) {\n\t\treturn this._tryChangeCalendarSettings(utils.bind(function () {\n\t\t\tvar hours = settings.hours !== undefined ? settings.hours : true;\n\t\t\tvar timestamp = this._timestamp(settings);\n\t\t\tif (timestamp !== null) {\n\t\t\t\tthis._getCalendar().dates[timestamp] = hours;\n\t\t\t} else {\n\t\t\t\tthis._getCalendar().hours = hours;\n\t\t\t}\n\t\t\tthis._workingUnitsCache.clear();\n\t\t}, this));\n\t},\n\n\tunsetWorkTime: function (settings) {\n\t\treturn this._tryChangeCalendarSettings(utils.bind(function () {\n\t\t\tif (!settings) {\n\t\t\t\tthis.reset_calendar();\n\t\t\t} else {\n\n\t\t\t\tvar timestamp = this._timestamp(settings);\n\n\t\t\t\tif (timestamp !== null) {\n\t\t\t\t\tdelete this._getCalendar().dates[timestamp];\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Clear work units cache\n\t\t\tthis._workingUnitsCache.clear();\n\t\t}, this));\n\t},\n\n\t_isWorkTime: function (date, unit, order) {\n\t\t// Check if this item has in the cache\n\n\t\t// use string keys\n\t\tvar dateKey = String(date.valueOf());\n\t\tvar is_work_unit = this._workingUnitsCache.getItem(unit, dateKey);\n\n\t\tif (is_work_unit == -1) {\n\t\t\t// calculate if not cached\n\t\t\tis_work_unit = this._checkIfWorkingUnit(date, unit, order);\n\t\t\tthis._workingUnitsCache.setItem(unit, dateKey, is_work_unit);\n\t\t}\n\n\t\treturn is_work_unit;\n\t},\n\n\tisWorkTime: function () {\n\t\tvar config =  this.argumentsHelper.isWorkTimeArguments.apply( this.argumentsHelper, arguments);\n\t\treturn this._isWorkTime(config.date, config.unit);\n\t},\n\n\tcalculateDuration: function () {\n\t\tvar config =  this.argumentsHelper.getDurationArguments.apply( this.argumentsHelper, arguments);\n\n\t\tif (!config.unit) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this._calculateDuration(config.start_date, config.end_date, config.unit, config.step);\n\t},\n\n\t_calculateDuration: function (from, to, unit, step) {\n\t\tvar res = 0;\n\t\tif (unit == \"hour\" || unit == \"minute\") {\n\t\t\tres = this._getWorkUnitsBetweenQuick(from, to, unit, step);\n\t\t} else {\n\t\t\tres = this._getWorkUnitsBetweenGeneric(from, to, unit, step);\n\t\t}\n\n\t\t// getWorkUnits.. returns decimal durations\n\t\treturn Math.round(res);\n\t},\n\thasDuration: function () {\n\t\tvar config =  this.argumentsHelper.getDurationArguments.apply( this.argumentsHelper, arguments);\n\n\t\tvar from = config.start_date,\n\t\t\tto = config.end_date,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\tif (!unit) {\n\t\t\treturn false;\n\t\t}\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\t\tstep = step || 1;\n\n\t\twhile (start.valueOf() < end.valueOf()) {\n\t\t\tif (this._isWorkTime(start, unit))\n\t\t\t\treturn true;\n\t\t\tstart = this._nextDate(start, unit, step);\n\t\t}\n\t\treturn false;\n\t},\n\n\tcalculateEndDate: function () {\n\t\tvar config =  this.argumentsHelper.calculateEndDateArguments.apply( this.argumentsHelper, arguments);\n\n\t\tvar from = config.start_date,\n\t\t\tduration = config.duration,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\tif (!unit)\n\t\t\treturn false;\n\n\t\tvar mult = (config.duration >= 0) ? 1 : -1;\n\t\tduration = Math.abs(duration * 1);\n\t\treturn this._calculateEndDate(from, duration, unit, step * mult);\n\t},\n\n\t_calculateEndDate: function (from, duration, unit, step) {\n\t\tif (!unit)\n\t\t\treturn false;\n\n\t\tif (step == 1 && unit == \"minute\") {\n\t\t\treturn this._calculateMinuteEndDate(from, duration, step);\n\t\t} else if (step == 1 && unit == \"hour\") {\n\t\t\treturn this._calculateHourEndDate(from, duration, step);\n\t\t} else {\n\t\t\tvar interval = this._addInterval(from, duration, unit, step, null);\n\t\t\treturn interval.end;\n\t\t}\n\t},\n\n\t_addInterval: function (start, duration, unit, step, stopAction) {\n\t\tvar added = 0;\n\t\tvar current = start;\n\t\twhile (added < duration && !(stopAction && stopAction(current))) {\n\t\t\tvar next = this._nextDate(current, unit, step);\n\t\t\tif (this._isWorkTime(step > 0 ? new Date(next.valueOf() - 1) : new Date(next.valueOf() + 1), unit)) {\n\t\t\t\tadded++;\n\t\t\t}\n\t\t\tcurrent = next;\n\t\t}\n\t\treturn {\n\t\t\tend: current,\n\t\t\tsatrt: start,\n\t\t\tadded: added\n\t\t};\n\t},\n\n\t_calculateHourEndDate: function (from, duration,  step) {\n\t\tvar start = new Date(from),\n\t\tadded = 0;\n\t\tstep = step || 1;\n\t\tduration = Math.abs(duration * 1);\n\n\t\tvar interval = this._addInterval(start, duration, \"hour\", step, function (date) {\n\t\t\t// iterate until hour end\n\t\t\tif (!(date.getHours() || date.getMinutes() || date.getSeconds() || date.getMilliseconds())) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\n\t\tadded = interval.added;\n\t\tstart = interval.end;\n\n\t\tvar durationLeft = duration - added;\n\n\t\tif (durationLeft && durationLeft > 24) {\n\t\t\tvar current = start;\n\t\t\twhile (added < duration) {\n\t\t\t\tvar next = this._nextDate(current, \"day\", step);\n\t\t\t\tif (this._isWorkTime(step > 0 ? new Date(next.valueOf() - 1) : new Date(next.valueOf() + 1), \"day\")) {\n\t\t\t\t\tvar hours = this._getHoursPerDay(current);\n\t\t\t\t\tif (added + hours >= duration) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tadded += hours;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcurrent = next;\n\t\t\t}\n\t\t\tstart = current;\n\t\t}\n\n\t\tif (added < duration) {\n\t\t\tvar durationLeft = duration - added;\n\t\t\tinterval = this._addInterval(start, durationLeft, \"hour\", step, null);\n\t\t\tstart = interval.end;\n\t\t}\n\n\t\treturn start;\n\t},\n\n\t_calculateMinuteEndDate: function (from, duration, step) {\n\n\t\tvar start = new Date(from),\n\t\t\tadded = 0;\n\t\tstep = step || 1;\n\t\tduration = Math.abs(duration * 1);\n\n\t\tvar interval = this._addInterval(start, duration, \"minute\", step, function (date) {\n\t\t\t// iterate until hour end\n\t\t\tif (!(date.getMinutes() || date.getSeconds() || date.getMilliseconds())) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\n\t\tadded = interval.added;\n\t\tstart = interval.end;\n\n\t\tif (added < duration) {\n\t\t\tvar left = duration - added;\n\t\t\tvar hours = Math.floor(left / 60);\n\t\t\tif (hours) {\n\t\t\t\tstart = this._calculateEndDate(start, hours, \"hour\", step > 0 ? 1 : -1);\n\t\t\t\tadded += hours * 60;\n\t\t\t}\n\t\t}\n\n\t\tif (added < duration) {\n\t\t\tvar durationLeft = duration - added;\n\t\t\tinterval = this._addInterval(start, durationLeft, \"minute\", step, null);\n\t\t\tstart = interval.end;\n\t\t}\n\n\t\treturn start;\n\t},\n\n\tgetClosestWorkTime: function () {\n\t\tvar settings =  this.argumentsHelper.getClosestWorkTimeArguments.apply( this.argumentsHelper, arguments);\n\t\treturn this._getClosestWorkTime(settings.date, settings.unit, settings.dir);\n\t},\n\n\t_getClosestWorkTime: function (inputDate, unit, direction) {\n\t\tvar result = new Date(inputDate);\n\n\t\tif (this._isWorkTime(result, unit)) {\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this.$gantt.date[unit + '_start'](result);\n\n\t\tif (direction == 'any' || !direction) {\n\t\t\tvar closestFuture = this._getClosestWorkTimeFuture(result, unit);\n\t\t\tvar closestPast = this._getClosestWorkTimePast(result, unit);\n\t\t\tif (Math.abs(closestFuture - inputDate) <= Math.abs(inputDate - closestPast)) {\n\t\t\t\tresult = closestFuture;\n\t\t\t} else {\n\t\t\t\tresult = closestPast;\n\t\t\t}\n\t\t} else if (direction == \"past\") {\n\t\t\tresult = this._getClosestWorkTimePast(result, unit);\n\t\t} else {\n\t\t\tresult = this._getClosestWorkTimeFuture(result, unit);\n\t\t}\n\t\treturn result;\n\t},\n\n\t_getClosestWorkTimeFuture: function (date, unit) {\n\t\treturn this._getClosestWorkTimeGeneric(date, unit, 1);\n\t},\n\n\t_getClosestWorkTimePast: function (date, unit) {\n\t\tvar result = this._getClosestWorkTimeGeneric(date, unit, -1);\n\t\t// should return the end of the closest work interval\n\t\treturn this.$gantt.date.add(result, 1, unit);\n\t},\n\n\t_getClosestWorkTimeGeneric: function (date, unit, increment) {\n\t\tvar unitOrder = this._getUnitOrder(unit),\n\t\t\tbiggerTimeUnit = this.units[unitOrder - 1];\n\n\t\tvar result = date;\n\n\t\t// be extra sure we won't fall into infinite loop, 3k seems big enough\n\t\tvar maximumLoop = 3000,\n\t\t\tcount = 0;\n\n\t\twhile (!this._isWorkTime(result, unit)) {\n\t\t\tif (biggerTimeUnit && !this._isWorkTime(result, biggerTimeUnit)) {\n\t\t\t\t// if we look for closest work hour and detect a week-end - first find the closest work day,\n\t\t\t\t// and continue iterations after that\n\t\t\t\tif (increment > 0) {\n\t\t\t\t\tresult = this._getClosestWorkTimeFuture(result, biggerTimeUnit);\n\t\t\t\t} else {\n\t\t\t\t\tresult = this._getClosestWorkTimePast(result, biggerTimeUnit);\n\t\t\t\t}\n\n\t\t\t\tif (this._isWorkTime(result, unit)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcount++;\n\t\t\tif (count > maximumLoop) {\n\t\t\t\tthis.$gantt.assert(false, \"Invalid working time check\");\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar tzOffset = result.getTimezoneOffset();\n\t\t\tresult = this.$gantt.date.add(result, increment, unit);\n\n\t\t\tresult = this.$gantt._correct_dst_change(result, tzOffset, increment, unit);\n\t\t\tif (this.$gantt.date[unit + '_start']) {\n\t\t\t\tresult = this.$gantt.date[unit + '_start'](result);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n};\n\nmodule.exports = CalendarWorkTimeStrategy;","var utils = require(\"../../utils/utils\");\nvar createArgumentsHelper = require(\"./calendar_arguments_helper\");\nvar CalendarWorktimeStrategy = require(\"./strategy/calendar_strategy\");\n\nfunction CalendarManager (gantt){\n\tthis.$gantt = gantt;\n\tthis._calendars = {};\n}\n\nCalendarManager.prototype = {\n\t_calendars: {},\n\t_getDayHoursForMultiple: function (calendars, date) {\n\t\tvar units = [],\n\t\t\ttick = true,\n\t\t\tcurrPos = 0,\n\t\t\tis_work_hour = false,\n\t\t\tstart = this.$gantt.date.day_start(new Date(date));\n\t\tfor (var hour = 0; hour < 24; hour++) {\n\t\t\tis_work_hour = calendars.reduce(function (acc, calendar) {\n\t\t\t\treturn acc && calendar._is_work_hour(start);\n\t\t\t}, true);\n\t\t\tif (is_work_hour) {\n\t\t\t\tif (tick) {\n\t\t\t\t\tunits[currPos] = hour;\n\t\t\t\t\tunits[currPos + 1] = (hour + 1);\n\t\t\t\t\tcurrPos += 2;\n\t\t\t\t} else {\n\t\t\t\t\tunits[currPos - 1] += 1;\n\t\t\t\t}\n\t\t\t\ttick = false;\n\t\t\t} else if (!tick) {\n\t\t\t\ttick = true;\n\t\t\t}\n\t\t\tstart = this.$gantt.date.add(start, 1, \"hour\");\n\t\t}\n\t\tif (!units.length)\n\t\t\tunits = false;\n\t\treturn units;\n\t},\n\tmergeCalendars: function () {\n\t\tvar newCalendar = this.createCalendar(),\n\t\t\tday,\n\t\t\tunits = [];\n\t\tvar calendars = Array.prototype.slice.call(arguments, 0);\n\t\tnewCalendar.worktime.hours = [0, 24];\n\t\tnewCalendar.worktime.dates = {};\n\t\tvar start = this.$gantt.date.day_start(new Date(259200000)); // 1970 day=0\n\t\tfor (day = 0; day < 7; day++) {\n\t\t\tunits = this._getDayHoursForMultiple(calendars, start);\n\t\t\tnewCalendar.worktime.dates[day] = units;\n\t\t\tstart = this.$gantt.date.add(start, 1, \"day\");\n\t\t}\n\t\tfor (var i = 0; i < calendars.length; i++) {\n\t\t\tfor (var value in calendars[i].worktime.dates) if (+value > 10000) {\n\t\t\t\tunits = this._getDayHoursForMultiple(calendars, new Date(+value));\n\t\t\t\tnewCalendar.worktime.dates[value] = units;\n\t\t\t}\n\t\t}\n\t\treturn newCalendar;\n\t},\n\n\t_convertWorktimeSettings: function (settings) {\n\t\tvar days = settings.days;\n\t\tif (days) {\n\t\t\tsettings.dates = settings.dates || {};\n\t\t\tfor (var i = 0; i < days.length; i++) {\n\t\t\t\tsettings.dates[i] = days[i];\n\t\t\t\tif (!(days[i] instanceof Array)) {\n\t\t\t\t\tsettings.dates[i] = !!days[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tdelete settings.days;\n\t\t}\n\t\treturn settings;\n\t},\n\n\tcreateCalendar: function (parentCalendar) {\n\t\tvar settings;\n\n\t\tif (!parentCalendar) {\n\t\t\tparentCalendar = {};\n\t\t}\n\n\t\tif (parentCalendar.worktime) {\n\t\t\tsettings = utils.copy(parentCalendar.worktime);\n\t\t} else {\n\t\t\tsettings = utils.copy(parentCalendar);\n\t\t}\n\n\t\tvar defaults = utils.copy(this.defaults.fulltime.worktime);\n\t\tutils.mixin(settings, defaults);\n\n\t\tvar id = utils.uid();\n\t\tvar calendar = {\n\t\t\tid: id + \"\",\n\t\t\tworktime: this._convertWorktimeSettings(settings)\n\t\t};\n\n\t\tvar apiCore = new CalendarWorktimeStrategy(this.$gantt, createArgumentsHelper(this.$gantt));\n\t\tutils.mixin(apiCore, calendar);\n\n\t\t// validate/check if empty calendar\n\t\tif (!apiCore._tryChangeCalendarSettings(function () {\n\t\t\t})) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn apiCore;\n\t\t}\n\t},\n\n\tgetCalendar: function (id) {\n\t\tid = id || \"global\";\n\t\tthis.createDefaultCalendars();\n\t\treturn this._calendars[id];\n\t},\n\n\tgetCalendars: function () {\n\t\tvar res = [];\n\t\tfor (var i in this._calendars) {\n\t\t\tres.push(this.getCalendar(i));\n\t\t}\n\t\treturn res;\n\t},\n\n\t_getOwnCalendar: function(task){\n\t\tvar config = this.$gantt.config;\n\t\tif (task[config.calendar_property]) {\n\t\t\treturn this.getCalendar(task[config.calendar_property]);\n\t\t}\n\n\t\tif (config.resource_calendars) {\n\t\t\tfor (var field in config.resource_calendars) {\n\t\t\t\tvar resource = config.resource_calendars[field];\n\t\t\t\tif (task[field]) {\n\t\t\t\t\tvar calendarId = resource[task[field]];\n\t\t\t\t\tif (calendarId) {\n\t\t\t\t\t\treturn this.getCalendar(calendarId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetTaskCalendar: function (task) {\n\t\tif (!task) {\n\t\t\treturn this.getCalendar();\n\t\t}\n\n\t\tvar calendar = this._getOwnCalendar(task);\n\t\tvar gantt = this.$gantt;\n\t\tif (!calendar && gantt.config.inherit_calendar && gantt.isTaskExists(task.parent)){\n\t\t\tvar stop = false;\n\t\t\tgantt.eachParent(function(parent){\n\t\t\t\tif(stop) return;\n\t\t\t\tif(gantt.isSummaryTask(parent)){\n\t\t\t\t\tcalendar = this._getOwnCalendar(parent);\n\t\t\t\t\tif(calendar){\n\t\t\t\t\t\tstop = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, task.id, this);\n\t\t}\n\n\t\treturn calendar || this.getCalendar();\n\t},\n\n\taddCalendar: function (calendar) { // puts new calendar to Global Storage - gantt.calendarManager._calendars {}\n\t\tif (!(calendar instanceof CalendarWorktimeStrategy)) {\n\t\t\tvar id = calendar.id;\n\t\t\tcalendar = this.createCalendar(calendar);\n\t\t\tcalendar.id = id;\n\t\t}\n\t\tvar config = this.$gantt.config;\n\n\t\tcalendar.id = calendar.id || utils.uid();\n\t\tthis._calendars[calendar.id] = calendar;\n\t\tif (!config.worktimes)\n\t\t\tconfig.worktimes = {};\n\t\tconfig.worktimes[calendar.id] = calendar.worktime;\n\t\treturn calendar.id;\n\t},\n\n\tdeleteCalendar: function (calendar) {\n\t\tvar config = this.$gantt.config;\n\t\tif (!calendar) return false;\n\t\tif (this._calendars[calendar]) {\n\t\t\tdelete this._calendars[calendar];\n\t\t\tif (config.worktimes && config.worktimes[calendar])\n\t\t\t\tdelete config.worktimes[calendar];\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\t},\n\n\trestoreConfigCalendars: function (configs) {\n\t\tfor (var i in configs) {\n\t\t\tif (this._calendars[i])\n\t\t\t\tcontinue;\n\n\t\t\tvar settings = configs[i];\n\t\t\tvar calendar = this.createCalendar(settings);\n\t\t\tcalendar.id = i;\n\t\t\tthis.addCalendar(calendar);\n\t\t}\n\t},\n\n\tdefaults: {\n\t\tglobal: {\n\t\t\tid: \"global\",\n\t\t\tworktime: {\n\t\t\t\thours: [8, 17],\n\t\t\t\tdays: [0, 1, 1, 1, 1, 1, 0]\n\t\t\t}\n\t\t},\n\t\tfulltime: {\n\t\t\tid: \"fulltime\",\n\t\t\tworktime: {\n\t\t\t\thours: [0, 24],\n\t\t\t\tdays: [1, 1, 1, 1, 1, 1, 1]\n\t\t\t}\n\t\t}\n\t},\n\n\tcreateDefaultCalendars: function () {\n\t\tvar config = this.$gantt.config;\n\t\tthis.restoreConfigCalendars(this.defaults);\n\t\tthis.restoreConfigCalendars(config.worktimes);\n\t}\n};\n\nmodule.exports = CalendarManager;","var CalendarManager = require(\"./calendar_manager\"),\n\tTimeCalculator = require(\"./time_calculator\"),\n\tworktimeFacadeFactory = require(\"../facades/worktime_calendars\"),\n\tutils = require(\"../../utils/utils\");\n\nmodule.exports = function (gantt) {\n\tvar manager = new CalendarManager(gantt),\n\ttimeCalculator = new TimeCalculator(manager);\n\tvar facade = worktimeFacadeFactory.create(manager, timeCalculator);\n\tutils.mixin(gantt, facade);\n};\n","var helpers = require(\"../utils/helpers\");\n\nmodule.exports = function(gantt) {\n\n\tgantt.load = function (url, type, callback) {\n\t\tthis._load_url = url;\n\t\tthis.assert(arguments.length, \"Invalid load arguments\");\n\n\t\tvar tp = 'json', cl = null;\n\t\tif (arguments.length >= 3) {\n\t\t\ttp = type;\n\t\t\tcl = callback;\n\t\t} else {\n\t\t\tif (typeof arguments[1] == \"string\")\n\t\t\t\ttp = arguments[1];\n\t\t\telse if (typeof arguments[1] == \"function\")\n\t\t\t\tcl = arguments[1];\n\t\t}\n\n\t\tthis._load_type = tp;\n\n\t\tthis.callEvent(\"onLoadStart\", [url, tp]);\n\n\t\treturn this.ajax.get(url, gantt.bind(function (l) {\n\t\t\tthis.on_load(l, tp);\n\t\t\tthis.callEvent(\"onLoadEnd\", [url, tp]);\n\t\t\tif (typeof cl == \"function\")\n\t\t\t\tcl.call(this);\n\t\t}, this));\n\t};\n\tgantt.parse = function (data, type) {\n\t\tthis.on_load({xmlDoc: {responseText: data}}, type);\n\t};\n\n\tgantt.serialize = function (type) {\n\t\ttype = type || \"json\";\n\t\treturn this[type].serialize();\n\t};\n\n\t/*\n\ttasks and relations\n\t{\n\tdata:[\n\t\t{\n\t\t\t\"id\":\"string\",\n\t\t\t\"text\":\"...\",\n\t\t\t\"start_date\":\"Date or string\",\n\t\t\t\"end_date\":\"Date or string\",\n\t\t\t\"duration\":\"number\",\n\t\t\t\"progress\":\"0..1\",\n\t\t\t\"parent_id\":\"string\",\n\t\t\t\"order\":\"number\"\n\t\t},...],\n\tlinks:[\n\t\t{\n\t\t\tid:\"string\",\n\t\t\tsource:\"string\",\n\t\t\ttarget:\"string\",\n\t\t\ttype:\"string\"\n\t\t},...],\n\tcollections:{\n\t\t\tcollectionName:[\n\t\t\t\t{key:, label:, optional:...},...\n\t\t\t],...\n\t\t}\n\t}\n\n\t* */\n\n\tgantt.on_load = function (resp, type) {\n\t\tthis.callEvent(\"onBeforeParse\", []);\n\t\tif (!type)\n\t\t\ttype = \"json\";\n\t\tthis.assert(this[type], \"Invalid data type:'\" + type + \"'\");\n\n\t\tvar raw = resp.xmlDoc.responseText;\n\n\t\tvar data = this[type].parse(raw, resp);\n\t\tthis._process_loading(data);\n\t};\n\n\tgantt._process_loading = function (data) {\n\t\tif(data.collections)\n\t\t\tthis._load_collections(data.collections);\n\n\t\tthis.$data.tasksStore.parse(data.data);\n\t\tvar links = data.links || (data.collections ? data.collections.links : []);\n\t\tthis.$data.linksStore.parse(links);\n\n\t\t//this._sync_links();\n\t\tthis.callEvent(\"onParse\", []);\n\t\tthis.render();\n\t\tif(this.config.initial_scroll){\n\t\t\tvar firstTask = this.getTaskByIndex(0);\n\t\t\tvar id = firstTask ? firstTask.id : this.config.root_id;\n\t\t\tif(this.isTaskExists(id))\n\t\t\t\tthis.showTask(id);\n\t\t}\n\t};\n\n\n\tgantt._load_collections = function (collections) {\n\t\tvar collections_loaded = false;\n\t\tfor (var key in collections) {\n\t\t\tif (collections.hasOwnProperty(key)) {\n\t\t\t\tcollections_loaded = true;\n\t\t\t\tvar collection = collections[key];\n\t\t\t\tvar arr = this.serverList[key];\n\t\t\t\tif (!arr) continue;\n\t\t\t\tarr.splice(0, arr.length); //clear old options\n\t\t\t\tfor (var j = 0; j < collection.length; j++) {\n\t\t\t\t\tvar option = collection[j];\n\t\t\t\t\tvar obj = this.copy(option);\n\t\t\t\t\tobj.key = obj.value;// resulting option object\n\n\t\t\t\t\tfor (var option_key in option) {\n\t\t\t\t\t\tif (option.hasOwnProperty(option_key)) {\n\t\t\t\t\t\t\tif (option_key == \"value\" || option_key == \"label\")\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\tobj[option_key] = option[option_key]; // obj['value'] = option['value']\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tarr.push(obj);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (collections_loaded)\n\t\t\tthis.callEvent(\"onOptionsLoad\", []);\n\t};\n\n\tgantt.attachEvent(\"onBeforeTaskDisplay\", function (id, task) {\n\t\treturn !task.$ignore;\n\t});\n\n\tgantt.json = {\n\t\tparse: function (data) {\n\t\t\tgantt.assert(data, \"Invalid data\");\n\n\t\t\tif (typeof data == \"string\") {\n\t\t\t\tif (window.JSON)\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\telse {\n\t\t\t\t\tgantt.assert(false, \"JSON is not supported\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (data.dhx_security)\n\t\t\t\tgantt.security_key = data.dhx_security;\n\t\t\treturn data;\n\t\t},\n\t\tserializeTask: function (task) {\n\t\t\treturn this._copyObject(task);\n\t\t},\n\t\tserializeLink: function (link) {\n\t\t\treturn this._copyLink(link);\n\t\t},\n\t\t_copyLink: function (obj) {\n\t\t\tvar copy = {};\n\t\t\tfor (var key in obj)\n\t\t\t\tcopy[key] = obj[key];\n\t\t\treturn copy;\n\t\t},\n\t\t_copyObject: function (obj) {\n\t\t\tvar copy = {};\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (key.charAt(0) == \"$\")\n\t\t\t\t\tcontinue;\n\t\t\t\tcopy[key] = obj[key];\n\n\t\t\t\tif (helpers.isDate(copy[key])) {\n\t\t\t\t\tcopy[key] = gantt.templates.xml_format !== gantt.templates.formate_date ? gantt.templates.xml_format(copy[key]) : gantt.templates.formate_date(copy[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn copy;\n\t\t},\n\t\tserialize: function () {\n\t\t\tvar tasks = [];\n\t\t\tvar links = [];\n\n\t\t\tgantt.eachTask(function (obj) {\n\t\t\t\tgantt.resetProjectDates(obj);\n\t\t\t\ttasks.push(this.serializeTask(obj));\n\t\t\t}, gantt.config.root_id, this);\n\n\t\t\tvar rawLinks = gantt.getLinks();\n\t\t\tfor (var i = 0; i < rawLinks.length; i++) {\n\t\t\t\tlinks.push(this.serializeLink(rawLinks[i]));\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdata: tasks,\n\t\t\t\tlinks: links\n\t\t\t};\n\t\t}\n\t};\n\n\t/*\n\t<data>\n\t\t<task id:\"some\" parent_id=\"0\" progress=\"0.5\">\n\t\t\t<text>My task 1</text>\n\t\t\t<start_date>16.08.2013</start_date>\n\t\t\t<end_date>22.08.2013</end_date>\n\t\t</task>\n\t\t<coll_options>\n\t\t\t<links>\n\t\t\t\t<link source='a1' target='b2' type='c3' />\n\t\t\t</links>\n\t\t</coll_options>\n\t</data>\n\t*/\n\n\tgantt.xml = {\n\t\t_xmlNodeToJSON: function (node, attrs_only) {\n\t\t\tvar t = {};\n\t\t\tfor (var i = 0; i < node.attributes.length; i++)\n\t\t\t\tt[node.attributes[i].name] = node.attributes[i].value;\n\n\t\t\tif (!attrs_only) {\n\t\t\t\tfor (var i = 0; i < node.childNodes.length; i++) {\n\t\t\t\t\tvar child = node.childNodes[i];\n\t\t\t\t\tif (child.nodeType == 1)\n\t\t\t\t\t\tt[child.tagName] = child.firstChild ? child.firstChild.nodeValue : \"\";\n\t\t\t\t}\n\n\t\t\t\tif (!t.text) t.text = node.firstChild ? node.firstChild.nodeValue : \"\";\n\t\t\t}\n\n\t\t\treturn t;\n\t\t},\n\t\t_getCollections: function (loader) {\n\t\t\tvar collection = {};\n\t\t\tvar opts = gantt.ajax.xpath(\"//coll_options\", loader);\n\t\t\tfor (var i = 0; i < opts.length; i++) {\n\t\t\t\tvar bind = opts[i].getAttribute(\"for\");\n\t\t\t\tvar arr = collection[bind] = [];\n\t\t\t\tvar itms = gantt.ajax.xpath(\".//item\", opts[i]);\n\t\t\t\tfor (var j = 0; j < itms.length; j++) {\n\t\t\t\t\tvar itm = itms[j];\n\t\t\t\t\tvar attrs = itm.attributes;\n\t\t\t\t\tvar obj = {key: itms[j].getAttribute(\"value\"), label: itms[j].getAttribute(\"label\")};\n\t\t\t\t\tfor (var k = 0; k < attrs.length; k++) {\n\t\t\t\t\t\tvar attr = attrs[k];\n\t\t\t\t\t\tif (attr.nodeName == \"value\" || attr.nodeName == \"label\")\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tobj[attr.nodeName] = attr.nodeValue;\n\t\t\t\t\t}\n\t\t\t\t\tarr.push(obj);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn collection;\n\t\t},\n\t\t_getXML: function (text, loader, toptag) {\n\t\t\ttoptag = toptag || \"data\";\n\t\t\tif (!loader.getXMLTopNode) {\n\t\t\t\tloader = gantt.ajax.parse(loader);\n\t\t\t}\n\n\t\t\tvar xml = gantt.ajax.xmltop(toptag, loader.xmlDoc);\n\t\t\tif (!xml || xml.tagName != toptag) throw \"Invalid XML data\";\n\n\t\t\tvar skey = xml.getAttribute(\"dhx_security\");\n\t\t\tif (skey)\n\t\t\t\tgantt.security_key = skey;\n\n\t\t\treturn xml;\n\t\t},\n\t\tparse: function (text, loader) {\n\t\t\tloader = this._getXML(text, loader);\n\t\t\tvar data = {};\n\n\t\t\tvar evs = data.data = [];\n\t\t\tvar xml = gantt.ajax.xpath(\"//task\", loader);\n\n\t\t\tfor (var i = 0; i < xml.length; i++)\n\t\t\t\tevs[i] = this._xmlNodeToJSON(xml[i]);\n\n\t\t\tdata.collections = this._getCollections(loader);\n\t\t\treturn data;\n\t\t},\n\t\t_copyLink: function (obj) {\n\t\t\treturn \"<item id='\" + obj.id + \"' source='\" + obj.source + \"' target='\" + obj.target + \"' type='\" + obj.type + \"' />\";\n\t\t},\n\t\t_copyObject: function (obj) {\n\t\t\treturn \"<task id='\" + obj.id + \"' parent='\" + (obj.parent || \"\") + \"' start_date='\" + obj.start_date + \"' duration='\" + obj.duration + \"' open='\" + (!!obj.open) + \"' progress='\" + obj.progress + \"' end_date='\" + obj.end_date + \"'><![CDATA[\" + obj.text + \"]]></task>\";\n\t\t},\n\t\tserialize: function () {\n\t\t\tvar tasks = [];\n\t\t\tvar links = [];\n\n\t\t\tvar json = gantt.json.serialize();\n\t\t\tfor (var i = 0, len = json.data.length; i < len; i++) {\n\t\t\t\ttasks.push(this._copyObject(json.data[i]));\n\t\t\t}\n\t\t\tfor (var i = 0, len = json.links.length; i < len; i++) {\n\t\t\t\tlinks.push(this._copyLink(json.links[i]));\n\t\t\t}\n\t\t\treturn \"<data>\" + tasks.join(\"\") + \"<coll_options for='links'>\" + links.join(\"\") + \"</coll_options></data>\";\n\t\t}\n\t};\n\n\n\tgantt.oldxml = {\n\t\tparse: function (text, loader) {\n\t\t\tloader = gantt.xml._getXML(text, loader, \"projects\");\n\t\t\tvar data = {collections: {links: []}};\n\n\t\t\tvar evs = data.data = [];\n\t\t\tvar xml = gantt.ajax.xpath(\"//task\", loader);\n\n\t\t\tfor (var i = 0; i < xml.length; i++) {\n\t\t\t\tevs[i] = gantt.xml._xmlNodeToJSON(xml[i]);\n\t\t\t\tvar parent = xml[i].parentNode;\n\n\t\t\t\tif (parent.tagName == \"project\")\n\t\t\t\t\tevs[i].parent = \"project-\" + parent.getAttribute(\"id\");\n\t\t\t\telse\n\t\t\t\t\tevs[i].parent = parent.parentNode.getAttribute(\"id\");\n\t\t\t}\n\n\t\t\txml = gantt.ajax.xpath(\"//project\", loader);\n\t\t\tfor (var i = 0; i < xml.length; i++) {\n\t\t\t\tvar ev = gantt.xml._xmlNodeToJSON(xml[i], true);\n\t\t\t\tev.id = \"project-\" + ev.id;\n\t\t\t\tevs.push(ev);\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < evs.length; i++) {\n\t\t\t\tvar ev = evs[i];\n\t\t\t\tev.start_date = ev.startdate || ev.est;\n\t\t\t\tev.end_date = ev.enddate;\n\t\t\t\tev.text = ev.name;\n\t\t\t\tev.duration = ev.duration / 8;\n\t\t\t\tev.open = 1;\n\t\t\t\tif (!ev.duration && !ev.end_date) ev.duration = 1;\n\t\t\t\tif (ev.predecessortasks)\n\t\t\t\t\tdata.collections.links.push({\n\t\t\t\t\t\ttarget: ev.id,\n\t\t\t\t\t\tsource: ev.predecessortasks,\n\t\t\t\t\t\ttype: gantt.config.links.finish_to_start\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn data;\n\t\t},\n\t\tserialize: function () {\n\t\t\tgantt.message(\"Serialization to 'old XML' is not implemented\");\n\t\t}\n\t};\n\n\tgantt.serverList = function (name, array) {\n\t\tif (array) {\n\t\t\tthis.serverList[name] = array.slice(0);\n\t\t} else if (!this.serverList[name]) {\n\t\t\tthis.serverList[name] = [];\n\t\t}\n\t\treturn this.serverList[name];\n\t};\n\n};","module.exports = function(gantt) {\n\tgantt.isReadonly = function (item) {\n\t\tif (item && item[this.config.editable_property]) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn (item && item[this.config.readonly_property]) || this.config.readonly;\n\t\t}\n\t};\n};","module.exports = function(gantt){\n\t// TODO: why eslint fails on regexp?\n\t// eslint-disable-next-line no-control-regex\n\tvar htmlTags = new RegExp(\"<(?:.|\\n)*?>\", \"gm\");\n\tvar extraSpaces = new RegExp(\" +\", \"gm\");\n\n\tfunction stripHTMLLite(htmlText){\n\t\treturn (htmlText + \"\")\n\t\t\t.replace(htmlTags, \" \").\n\t\t\treplace(extraSpaces, \" \");\n\t}\n\n\tvar singleQuotes = new RegExp(\"'\", \"gm\");\n\tfunction escapeQuotes(text){\n\t\treturn (text + \"\").replace(singleQuotes, \"&#39;\");\n\t}\n\n\tgantt._waiAria = {\n\t\tgetAttributeString: function(attr){\n\t\t\tvar attributes = [\" \"];\n\t\t\tfor(var i in attr){\n\t\t\t\tvar text = escapeQuotes(stripHTMLLite(attr[i]));\n\t\t\t\tattributes.push(i + \"='\" + text + \"'\");\n\t\t\t}\n\t\t\tattributes.push(\" \");\n\t\t\treturn attributes.join(\" \");\n\n\t\t},\n\n\t\tgetTimelineCellAttr:function(dateString){\n\n\t\t\treturn gantt._waiAria.getAttributeString({\"aria-label\": dateString});\n\t\t},\n\n\t\t_taskCommonAttr: function(task, div){\n\n\t\t\tif(!(task.start_date && task.end_date))\n\t\t\t\treturn;\n\n\t\t\tdiv.setAttribute(\"aria-label\", stripHTMLLite(gantt.templates.tooltip_text(task.start_date, task.end_date, task)));\n\n\t\t\tif(gantt.isReadonly(task)){\n\t\t\t\tdiv.setAttribute(\"aria-readonly\", true);\n\t\t\t}\n\n\t\t\tif(task.$dataprocessor_class){\n\t\t\t\tdiv.setAttribute(\"aria-busy\", true);\n\t\t\t}\n\n\t\t\tdiv.setAttribute(\"aria-selected\", gantt.isSelectedTask(task.id) ? \"true\" : \"false\");\n\t\t},\n\n\t\tsetTaskBarAttr: function(task, div){\n\t\t\tthis._taskCommonAttr(task, div);\n\n\t\t\tif(!gantt.isReadonly(task) && gantt.config.drag_move){\n\t\t\t\tif(task.id != gantt.getState().drag_id){\n\t\t\t\t\tdiv.setAttribute(\"aria-grabbed\", false);\n\t\t\t\t}else{\n\t\t\t\t\tdiv.setAttribute(\"aria-grabbed\", true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\ttaskRowAttr: function(task, div){\n\n\t\t\tthis._taskCommonAttr(task, div);\n\n\t\t\tif(!gantt.isReadonly(task) && gantt.config.order_branch){\n\t\t\t\tdiv.setAttribute(\"aria-grabbed\", false);\n\t\t\t}\n\n\t\t\tdiv.setAttribute(\"role\", \"row\");\n\n\t\t\tdiv.setAttribute(\"aria-level\", task.$level);\n\n\t\t\tif(gantt.hasChild(task.id)){\n\t\t\t\tdiv.setAttribute(\"aria-expanded\", task.$open ? \"true\" : \"false\");\n\t\t\t}\n\t\t},\n\n\t\tlinkAttr: function(link, div){\n\n\t\t\tvar linkTypes = gantt.config.links;\n\n\t\t\tvar toStart = link.type == linkTypes.finish_to_start || link.type == linkTypes.start_to_start;\n\t\t\tvar fromStart = link.type == linkTypes.start_to_start || link.type == linkTypes.start_to_finish;\n\n\t\t\tvar content = gantt.locale.labels.link + \" \" +  gantt.templates.drag_link(link.source, fromStart, link.target, toStart);\n\n\t\t\tdiv.setAttribute(\"aria-label\", stripHTMLLite(content));\n\t\t\tif(gantt.isReadonly(link)){\n\t\t\t\tdiv.setAttribute(\"aria-readonly\", true);\n\t\t\t}\n\t\t},\n\n\t\tgridSeparatorAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"separator\");\n\t\t},\n\n\t\tlightboxHiddenAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\n\t\t},\n\n\t\tlightboxVisibleAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"false\");\n\t\t},\n\n\t\tlightboxAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\n\t\t\tdiv.firstChild.setAttribute(\"role\", \"heading\");\n\t\t},\n\n\t\tlightboxButtonAttrString:function(buttonName){\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\":gantt.locale.labels[buttonName], \"tabindex\":\"0\"});\n\t\t},\n\n\t\tlightboxHeader: function(div, headerText){\n\t\t\tdiv.setAttribute(\"aria-label\", headerText);\n\t\t},\n\n\t\tlightboxSelectAttrString: function(time_option){\n\t\t\tvar label = \"\";\n\n\t\t\tswitch (time_option) {\n\t\t\t\tcase \"%Y\":\n\t\t\t\t\tlabel = gantt.locale.labels.years;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%m\":\n\t\t\t\t\tlabel = gantt.locale.labels.months;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%d\":\n\t\t\t\t\tlabel = gantt.locale.labels.days;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%H:%i\":\n\t\t\t\t\tlabel = gantt.locale.labels.hours + gantt.locale.labels.minutes;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn gantt._waiAria.getAttributeString({\"aria-label\": label});\n\t\t},\n\n\t\tlightboxDurationInputAttrString: function(section){\n\t\t\treturn this.getAttributeString({\"aria-label\": gantt.locale.labels.column_duration, \"aria-valuemin\": \"0\"});\n\t\t},\n\n\t\tgridAttrString: function(){\n\t\t\treturn [\" role='treegrid'\", gantt.config.multiselect ? \"aria-multiselectable='true'\" : \"aria-multiselectable='false'\", \" \"].join(\" \");\n\t\t},\n\n\n\t\tgridScaleRowAttrString: function(){\n\t\t\treturn \"role='row'\";\n\t\t},\n\n\t\tgridScaleCellAttrString: function(column, label){\n\t\t\tvar attrs = \"\";\n\t\t\tif(column.name == \"add\"){\n\t\t\t\tattrs = this.getAttributeString({\"role\":\"button\", \"aria-label\": gantt.locale.labels.new_task});\n\t\t\t}else{\n\n\t\t\t\tvar attributes = {\n\t\t\t\t\t\"role\":\"columnheader\",\n\t\t\t\t\t\"aria-label\": label\n\t\t\t\t};\n\n\t\t\t\tif(gantt._sort && gantt._sort.name == column.name){\n\t\t\t\t\tif(gantt._sort.direction == \"asc\"){\n\t\t\t\t\t\tattributes[\"aria-sort\"] = \"ascending\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tattributes[\"aria-sort\"] = \"descending\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tattrs = this.getAttributeString(attributes);\n\t\t\t}\n\t\t\treturn attrs;\n\t\t},\n\n\t\tgridDataAttrString: function(){\n\t\t\treturn \"role='rowgroup'\";\n\t\t},\n\n\t\tgridCellAttrString: function(column, textValue){\n\t\t\treturn this.getAttributeString({\"role\":\"gridcell\", \"aria-label\": textValue});\n\t\t},\n\n\t\tgridAddButtonAttrString: function(column){\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\": gantt.locale.labels.new_task});\n\t\t},\n\n\t\tmessageButtonAttrString: function(buttonLabel){\n\t\t\treturn \"tabindex='0' role='button' aria-label='\"+buttonLabel+\"'\";\n\t\t},\n\n\t\tmessageInfoAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"alert\");\n\t\t\t//div.setAttribute(\"tabindex\", \"-1\");\n\t\t},\n\n\t\tmessageModalAttr: function(div, uid){\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\n\t\t\tif(uid){\n\t\t\t\tdiv.setAttribute(\"aria-labelledby\", uid);\n\t\t\t}\n\n\t\t//\tdiv.setAttribute(\"tabindex\", \"-1\");\n\t\t},\n\n\t\tquickInfoAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\n\t\t},\n\n\t\tquickInfoHeaderAttrString: function(){\n\t\t\treturn \" role='heading' \";\n\t\t},\n\n\t\tquickInfoHeader: function(div, header){\n\t\t\tdiv.setAttribute(\"aria-label\", header);\n\t\t},\n\n\t\tquickInfoButtonAttrString: function(label){\n\t\t\treturn gantt._waiAria.getAttributeString({\"role\":\"button\", \"aria-label\":label, \"tabindex\":\"0\"});\n\t\t},\n\n\t\ttooltipAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"tooltip\");\n\t\t},\n\n\t\ttooltipVisibleAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"false\");\n\t\t},\n\n\t\ttooltipHiddenAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\n\t\t}\n\t};\n\n\tfunction isDisabled(){\n\t\treturn !gantt.config.wai_aria_attributes;\n\t}\n\n\tfor(var i in gantt._waiAria){\n\t\tgantt._waiAria[i] = (function(payload){\n\t\t\treturn function(){\n\t\t\t\tif(isDisabled()){\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\t\t\t\treturn payload.apply(this, arguments);\n\t\t\t};\n\t\t})(gantt._waiAria[i]);\n\t}\n\n\n};","module.exports = function(gantt) {\n\tgantt.getGridColumn = function(name) {\n\t\tvar columns = gantt.config.columns;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tif (columns[i].name == name)\n\t\t\t\treturn columns[i];\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tgantt.getGridColumns = function() {\n\t\treturn gantt.config.columns.slice();\n\t};\n};","module.exports = function(gantt) {\n};","import * as env from \"../../utils/env\";\nimport * as eventable from \"../../utils/eventable\";\nimport { IScale } from \"../common/config\";\n\ninterface ITimelineZoomConfig {\n\thandler?: (e: Event) => {};\n\tstartDate?: Date;\n\tendDate?: Date;\n\tlevels: IZoomLevel[];\n\tactiveLevelIndex?: number;\n\twidthStep?: number;\n\tminColumnWidth?: number;\n\tmaxColumnWidth?: number;\n\tuseKey?: \"ctrlKey\" | \"altKey\" | \"shiftKey\";\n\ttrigger?: \"wheel\" | null | undefined;\n\telement?: Element | (() => Element);\n}\n\ntype TPossibleKeys = \"metaKey\" | \"ctrlKey\" | \"altKey\" | \"shiftKey\" | false | undefined;\nconst USE_KEY = [\"ctrlKey\", \"altKey\", \"shiftKey\", \"metaKey\"];\n\ninterface IZoomLevel {\n\tname?: string;\n\tscale_height?: number;\n\tmin_column_width: number;\n\tscales: IScale[];\n}\n\nconst _defaultScales = [\n\t[\n\t\t{\n\t\t\tunit: \"month\",\n\t\t\tdate: \"%M\",\n\t\t\tstep: 1\n\t\t},\n\t\t{\n\t\t\tunit: \"day\",\n\t\t\tdate: \"%d\",\n\t\t\tstep: 1\n\t\t}\n\t],\n\t[\n\t\t{\n\t\t\tunit: \"day\",\n\t\t\tdate: \"%d %M\",\n\t\t\tstep: 1\n\t\t}\n\t],\n\t[\n\t\t{\n\t\t\tunit: \"day\",\n\t\t\tdate: \"%d %M\",\n\t\t\tstep: 1\n\t\t},\n\t\t{\n\t\t\tunit: \"hour\",\n\t\t\tdate: \"%H:00\",\n\t\t\tstep: 8\n\t\t},\n\t],\n\t[\n\t\t{\n\t\t\tunit: \"day\",\n\t\t\tdate: \"%d %M\",\n\t\t\tstep: 1\n\t\t},\n\t\t{\n\t\t\tunit: \"hour\",\n\t\t\tdate: \"%H:00\",\n\t\t\tstep: 1\n\t\t},\n\t],\n];\n\nexport default class TimelineZoom {\n\tpublic attachEvent: (eventName: string, handler: () => void) => string;\n\tpublic callEvent: (eventName: string, args: any[]) => any;\n\tpublic detachEvent: (eventName: string) => any;\n\tprotected _initialStartDate: Date;\n\tprotected _initialEndDate: Date;\n\tprotected _activeLevelIndex: number;\n\tprotected _levels: IZoomLevel[];\n\tprotected _handler: (e: any) => void;\n\tprotected $gantt;\n\tprotected _widthStep: number;\n\tprotected _minColumnWidth: number;\n\tprotected _maxColumnWidth: number;\n\tprotected _useKey: TPossibleKeys;\n\tprotected _eventAttached: string;\n\tprotected _visibleDate: Date;\n\tprotected _initialized: boolean;\n\n\tconstructor(gantt) {\n\t\tthis.$gantt = gantt;\n\t}\n\n\tpublic init(config: ITimelineZoomConfig) {\n\t\tthis._initialStartDate = config.startDate;\n\t\tthis._initialEndDate = config.endDate;\n\t\tthis._activeLevelIndex = config.activeLevelIndex ? config.activeLevelIndex : 0;\n\t\tthis._levels = this._mapScales(config.levels || _defaultScales);\n\t\tthis._handler = config.handler || this._defaultHandler;\n\t\tthis._minColumnWidth = config.minColumnWidth || 60;\n\t\tthis._maxColumnWidth = config.maxColumnWidth || 240;\n\t\tthis._widthStep = config.widthStep || 3/8 * config.minColumnWidth;\n\t\tthis._useKey = config.useKey;\n\n\t\tif(!this._initialized){\n\t\t\teventable(this);\n\t\t\tthis.$gantt.attachEvent(\"onGanttScroll\", () => {\n\t\t\t\tthis._getVisibleDate();\n\t\t\t});\n\t\t}\n\n\t\tif(this._eventAttached){\n\t\t\tthis.$gantt.eventRemove(this._eventAttached);\n\t\t}\n\n\t\tif(config.trigger === \"wheel\"){\n\t\t\tif(this.$gantt.$root){\n\t\t\t\tthis._attachWheelEvent(config);\n\t\t\t}else{\n\t\t\t\tthis.$gantt.attachEvent(\"onGanttReady\", () => {\n\t\t\t\t\tthis._attachWheelEvent(config);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis._initialized = true;\n\t\tthis.setLevel(this._activeLevelIndex);\n\t}\n\n\tpublic zoomIn = () => {\n\t\tconst index = this.getCurrentLevel() - 1;\n\t\tif(index < 0){\n\t\t\treturn;\n\t\t}\n\t\tthis.setLevel(index);\n\t}\n\n\tpublic zoomOut = () => {\n\t\tconst index = this.getCurrentLevel() + 1;\n\t\tif(index > this._levels.length - 1){\n\t\t\treturn;\n\t\t}\n\t\tthis.setLevel(index);\n\t}\n\n\tpublic getCurrentLevel = () => {\n\t\treturn this._activeLevelIndex;\n\t}\n\n\tpublic getLevels = () => {\n\t\treturn this._levels;\n\t}\n\n\tpublic setLevel = (level: number|string) => {\n\t\tconst zoomLevel = this._getZoomIndexByName(level);\n\n\t\tif(zoomLevel === -1){\n\t\t\tthis.$gantt.assert(zoomLevel !== -1, \"Invalid zoom level for gantt.ext.zoom.setLevel. \" + level + \" is not an expected value.\");\n\t\t}\n\t\tthis._setLevel(zoomLevel, 0);\n\t}\n\n\tprotected _getZoomIndexByName = (levelName: number|string) => {\n\t\tlet zoomLevel:number = -1;\n\t\tif(typeof levelName === \"string\"){\n\t\t\tif(!isNaN(Number(levelName)) &&  this._levels[Number(levelName)]){\n\t\t\t\tzoomLevel = Number(levelName);\n\t\t\t}else{\n\t\t\t\tfor(let i = 0; i < this._levels.length; i++){\n\t\t\t\t\tif(this._levels[i].name === levelName){\n\t\t\t\t\t\tzoomLevel = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tzoomLevel = levelName;\n\t\t}\n\t\treturn zoomLevel;\n\t}\n\n\tprotected _mapScales(levels: IScale[][] | any): IZoomLevel[]{\n\t\treturn levels.map((l) => {\n\t\t\tif(Array.isArray(l)){\n\t\t\t\treturn {\n\t\t\t\t\tscales: l\n\t\t\t\t};\n\t\t\t}else{\n\t\t\t\treturn l;\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _getVisibleDate = () => {\n\t\tconst scrollPos = this.$gantt.getScrollState().x;\n\t\tconst viewPort = this.$gantt.$task.offsetWidth;\n\t\tthis._visibleDate = this.$gantt.dateFromPos(scrollPos + viewPort/2);\n\t}\n\n\tprotected _setLevel = (level: number, cursorOffset: number) => {\n\t\tthis._activeLevelIndex = level;\n\n\t\tconst gantt = this.$gantt;\n\t\tconst nextConfig = gantt.copy(this._levels[this._activeLevelIndex]);\n\t\tconst chartConfig = gantt.copy(nextConfig);\n\t\tdelete chartConfig.name;\n\n\t\tgantt.mixin(gantt.config, chartConfig, true);\n\n\t\tconst isRendered = !!gantt.$root;\n\n\t\tif(isRendered){\n\t\t\tif(cursorOffset){\n\t\t\t\tconst cursorDate = this.$gantt.dateFromPos(cursorOffset + this.$gantt.getScrollState().x);\n\t\t\t\tthis.$gantt.render();\n\t\t\t\tconst newPosition = this.$gantt.posFromDate(cursorDate);\n\t\t\t\tthis.$gantt.scrollTo(newPosition - cursorOffset);\n\t\t\t}else{\n\t\t\t\tconst viewPort = this.$gantt.$task.offsetWidth;\n\t\t\t\tif(!this._visibleDate){\n\t\t\t\t\tthis._getVisibleDate();\n\t\t\t\t}\n\t\t\t\tconst middleDate = this._visibleDate;\n\t\t\t\tthis.$gantt.render();\n\t\t\t\tconst newPosition = this.$gantt.posFromDate(middleDate);\n\t\t\t\tthis.$gantt.scrollTo(newPosition - viewPort/2);\n\t\t\t}\n\n\t\t\tthis.callEvent(\"onAfterZoom\", [this._activeLevelIndex, nextConfig]);\n\t\t}\n\t}\n\n\tprivate _attachWheelEvent = (config) => {\n\t\tconst event = env.isFF ? \"wheel\" : \"mousewheel\";\n\t\tlet el: Element;\n\t\tif(typeof config.element === \"function\"){\n\t\t\tel = config.element();\n\t\t}else{\n\t\t\tel = config.element as Element;\n\t\t}\n\t\tif (!el){\n\t\t\treturn;\n\t\t}\n\n\t\tthis._eventAttached = this.$gantt.event(el, event, (e) => {\n\t\t\tif (this._useKey) {\n\t\t\t\tif (USE_KEY.indexOf(this._useKey) < 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!e[this._useKey]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof this._handler === \"function\") {\n\t\t\t\tthis._handler.apply(this, [e]);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _defaultHandler = (e: any):void => {\n\t\tconst timelineOffset = this.$gantt.$task.getBoundingClientRect().x;\n\t\tconst cursorOffset = e.clientX - timelineOffset;\n\t\tconst wheelY = this.$gantt.env.isFF ? (e.deltaY*-40) : e.wheelDelta;\n\t\tlet wheelUp = false;\n\t\tif (wheelY > 0) {\n\t\t\twheelUp = true;\n\t\t}\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tthis._setScaleSettings(wheelUp, cursorOffset);\n\t}\n\n\tprivate _setScaleSettings(wheelUp: boolean, cursorOffset: number) {\n\t\tif (wheelUp) {\n\t\t\tthis._stepUp(cursorOffset);\n\t\t} else {\n\t\t\tthis._stepDown(cursorOffset);\n\t\t}\n\t}\n\n\tprivate _setScaleDates = () => {\n\t\tif(this._initialStartDate && this._initialEndDate){\n\t\t\tthis.$gantt.config.start_date = this._initialStartDate;\n\t\t\tthis.$gantt.config.end_date = this._initialEndDate;\n\t\t}\n\t}\n\n\tprivate _stepUp(cursorOffset) {\n\t\tif (this._activeLevelIndex >= this._levels.length - 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet nextLevel = this._activeLevelIndex;\n\t\tthis._setScaleDates();\n\n\t\tif(this._widthStep){\n\t\t\tlet newColumnWidth = this.$gantt.config.min_column_width + this._widthStep;\n\t\t\tif (newColumnWidth > this._maxColumnWidth) {\n\t\t\t\tnewColumnWidth = this._minColumnWidth;\n\t\t\t\tnextLevel++;\n\t\t\t}\n\n\t\t\tthis.$gantt.config.min_column_width = newColumnWidth;\n\t\t}else{\n\t\t\tnextLevel++;\n\t\t}\n\t\tthis._setLevel(nextLevel, cursorOffset);\n\t}\n\tprivate _stepDown(cursorOffset) {\n\t\tif (this._activeLevelIndex < 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet nextLevel = this._activeLevelIndex;\n\t\tthis._setScaleDates();\n\n\t\tif(this._widthStep){\n\t\t\tlet newColumnWidth = this.$gantt.config.min_column_width - this._widthStep;\n\t\t\tif (newColumnWidth < this._minColumnWidth) {\n\t\t\t\tnewColumnWidth = this._maxColumnWidth;\n\t\t\t\tnextLevel--;\n\t\t\t}\n\t\t\tthis.$gantt.config.min_column_width = newColumnWidth;\n\t\t}else{\n\t\t\tnextLevel--;\n\t\t}\n\t\tthis._setLevel(nextLevel, cursorOffset);\n\t}\n}","module.exports = function(gantt) {\n\tfunction isEnabled() {\n\t\treturn gantt.config.auto_types && // if enabled\n\t\t\t(gantt.getTaskType(gantt.config.types.project) == gantt.config.types.project);// and supported\n\t}\n\n\tfunction callIfEnabled(callback) {\n\t\treturn function() {\n\t\t\tif (!isEnabled()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn callback.apply(this, arguments);\n\t\t};\n\t}\n\n\tfunction updateParents(childId) {\n\t\tgantt.batchUpdate(function() {\n\t\t\tcheckParent(childId);\n\t\t});\n\t}\n\n\tvar delTaskParent;\n\n\tfunction checkParent(id) {\n\t\tsetTaskType(id);\n\t\tvar parent = gantt.getParent(id);\n\n\t\tif (parent != gantt.config.root_id) {\n\t\t\tcheckParent(parent);\n\t\t}\n\t}\n\n\tfunction setTaskType(id) {\n\t\tid = id.id || id;\n\t\tvar task = gantt.getTask(id);\n\t\tvar targetType = getTaskTypeToUpdate(task);\n\n\t\tif (targetType !== false) {\n\t\t\tupdateTaskType(task, targetType);\n\t\t}\n\t}\n\n\tfunction updateTaskType(task, targetType) {\n\t\ttask.type = targetType;\n\t\tgantt.updateTask(task.id);\n\t}\n\n\tfunction getTaskTypeToUpdate(task) {\n\t\tvar allTypes = gantt.config.types;\n\t\tvar hasChildren = gantt.hasChild(task.id);\n\t\tvar taskType = gantt.getTaskType(task.type);\n\n\t\tif (hasChildren && taskType === allTypes.task) {\n\t\t\treturn allTypes.project;\n\t\t}\n\n\t\tif (!hasChildren && taskType === allTypes.project) {\n\t\t\treturn allTypes.task;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tvar isParsingDone = true;\n\n\tgantt.attachEvent(\"onParse\", callIfEnabled(function() {\n\t\tisParsingDone = false;\n\n\t\tgantt.batchUpdate(function() {\n\t\t\tgantt.eachTask(function(task) {\n\t\t\t\tvar targetType = getTaskTypeToUpdate(task);\n\t\t\t\tif (targetType !== false) {\n\t\t\t\t\tupdateTaskType(task, targetType);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tisParsingDone = true;\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskAdd\", callIfEnabled(function(id) {\n\t\tif (isParsingDone) {\n\t\t\tupdateParents(id);\n\t\t}\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskUpdate\", callIfEnabled(function(id) {\n\t\tif (isParsingDone) {\n\t\t\tupdateParents(id);\n\t\t}\n\t}));\n\n\tfunction updateAfterRemoveChild(id){\n\t\tif (id != gantt.config.root_id && gantt.isTaskExists(id)) {\n\t\t\tupdateParents(id);\n\t\t}\n\t}\n\n\tgantt.attachEvent(\"onBeforeTaskDelete\", callIfEnabled(function(id, task) {\n\t\tdelTaskParent = gantt.getParent(id);\n\t\treturn true;\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskDelete\", callIfEnabled(function(id, task) {\n\t\tupdateAfterRemoveChild(delTaskParent);\n\t}));\n\n\n\tvar originalRowDndParent;\n\n\tgantt.attachEvent(\"onRowDragStart\", callIfEnabled(function(id, target, e) {\n\t\toriginalRowDndParent = gantt.getParent(id);\n\t\treturn true;\n\t}));\n\n\tgantt.attachEvent(\"onRowDragEnd\", callIfEnabled(function(id, target) {\n\t\tupdateAfterRemoveChild(originalRowDndParent);\n\t\tupdateParents(id);\n\t}));\n\n\tvar originalMoveTaskParent;\n\n\tgantt.attachEvent(\"onBeforeTaskMove\", callIfEnabled(function(sid, parent, tindex) {\n\t\toriginalMoveTaskParent = gantt.getParent(sid);\n\t\treturn true;\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskMove\", callIfEnabled(function(id, parent, tindex) {\n\t\tif (document.querySelector(\".gantt_drag_marker\")) {\n\t\t\t// vertical dnd in progress\n\t\t\treturn;\n\t\t}\n\t\tupdateAfterRemoveChild(originalMoveTaskParent);\n\t\tupdateParents(id);\n\t}));\n};","module.exports = function addPlaceholder(gantt){\n\tfunction isEnabled(){\n\t\treturn gantt.config.placeholder_task;\n\t}\n\n\tfunction callIfEnabled(callback){\n\t\treturn function(){\n\t\t\tif(!isEnabled()){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn callback.apply(this, arguments);\n\t\t};\n\t}\n\n\tfunction silenceDataProcessor(dataProcessor){\n\t\tif(dataProcessor && !dataProcessor._silencedPlaceholder){\n\t\t\tdataProcessor._silencedPlaceholder = true;\n\t\t\tdataProcessor.attachEvent(\"onBeforeUpdate\", callIfEnabled(function(id, state, data){\n\t\t\t\tif(data.type == gantt.config.types.placeholder){\n\t\t\t\t\tdataProcessor.setUpdated(id, false);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}));\n\t\t}\n\t}\n\n\tfunction insertPlaceholder(){\n\t\tvar placeholders = gantt.getTaskBy(\"type\", gantt.config.types.placeholder);\n\t\tif(!placeholders.length || !gantt.isTaskExists(placeholders[0].id)){\n\t\t\tvar placeholder = {\n\t\t\t\tunscheduled: true,\n\t\t\t\ttype: gantt.config.types.placeholder,\n\t\t\t\tduration:0,\n\t\t\t\ttext: gantt.locale.labels.new_task\n\t\t\t};\n\t\t\tif(gantt.callEvent(\"onTaskCreated\", [placeholder]) === false){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tgantt.addTask(placeholder);\n\t\t\t\n\t\t}\n\t}\n\n\tfunction afterEdit(id){\n\t\tvar item = gantt.getTask(id);\n\t\tif(item.type == gantt.config.types.placeholder) {\n\t\t\tif(item.start_date && item.end_date && item.unscheduled){\n\t\t\t\titem.unscheduled = false;\n\t\t\t}\n\n\t\t\tgantt.batchUpdate(function(){\n\t\t\t\tvar newTask = gantt.copy(item);\n\t\t\t\tgantt.silent(function(){\n\t\t\t\t\tgantt.deleteTask(item.id);\n\t\t\t\t});\n\n\t\t\t\tdelete newTask[\"!nativeeditor_status\"];\n\t\t\t\tnewTask.type = gantt.config.types.task;\n\t\t\t\tnewTask.id = gantt.uid();\n\t\t\t\tgantt.addTask(newTask);\n\n\t\t\t\t//insertPlaceholder();\n\t\t\t});\n\n\t\t}\n\t}\n\n\tgantt.config.types.placeholder = \"placeholder\";\n\tgantt.attachEvent(\"onDataProcessorReady\", callIfEnabled(silenceDataProcessor));\n\n\tvar ready = false;\n\tgantt.attachEvent(\"onGanttReady\", function(){\n\t\tif(ready){\n\t\t\treturn;\n\t\t}\n\t\tready = true;\n\t\tgantt.attachEvent(\"onAfterTaskUpdate\", callIfEnabled(afterEdit));\n\t\tgantt.attachEvent(\"onAfterTaskAdd\", callIfEnabled(function(id, task){\n\t\t\tif(task.type != gantt.config.types.placeholder){\n\t\t\t\tvar placeholders = gantt.getTaskBy(\"type\", gantt.config.types.placeholder);\n\t\t\t\tplaceholders.forEach(function(p){\n\t\t\t\t\tgantt.silent(function(){\n\t\t\t\t\t\tif(gantt.isTaskExists(p.id))\n\t\t\t\t\t\t\tgantt.deleteTask(p.id);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tinsertPlaceholder();\n\t\t\t}\n\t\t}));\n\t\tgantt.attachEvent(\"onParse\", callIfEnabled(insertPlaceholder));\n\t});\n\n\tgantt.attachEvent(\"onBeforeUndoStack\", function(action){\n\t\tfor(var i = 0; i < action.commands.length; i++){\n\t\t\tvar command = action.commands[i];\n\t\t\tif(command.entity === \"task\" && command.value.type === gantt.config.types.placeholder){\n\t\t\t\taction.commands.splice(i,1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t});\n\n};","var helpers = require(\"../../utils/helpers\");\nvar smartRender = require(\"../ui/render/smart_render_wrapper\");\n\nfunction createResourceMethods(gantt){\n\n\tvar resourceTaskCache = {};\n\n\tgantt.$data.tasksStore.attachEvent(\"onStoreUpdated\", function(){\n\t\tresourceTaskCache = {};\n\t});\n\n\tfunction getTaskBy(propertyName, propertyValue) {\n\t\tif (typeof propertyName == \"function\") {\n\t\t\treturn filterResourceTasks(propertyName);\n\t\t} else {\n\t\t\tif (helpers.isArray(propertyValue)) {\n\t\t\t\treturn getResourceTasks(propertyName, propertyValue);\n\t\t\t} else {\n\t\t\t\treturn getResourceTasks(propertyName, [propertyValue]);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction filterResourceTasks(filter) {\n\t\tvar res = [];\n\t\tgantt.eachTask(function (task) {\n\t\t\tif (filter(task)) {\n\t\t\t\tres.push(task);\n\t\t\t}\n\t\t});\n\t\treturn res;\n\t}\n\n\tfunction getResourceTasks(property, resourceIds) {\n\t\tvar res;\n\n\t\tvar cacheKey = resourceIds.join(\"_\") + \"_\" + property;\n\n\t\tvar resourceHash = {};\n\t\tfor (var i = 0; i < resourceIds.length; i++) {\n\t\t\tresourceHash[resourceIds[i]] = true;\n\t\t}\n\n\t\tif (!resourceTaskCache[cacheKey]) {\n\t\t\tres = resourceTaskCache[cacheKey] = [];\n\t\t\tgantt.eachTask(function (task) {\n\t\t\t\tif (task.type == gantt.config.types.project)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar resourceValue;\n\t\t\t\tif (!helpers.isArray(task[property])) {\n\t\t\t\t\tresourceValue = [task[property]];\n\t\t\t\t} else {\n\t\t\t\t\tresourceValue = task[property];\n\t\t\t\t}\n\n\t\t\t\thelpers.forEach(resourceValue, function(value) {\n\t\t\t\t\tif(value && (resourceHash[value]  || resourceHash[value.resource_id])) {\n\t\t\t\t\t\tres.push(task);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tres = resourceTaskCache[cacheKey];\n\t\t}\n\n\t\treturn res;\n\t}\n\n\tfunction getResourceLoad(resource, resourceProperty, scale, timeline){\n\t\tvar cacheKey = resource.id + \"_\" + resourceProperty  + \"_\" + scale.unit + \"_\" + scale.step;\n\t\tvar res;\n\t\tif (!resourceTaskCache[cacheKey]) {\n\t\t\tres = resourceTaskCache[cacheKey] = calculateResourceLoad(resource, resourceProperty, scale, timeline);\n\n\t\t} else {\n\t\t\tres = resourceTaskCache[cacheKey];\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction calculateResourceLoad(resource, resourceProperty, scale, timeline) {\n\n\t\tvar tasks;\n\t\tif(resource.$role == \"task\"){\n\t\t\ttasks = [];\n\t\t}else{\n\t\t\ttasks = getTaskBy(resourceProperty, resource.id);\n\t\t}\n\t\tvar step = scale.unit;\n\t\tvar timegrid = {};\n\n\t\tfor (var i = 0; i < tasks.length; i++) {\n\t\t\tvar task = tasks[i];\n\n\t\t\tvar currDate = gantt.date[step + \"_start\"](new Date(task.start_date));\n\n\t\t\twhile (currDate < task.end_date) {\n\n\t\t\t\tvar date = currDate;\n\t\t\t\tcurrDate = gantt.date.add(currDate, 1, step);\n\n\t\t\t\tif (!gantt.isWorkTime({date: date, task: task, unit: step})) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar timestamp = date.valueOf();\n\t\t\t\tif (!timegrid[timestamp]){\n\t\t\t\t\ttimegrid[timestamp] = [];\n\t\t\t\t}\n\n\t\t\t\ttimegrid[timestamp].push(task);\n\t\t\t}\n\t\t}\n\n\t\tvar timetable = [];\n\t\tvar start, end, tasks;\n\t\tvar config = timeline.$getConfig();\n\n\t\tfor(var i = 0; i < scale.trace_x.length; i++){\n\t\t\tstart = new Date(scale.trace_x[i]);\n\t\t\tend = gantt.date.add(start, 1, step);\n\t\t\ttasks = timegrid[start.valueOf()] || [];\n\t\t\tif(tasks.length || config.resource_render_empty_cells){\n\t\t\t\ttimetable.push({\n\t\t\t\t\tstart_date: start,\n\t\t\t\t\tend_date: end,\n\t\t\t\t\ttasks: tasks\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\n\t\treturn timetable;\n\t}\n\n\tfunction isInViewPort(item, view, viewport){\n\t\tvar position = view.getItemTop(item.id);\n\t\tvar height = view.getItemHeight(item);\n\t\tif(viewport.y > position + height || viewport.y_end < position){\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tfunction generateRenderResourceLine(){\n\t\tfunction renderResourceLine(resource, timeline, viewport) {\n\t\t\tif(!isInViewPort(resource, timeline, viewport)){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar config = timeline.$getConfig(),\n\t\t\t\ttemplates = timeline.$getTemplates();\n\t\t\tvar timetable = getResourceLoad(resource, config.resource_property, timeline.getScale(), timeline);\n\n\t\t\tvar cells = [];\n\t\t\tfor (var i = 0; i < timetable.length; i++) {\n\n\t\t\t\tvar day = timetable[i];\n\n\t\t\t\tvar css = templates.resource_cell_class(day.start_date, day.end_date, resource, day.tasks);\n\t\t\t\tvar content = templates.resource_cell_value(day.start_date, day.end_date, resource, day.tasks);\n\n\t\t\t\tif (css || content){\n\t\t\t\t\tvar sizes = timeline.getItemPosition(resource, day.start_date, day.end_date);\n\t\t\t\t\tvar el = document.createElement('div');\n\t\t\t\t\tel.className = [\"gantt_resource_marker\", css].join(\" \");\n\n\t\t\t\t\tel.style.cssText = [\n\t\t\t\t\t\t'left:' + sizes.left + 'px',\n\t\t\t\t\t\t'width:' + sizes.width + 'px',\n\t\t\t\t\t\t'height:' + (config.row_height - 1) + 'px',\n\t\t\t\t\t\t'line-height:' + (config.row_height - 1) + 'px',\n\t\t\t\t\t\t'top:' + sizes.top + 'px'\n\t\t\t\t\t].join(\";\");\n\n\t\t\t\t\tif(content)\n\t\t\t\t\t\tel.innerHTML = content;\n\n\t\t\t\t\tcells.push(el);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar row = null;\n\t\t\tif(cells.length){\n\t\t\t\trow = document.createElement(\"div\");\n\t\t\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\t\t\trow.appendChild(cells[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn row;\n\t\t}\n\t\treturn smartRender(renderResourceLine, function(){}, isInViewPort);\n\t}\n\t\n\tfunction renderBar(level, start, end, timeline){\n\t\tvar top = (1 - (level*1||0))*100;\n\t\tvar left = timeline.posFromDate(start);\n\t\tvar right = timeline.posFromDate(end);\n\t\tvar element = document.createElement(\"div\");\n\t\telement.className = \"gantt_histogram_hor_bar\";\n\t\telement.style.top = top + '%';\n\t\telement.style.left = left + \"px\";\n\t\telement.style.width = (right - left + 1) + \"px\";\n\t\treturn element;\n\t}\n\tfunction renderConnection(prevLevel, nextLevel, left){\n\t\tif(prevLevel === nextLevel){\n\t\t\treturn null;\n\t\t}\n\n\t\tvar top = 1 - Math.max(prevLevel, nextLevel);\n\t\tvar height = Math.abs(prevLevel - nextLevel);\n\t\tvar element = document.createElement(\"div\");\n\t\telement.className = \"gantt_histogram_vert_bar\";\n\t\telement.style.top = top*100 + \"%\";\n\t\telement.style.height = height*100 + \"%\";\n\t\telement.style.left = left + \"px\";\n\n\t\treturn element;\n\t}\n\n\tfunction isColumnVisible(columnIndex, scale, viewPort){\n\t\tvar width = scale.width[columnIndex];\n\t\tvar cellLeftCoord = scale.left[columnIndex] - width;\n\t\tvar cellRightCoord = scale.left[columnIndex] + width;\n\t\treturn (width > 0 && cellLeftCoord <= viewPort.x_end && cellRightCoord >= viewPort.x);//do not render skipped columns\n\t}\n\n\n\n\tfunction generateRenderResourceHistogram(){\n\n\t\tvar renderedHistogramCells = {};\n\t\tvar renderedHistogramRows = {};\n\n\t\tfunction renderHistogramLine(capacity, timeline, maxCapacity, viewPort){\n\t\t\tvar scale = timeline.getScale();\n\n\t\t\tvar el = document.createElement(\"div\");\n\n\t\t\tfor(var i = 0; i < scale.trace_x.length; i++){\n\t\t\t\tif(!isColumnVisible(i, scale, viewPort)){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar colStart = scale.trace_x[i];\n\t\t\t\tvar colEnd = scale.trace_x[i + 1] || gantt.date.add(colStart, scale.step, scale.unit);\n\t\t\t\tvar col = scale.trace_x[i].valueOf();\n\t\t\t\tvar level = Math.min(capacity[col]/maxCapacity, 1) || 0;\n\t\t\t\t// do not render histogram for lines with below zero capacity, as it's reserved for folders\n\t\t\t\tif(level < 0){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar nextLevel = Math.min(capacity[colEnd.valueOf()]/maxCapacity, 1) || 0;\n\t\t\t\tvar bar = renderBar(level, colStart, colEnd, timeline);\n\t\t\t\tif(bar){\n\t\t\t\t\tel.appendChild(bar);\n\t\t\t\t}\n\t\t\t\tvar connection = renderConnection(level, nextLevel, timeline.posFromDate(colEnd));\n\t\t\t\tif(connection){\n\t\t\t\t\tel.appendChild(connection);\n\t\t\t\t}\n\n\t\t\t}\n\t\t\treturn el;\n\t\t}\n\n\t\tfunction renderResourceHistogram(resource, timeline, viewport) {\n\t\t\tif(!isInViewPort(resource, timeline, viewport)){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar config = timeline.$getConfig(),\n\t\t\t\ttemplates = timeline.$getTemplates();\n\t\t\tvar scale = timeline.getScale();\n\t\t\tvar timetable = getResourceLoad(resource, config.resource_property, scale, timeline);\n\n\t\t\tvar cells = [];\n\t\t\tvar capacityMatrix = {};\n\t\t\tvar maxCapacity = resource.capacity || timeline.$config.capacity || 24;\n\t\t\trenderedHistogramCells[resource.id] = {};\n\t\t\trenderedHistogramRows[resource.id] = null;\n\t\t\tfor (var i = 0; i < timetable.length; i++) {\n\n\t\t\t\tvar day = timetable[i];\n\t\t\t\tvar columnIndex = scale.trace_indexes[day.start_date.valueOf()];\n\t\t\t\tif(!isColumnVisible(columnIndex, scale, viewport)){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar css = templates.histogram_cell_class(day.start_date, day.end_date, resource, day.tasks);\n\t\t\t\tvar content = templates.histogram_cell_label(day.start_date, day.end_date, resource, day.tasks);\n\t\t\t\tvar fill = templates.histogram_cell_allocated(day.start_date, day.end_date, resource, day.tasks);\n\t\t\t\tvar capacity = templates.histogram_cell_capacity(day.start_date, day.end_date, resource, day.tasks);\n\t\t\t\tcapacityMatrix[day.start_date.valueOf()] = capacity || 0;\n\t\t\t\tif(css || content){\n\t\t\t\t\tvar sizes = timeline.getItemPosition(resource, day.start_date, day.end_date);\n\t\t\t\t\tvar el = document.createElement('div');\n\t\t\t\t\tel.className = [\"gantt_histogram_cell\", css].join(\" \");\n\n\t\t\t\t\tel.style.cssText = [\n\t\t\t\t\t\t'left:' + sizes.left + 'px',\n\t\t\t\t\t\t'width:' + sizes.width + 'px',\n\t\t\t\t\t\t'height:' + (config.row_height - 1) + 'px',\n\t\t\t\t\t\t'line-height:' + (config.row_height - 1) + 'px',\n\t\t\t\t\t\t'top:' + (sizes.top + 1) + 'px'\n\t\t\t\t\t].join(\";\");\n\n\n\t\t\t\t\tif (content) {\n\t\t\t\t\t\tcontent = \"<div class='gantt_histogram_label'>\" + content +\"</div>\";\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fill) {\n\t\t\t\t\t\tcontent = \"<div class='gantt_histogram_fill' style='height:\"+(Math.min(fill/maxCapacity||0, 1)*100)+\"%;'></div>\" + content;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (content) {\n\t\t\t\t\t\tel.innerHTML = content;\n\t\t\t\t\t}\n\n\t\t\t\t\tcells.push(el);\n\t\t\t\t\trenderedHistogramCells[resource.id][columnIndex] = el;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar row = null;\n\t\t\tif (cells.length) {\n\t\t\t\trow = document.createElement(\"div\");\n\t\t\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\t\t\trow.appendChild(cells[i]);\n\t\t\t\t}\n\n\t\t\t\tvar capacityElement = renderHistogramLine(capacityMatrix, timeline, maxCapacity, viewport);\n\n\t\t\t\tif (capacityElement) {\n\t\t\t\t\tcapacityElement.setAttribute(\"data-resource-id\", resource.id);\n\t\t\t\t\tcapacityElement.style.position = \"absolute\";\n\t\t\t\t\tcapacityElement.style.top = (sizes.top + 1) + \"px\";\n\t\t\t\t\tcapacityElement.style.height = (config.row_height - 1) + \"px\";\n\t\t\t\t\tcapacityElement.style.left = 0;\n\t\t\t\t\trow.appendChild(capacityElement);\n\t\t\t\t}\n\n\t\t\t\trenderedHistogramRows[resource.id] = row;\n\t\t\t}\n\n\t\t\treturn row;\n\t\t}\n\n\t\treturn smartRender(renderResourceHistogram, function(){}, isInViewPort);\n\t}\n\t\n\n\tfunction selectAssignments(resourceId, taskId, result){\n\t\tvar property = gantt.config.resource_property;\n\t\tvar owners = [];\n\t\tif (gantt.getDatastore(\"task\").exists(taskId)) {\n\t\t\tvar task = gantt.getTask(taskId);\n\t\t\towners = task[property] || [];\n\t\t}\n\n\t\tif (!Array.isArray(owners)) {\n\t\t\towners = [owners];\n\t\t}\n\t\tfor (var i = 0; i < owners.length; i++) {\n\t\t\tif (owners[i].resource_id == resourceId) {\n\t\t\t\tresult.push({task_id: task.id, resource_id:owners[i].resource_id, value:owners[i].value});\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getResourceAssignments(resourceId, taskId){\n\t\t// resource assignment as an independent module:\n\t\t// {taskId:, resourceId, value}\n\t\t// TODO: probably should add a separate datastore for these\n\t\tvar assignments = [];\n\t\tvar property = gantt.config.resource_property;\n\t\tif(taskId !== undefined){\n\t\t\tselectAssignments(resourceId, taskId, assignments);\n\t\t}else{\n\t\t\tvar tasks = gantt.getTaskBy(property, resourceId);\n\t\t\ttasks.forEach(function(task){\n\t\t\t\tselectAssignments(resourceId, task.id, assignments);\n\t\t\t});\n\t\t}\n\t\treturn assignments;\n\t}\n\n\treturn {\n\t\trenderLine: generateRenderResourceLine,\n\t\trenderHistogram: generateRenderResourceHistogram,\n\t\tfilterTasks: getTaskBy,\n\t\tgetResourceAssignments: getResourceAssignments\n\t};\n}\n\nmodule.exports = function(gantt){\n\tvar methods = createResourceMethods(gantt);\n\n\tgantt.getTaskBy = methods.filterTasks;\n\tgantt.getResourceAssignments = methods.getResourceAssignments;\n\tgantt.$ui.layers.resourceRow = methods.renderLine;\n\tgantt.$ui.layers.resourceHistogram = methods.renderHistogram;\n\tgantt.config.resource_property = \"owner_id\";\n\tgantt.config.resource_store = \"resource\";\n\tgantt.config.resource_render_empty_cells = false;\n\n\t/**\n\t * these are placeholder functions that should be redefined by the user\n\t*/\n\tgantt.templates.histogram_cell_class = function(start_date, end_date, resource, tasks) {};\n\tgantt.templates.histogram_cell_label = function(start_date, end_date, resource, tasks) {\n\t\treturn tasks.length + \"/3\";\n\t};\n\tgantt.templates.histogram_cell_allocated = function(start_date, end_date, resource, tasks) {\n\t\treturn tasks.length / 3;\n\t};\n\tgantt.templates.histogram_cell_capacity = function(start_date, end_date, resource, tasks) {\n\t\treturn 0;\n\t};\n\n\n\n\tgantt.templates.resource_cell_class = function(start, end, resource, tasks) {\n\t\tvar css = \"\";\n\t\tif (tasks.length <= 1) {\n\t\t\tcss = \"gantt_resource_marker_ok\";\n\t\t} else {\n\t\t\tcss = \"gantt_resource_marker_overtime\";\n\t\t}\n\t\treturn css;\n\t};\n\n\tgantt.templates.resource_cell_value = function(start, end, resource, tasks) {\n\t\treturn tasks.length * 8;\n\t};\n};\n\n\n","if (window.dhtmlx){\n\n\tif (!window.dhtmlx.attaches)\n\twindow.dhtmlx.attaches = {};\n\n\twindow.dhtmlx.attaches.attachGantt=function(start, end, gantt){\n\t\tvar obj = document.createElement(\"DIV\");\n\n\t\tgantt = gantt || window.gantt;\n\n\t\tobj.id = \"gantt_\"+ gantt.uid();\n\t\tobj.style.width = \"100%\";\n\t\tobj.style.height = \"100%\";\n\t\tobj.cmp = \"grid\";\n\n\t\tdocument.body.appendChild(obj);\n\t\tthis.attachObject(obj.id);\n\t\tthis.dataType = \"gantt\";\n\t\tthis.dataObj = gantt;\n\n\t\tvar that = this.vs[this.av];\n\t\tthat.grid = gantt;\n\n\t\tgantt.init(obj.id, start, end);\n\t\tobj.firstChild.style.border = \"none\";\n\n\t\tthat.gridId = obj.id;\n\t\tthat.gridObj = obj;\n\n\t\tvar method_name=\"_viewRestore\";\n\t\treturn this.vs[this[method_name]()].grid;\n\t};\n\n}\nif (typeof(window.dhtmlXCellObject) != \"undefined\") {\n\n\twindow.dhtmlXCellObject.prototype.attachGantt=function(start, end, gantt){\n\t\tgantt = gantt || window.gantt;\n\n\t\tvar obj = document.createElement(\"DIV\");\n\t\tobj.id = \"gantt_\"+gantt.uid();\n\t\tobj.style.width = \"100%\";\n\t\tobj.style.height = \"100%\";\n\t\tobj.cmp = \"grid\";\n\n\t\tdocument.body.appendChild(obj);\n\t\tthis.attachObject(obj.id);\n\n\t\tthis.dataType = \"gantt\";\n\t\tthis.dataObj = gantt;\n\n\t\tgantt.init(obj.id, start, end);\n\t\tobj.firstChild.style.border = \"none\";\n\n\t\tobj = null;\n\t\tthis.callEvent(\"_onContentAttach\",[]);\n\n\t\treturn this.dataObj;\n\t};\n}\n\nmodule.exports = null;","if (window.jQuery){\n\n\t(function( $ ){\n\n\t\tvar methods = [];\n\t\t$.fn.dhx_gantt = function(config){\n\t\t\tconfig = config || {};\n\t\t\tif (typeof(config) === 'string') {\n\t\t\t\tif (methods[config] ) {\n\t\t\t\t\treturn methods[config].apply(this, []);\n\t\t\t\t}else {\n\t\t\t\t\t$.error('Method ' +  config + ' does not exist on jQuery.dhx_gantt');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar views = [];\n\t\t\t\tthis.each(function() {\n\t\t\t\t\tif (this && this.getAttribute){\n\t\t\t\t\t\tif (!this.gantt && !(window.gantt.$root == this)){\n\n\t\t\t\t\t\t\tvar newgantt = (window.gantt.$container && window.Gantt) ? window.Gantt.getGanttInstance():window.gantt;\n\t\t\t\t\t\t\tfor (var key in config)\n\t\t\t\t\t\t\t\tif (key!=\"data\")\n\t\t\t\t\t\t\t\t\tnewgantt.config[key] = config[key];\n\n\t\t\t\t\t\t\tnewgantt.init(this);\n\t\t\t\t\t\t\tif (config.data)\n\t\t\t\t\t\t\t\tnewgantt.parse(config.data);\n\n\t\t\t\t\t\t\tviews.push(newgantt);\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t\tviews.push(typeof this.gantt == \"object\" ? this.gantt : window.gantt);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\n\t\t\t\tif (views.length === 1) return views[0];\n\t\t\t\treturn views;\n\t\t\t}\n\t\t};\n\n\t})(window.jQuery);\n\n}\n\n\nmodule.exports = null;","var createWbs = (function(gantt){\n\treturn {\n\t_needRecalc: true,\n\treset: function(){\n\t\tthis._needRecalc = true;\n\t},\n\t_isRecalcNeeded: function(){\n\t\treturn (!this._isGroupSort() && this._needRecalc);\n\t},\n\t_isGroupSort: function() {\n\t\treturn !!(gantt._groups && gantt._groups.is_active());\n\t},\n\t_getWBSCode: function(task) {\n\t\tif(!task) return \"\";\n\n\t\tif(this._isRecalcNeeded()){\n\t\t\tthis._calcWBS();\n\t\t}\n\n\t\tif(task.$virtual) return \"\";\n\t\tif(this._isGroupSort()) return task.$wbs || \"\";\n\n\t\tif(!task.$wbs) {\n\t\t\tthis.reset();\n\t\t\tthis._calcWBS();\n\t\t}\n\t\treturn task.$wbs;\n\t},\n\t_setWBSCode: function(task, value) {\n\t\ttask.$wbs = value;\n\t},\n\tgetWBSCode: function(task) {\n\t\treturn this._getWBSCode(task);\n\t},\n\tgetByWBSCode: function(code){\n\t\tvar parts = code.split(\".\");\n\t\tvar currentNode = gantt.config.root_id;\n\t\tfor(var i = 0; i < parts.length; i++){\n\t\t\tvar children = gantt.getChildren(currentNode);\n\t\t\tvar index = parts[i]*1 - 1;\n\t\t\tif(gantt.isTaskExists(children[index])){\n\t\t\t\tcurrentNode = children[index];\n\t\t\t}else{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tif(gantt.isTaskExists(currentNode)){\n\t\t\treturn gantt.getTask(currentNode);\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t},\n\t_calcWBS: function() {\n\t\tif(!this._isRecalcNeeded()) return;\n\n\t\tvar _isFirst = true;\n\t\tgantt.eachTask(function(ch) {\n\t\t\tif(_isFirst) {\n\t\t\t\t_isFirst = false;\n\t\t\t\tthis._setWBSCode(ch, \"1\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar _prevSibling = gantt.getPrevSibling(ch.id);\n\t\t\tif (_prevSibling !== null) {\n\t\t\t\tvar _wbs = gantt.getTask(_prevSibling).$wbs;\n\t\t\t\tif(_wbs) {\n\t\t\t\t\t_wbs = _wbs.split(\".\");\n\t\t\t\t\t_wbs[_wbs.length-1]++;\n\t\t\t\t\tthis._setWBSCode(ch, _wbs.join(\".\"));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar _parent = gantt.getParent(ch.id);\n\t\t\t\tthis._setWBSCode(ch, gantt.getTask(_parent).$wbs + \".1\");\n\t\t\t}\n\t\t}, gantt.config.root_id, this);\n\n\t\tthis._needRecalc = false;\n\t}\n};\n});\n\nmodule.exports = function(gantt){\n\tvar wbs = createWbs(gantt);\n\tgantt.getWBSCode = function getWBSCode(task) {\n\t\treturn wbs.getWBSCode(task);\n\t};\n\n\tgantt.getTaskByWBSCode = function(code) {\n\t\treturn wbs.getByWBSCode(code);\n\t};\n\n\tfunction resetCache(){\n\t\twbs.reset();\n\t\treturn true;\n\t}\n\n\tgantt.attachEvent(\"onAfterTaskMove\", resetCache);\n\tgantt.attachEvent(\"onBeforeParse\", resetCache);\n\tgantt.attachEvent(\"onAfterTaskDelete\", resetCache);\n\tgantt.attachEvent(\"onAfterTaskAdd\", resetCache);\n\tgantt.attachEvent(\"onAfterSort\", resetCache);\n\n};\n","function createMethod(gantt){\n\tvar methods = {};\n\tvar isActive = false;\n\tfunction disableMethod(methodName, dummyMethod){\n\t\tdummyMethod = typeof dummyMethod == \"function\" ? dummyMethod : function(){};\n\n\t\tif(!methods[methodName]){\n\t\t\tmethods[methodName] = this[methodName];\n\t\t\tthis[methodName] = dummyMethod;\n\t\t}\n\t}\n\tfunction restoreMethod(methodName){\n\t\tif(methods[methodName]){\n\t\t\tthis[methodName] = methods[methodName];\n\t\t\tmethods[methodName] = null;\n\t\t}\n\t}\n\tfunction disableMethods(methodsHash){\n\t\tfor(var i in methodsHash){\n\t\t\tdisableMethod.call(this, i, methodsHash[i]);\n\t\t}\n\t}\n\tfunction restoreMethods(){\n\t\tfor(var i in methods){\n\t\t\trestoreMethod.call(this, i);\n\t\t}\n\t}\n\n\tfunction batchUpdatePayload(callback){\n\t\ttry{\n\t\t\tcallback();\n\t\t}catch(e){\n\t\t\twindow.console.error(e);\n\t\t}\n\t}\n\n\tvar state = gantt.$services.getService(\"state\");\n\tstate.registerProvider(\"batchUpdate\", function(){\n\t\treturn {\n\t\t\tbatch_update: isActive\n\t\t};\n\t}, true);\n\n\treturn function batchUpdate(callback, noRedraw) {\n\t\tif(isActive){\n\t\t\t// batch mode is already active\n\t\t\tbatchUpdatePayload(callback);\n\t\t\treturn;\n\t\t}\n\n\t\tvar call_dp = (this._dp && this._dp.updateMode != \"off\");\n\t\tvar dp_mode;\n\t\tif (call_dp){\n\t\t\tdp_mode = this._dp.updateMode;\n\t\t\tthis._dp.setUpdateMode(\"off\");\n\t\t}\n\n\t\t// temporary disable some methods while updating multiple tasks\n\t\tvar resetProjects = {};\n\t\tvar methods = {\n\t\t\t\"render\":true,\n\t\t\t\"refreshData\":true,\n\t\t\t\"refreshTask\":true,\n\t\t\t\"refreshLink\":true,\n\t\t\t\"resetProjectDates\":function(task){\n\t\t\t\tresetProjects[task.id] = task;\n\t\t\t}\n\t\t};\n\n\t\tdisableMethods.call(this, methods);\n\n\t\tisActive = true;\n\t\tthis.callEvent(\"onBeforeBatchUpdate\", []);\n\n\t\tbatchUpdatePayload(callback);\n\n\t\tthis.callEvent(\"onAfterBatchUpdate\", []);\n\n\t\trestoreMethods.call(this);\n\n\t\t// do required updates after changes applied\n\t\tfor(var i in resetProjects){\n\t\t\tthis.resetProjectDates(resetProjects[i]);\n\t\t}\n\n\t\tisActive = false;\n\n\t\tif(!noRedraw){\n\t\t\tthis.render();\n\t\t}\n\n\t\tif (call_dp) {\n\t\t\tthis._dp.setUpdateMode(dp_mode);\n\t\t\tthis._dp.setGanttMode(\"task\");\n\t\t\tthis._dp.sendData();\n\t\t\tthis._dp.setGanttMode(\"link\");\n\t\t\tthis._dp.sendData();\n\t\t}\n\t};\n\n\n\n}\n\nmodule.exports = function(gantt){\n\tgantt.batchUpdate = createMethod(gantt);\n};","var domHelpers = require(\"../../utils/dom_helpers\");\n\nmodule.exports = function(gantt){\n\n\tvar scrollRange = 50,\n\t\tscrollStep = 30,\n\t\tscrollDelay = 10,\n\t\tscrollSpeed = 50;\n\n\tvar interval = null,\n\t\tisMove = false,\n\t\tdelayTimeout = null,\n\t\tstartPos = {\n\t\t\tstarted: false\n\t\t},\n\t\teventPos = {};\n\n\n\tfunction isDisplayed(element){\n\t\treturn element &&\n\t\t\tdomHelpers.isChildOf(element, gantt.$root) &&\n\t\t\telement.offsetHeight;\n\t}\n\n\tfunction getAutoscrollContainer(){\n\t\tvar element;\n\t\tif(isDisplayed(gantt.$task)){\n\t\t\telement = gantt.$task;\n\t\t}else if(isDisplayed(gantt.$grid)){\n\t\t\telement = gantt.$grid;\n\t\t}else{\n\t\t\telement = gantt.$root;\n\t\t}\n\n\t\treturn element;\n\t}\n\n\tfunction isScrollState() {\n\t\tvar dragMarker = !!document.querySelector(\".gantt_drag_marker\");\n\t\tvar isResize = !!document.querySelector(\".gantt_drag_marker.gantt_grid_resize_area\");\n\t\tvar isLink = !!document.querySelector(\".gantt_link_direction\");\n\t\tvar state = gantt.getState();\n\t\tvar isClickDrag = state.autoscroll;\n\t\tisMove = dragMarker && !isResize && !isLink;\n\n\t\treturn !((!state.drag_mode && !dragMarker) || isResize) || isClickDrag;\n\t}\n\n\tfunction defineDelayTimeout(state) {\n\t\tif (delayTimeout) {\n\t\t\tclearTimeout(delayTimeout);\n\t\t\tdelayTimeout = null;\n\t\t}\n\t\tif (state) {\n\t\t\tvar speed = gantt.config.autoscroll_speed;\n\t\t\tif (speed && speed < 10) // limit speed value to 10\n\t\t\t\tspeed = 10;\n\n\t\t\tdelayTimeout = setTimeout(function() {\n\t\t\t\tinterval = setInterval(tick, speed || scrollSpeed);\n\t\t\t}, gantt.config.autoscroll_delay || scrollDelay);\n\t\t}\n\t}\n\n\tfunction defineScrollInterval(state) {\n\t\tif (state) {\n\t\t\tdefineDelayTimeout(true);\n\t\t\tif (!startPos.started) {\n\t\t\t\tstartPos.x = eventPos.x;\n\t\t\t\tstartPos.y = eventPos.y;\n\t\t\t\tstartPos.started = true;\n\t\t\t}\n\t\t} else {\n\t\t\tif (interval) {\n\t\t\t\tclearInterval(interval);\n\t\t\t\tinterval = null;\n\t\t\t}\n\t\t\tdefineDelayTimeout(false);\n\t\t\tstartPos.started = false;\n\t\t}\n\t}\n\n\tfunction autoscrollInterval(event) {\n\n\t\tvar isScroll = isScrollState();\n\n\t\tif ((interval || delayTimeout) && !isScroll) {\n\t\t\tdefineScrollInterval(false);\n\t\t}\n\n\t\tif (!gantt.config.autoscroll || !isScroll) {\n\t\t\treturn false;\n\t\t}\n\n\t\teventPos = {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY\n\t\t};\n\n\t\tif (!interval && isScroll) {\n\t\t\tdefineScrollInterval(true);\n\t\t}\n\t}\n\n\tfunction tick() {\n\n\t\tif (!isScrollState()) {\n\t\t\tdefineScrollInterval(false);\n\t\t\treturn false;\n\t\t}\n\n\t\tvar box = domHelpers.getNodePosition(getAutoscrollContainer());\n\t\tvar posX = eventPos.x - box.x;\n\t\tvar posY = eventPos.y - box.y;\n\n\t\tvar scrollLeft = isMove ? 0 : need_scroll(posX, box.width, startPos.x - box.x);\n\t\tvar scrollTop = need_scroll(posY, box.height, startPos.y - box.y);\n\n\t\tvar scrollState = gantt.getScrollState();\n\n\t\tvar currentScrollTop = scrollState.y,\n\t\t\tscrollOuterHeight = scrollState.inner_height,\n\t\t\tscrollInnerHeight = scrollState.height,\n\t\t\tcurrentScrollLeft = scrollState.x,\n\t\t\tscrollOuterWidth = scrollState.inner_width,\n\t\t\tscrollInnerWidth = scrollState.width;\n\n\t\t// do scrolling only if we have scrollable area to do so\n\t\tif (scrollTop && !scrollOuterHeight) {\n\t\t\tscrollTop = 0;\n\t\t} else if (scrollTop < 0 && !currentScrollTop) {\n\t\t\tscrollTop = 0;\n\t\t} else if (scrollTop > 0 && currentScrollTop + scrollOuterHeight >= scrollInnerHeight + 2) {\n\t\t\tscrollTop = 0;\n\t\t}\n\n\t\tif (scrollLeft && !scrollOuterWidth) {\n\t\t\tscrollLeft = 0;\n\t\t} else if (scrollLeft < 0 && !currentScrollLeft) {\n\t\t\tscrollLeft = 0;\n\t\t} else if (scrollLeft > 0 && currentScrollLeft + scrollOuterWidth >= scrollInnerWidth) {\n\t\t\tscrollLeft = 0;\n\t\t}\n\n\t\tvar step = gantt.config.autoscroll_step;\n\n\t\tif (step && step < 2) // limit step value to 2\n\t\t\tstep = 2;\n\n\t\tscrollLeft = scrollLeft * (step || scrollStep);\n\t\tscrollTop = scrollTop * (step || scrollStep);\n\n\t\tif (scrollLeft || scrollTop) {\n\t\t\tscroll(scrollLeft, scrollTop);\n\t\t}\n\t}\n\n\tfunction need_scroll(pos, boxSize, startCoord) {\n\t\tif ((pos - scrollRange < 0) && (pos < startCoord))\n\t\t\treturn -1;\n\t\telse if ((pos > boxSize - scrollRange) && (pos > startCoord))\n\t\t\treturn 1;\n\t\treturn 0;\n\t}\n\n\tfunction scroll(left, top) {\n\t\tvar scrollState = gantt.getScrollState();\n\n\t\tvar scrollLeft = null,\n\t\t\tscrollTop = null;\n\n\t\tif (left) {\n\t\t\tscrollLeft = scrollState.x + left;\n\t\t\tscrollLeft = Math.min(scrollState.width, scrollLeft);\n\t\t\tscrollLeft = Math.max(0, scrollLeft);\n\t\t}\n\n\t\tif (top) {\n\t\t\tscrollTop = scrollState.y + top;\n\t\t\tscrollTop = Math.min(scrollState.height, scrollTop);\n\t\t\tscrollTop = Math.max(0, scrollTop);\n\t\t}\n\n\t\tgantt.scrollTo(scrollLeft, scrollTop);\n\t}\n\n\tgantt.attachEvent(\"onGanttReady\", function() {\n\t\tgantt.eventRemove(document.body, \"mousemove\", autoscrollInterval);\n\t\tgantt.event(document.body, \"mousemove\", autoscrollInterval);\n\t});\n\n};","module.exports = function(gantt){\n\tif(!gantt.ext){\n\t\tgantt.ext = {};\n\t}\n\n\tvar modules = [\n\t\trequire(\"./autoscroll\"),\n\t\trequire(\"./batch_update\"),\n\t\trequire(\"./wbs\"),\n\t\trequire(\"./jquery_hooks\"),\n\t\trequire(\"./dhtmlx_hooks\"),\n\t\trequire(\"./resources\"),\n\t\trequire(\"./new_task_placeholder\"),\n\t\trequire(\"./auto_task_types\")\n\t];\n\n\tfor(var i = 0; i < modules.length; i++){\n\t\tif(modules[i])\n\t\t\tmodules[i](gantt);\n\t}\n\n\tvar TimelineZoom = require(\"./timeline_zoom\").default;\n\tgantt.ext.zoom = new TimelineZoom(gantt);\n};","\nexport default function extendGantt(gantt: any, dp: any) {\n\tgantt.getUserData = function(id, name) {\n\t\tif (!this.userdata) {\n\t\t\tthis.userdata = {};\n\t\t}\n\t\tif (this.userdata[id] && this.userdata[id][name]) {\n\t\t\treturn this.userdata[id][name];\n\t\t}\n\t\treturn \"\";\n\t};\n\tgantt.setUserData = function(id, name, value) {\n\t\tif (!this.userdata) {\n\t\t\tthis.userdata = {};\n\t\t}\n\t\tif (!this.userdata[id]) {\n\t\t\tthis.userdata[id] = {};\n\t\t}\n\t\tthis.userdata[id][name] = value;\n\t};\n\n\tgantt._change_id = function(oldId, newId) {\n\t\tif (this._dp._ganttMode !== \"task\") {\n\t\t\tthis.changeLinkId(oldId, newId);\n\t\t} else {\n\t\t\tthis.changeTaskId(oldId, newId);\n\t\t}\n\t};\n\n\tgantt._row_style = function(rowId, classname){\n\t\tif (this._dp._ganttMode !== \"task\") {\n\t\t\treturn;\n\t\t}\n\t\tif (!gantt.isTaskExists(rowId)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst task = gantt.getTask(rowId);\n\t\ttask.$dataprocessor_class = classname;\n\t\tgantt.refreshTask(rowId);\n\t};\n\n\t// fake method for dataprocessor\n\tgantt._delete_task = function(rowId, node) {}; // tslint:disable-line\n\n\tgantt._sendTaskOrder = function(id, item){\n\t\tif (item.$drop_target) {\n\t\t\tthis._dp.setGanttMode(\"task\");\n\t\t\tthis.getTask(id).target = item.$drop_target;\n\t\t\tthis._dp.setUpdated(id, true,\"order\");\n\t\t\tdelete this.getTask(id).$drop_target;\n\t\t}\n\t};\n\n\tgantt.setDp = function() {\n\t\tthis._dp = dp;\n\t};\n\n\tgantt.setDp();\n}","import * as helpers from \"../../utils/helpers\";\n\nexport default class DataProcessorEvents {\n\tprotected _dataProcessorHandlers: any[];\n\tprotected $gantt: any;\n\tprotected $dp: any;\n\n\tconstructor(gantt: any, dp: any) {\n\t\tthis.$gantt = gantt;\n\t\tthis.$dp = dp;\n\t\tthis._dataProcessorHandlers = [];\n\t}\n\n\tattach() {\n\t\tconst dp = this.$dp;\n\t\tconst gantt = this.$gantt;\n\t\tconst treeHelper = require(\"../../utils/task_tree_helpers\");\n\t\tconst cascadeDelete = {};\n\n\t\tfunction clientSideDelete(id) {\n\t\t\tconst updated = dp.updatedRows.slice();\n\t\t\tlet clientOnly = false;\n\n\t\t\tfor (let i = 0; i < updated.length && !dp._in_progress[id]; i++) {\n\t\t\t\tif (updated[i] === id) {\n\t\t\t\t\tif (gantt.getUserData(id, \"!nativeeditor_status\") === \"inserted\") {\n\t\t\t\t\t\tclientOnly = true;\n\t\t\t\t\t}\n\t\t\t\t\tdp.setUpdated(id,false);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clientOnly;\n\t\t}\n\n\t\tfunction getTaskLinks(task) {\n\t\t\tlet _links = [];\n\n\t\t\tif (task.$source) {\n\t\t\t\t_links = _links.concat(task.$source);\n\t\t\t}\n\t\t\tif (task.$target) {\n\t\t\t\t_links = _links.concat(task.$target);\n\t\t\t}\n\n\t\t\treturn _links;\n\t\t}\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterTaskAdd\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isTaskExists(id)) {\n\t\t\t\tdp.setGanttMode(\"tasks\");\n\t\t\t\tdp.setUpdated(id, true, \"inserted\");\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterTaskUpdate\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isTaskExists(id)) {\n\t\t\t\tdp.setGanttMode(\"tasks\");\n\t\t\t\tdp.setUpdated(id, true);\n\n\t\t\t\t// gantt can be destroyed/reinitialized after dp.setUpdated\n\t\t\t\tif(gantt._sendTaskOrder){\n\t\t\t\t\tgantt._sendTaskOrder(id, item);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onBeforeTaskDelete\", function(id, item) { // tslint:disable-line\n\t\t\tif (!gantt.config.cascade_delete) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tcascadeDelete[id] = {\n\t\t\t\ttasks: treeHelper.getSubtreeTasks(gantt, id),\n\t\t\t\tlinks: treeHelper.getSubtreeLinks(gantt, id)\n\t\t\t};\n\t\t\treturn true;\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterTaskDelete\", function(id, item) { // tslint:disable-line\n\t\t\tdp.setGanttMode(\"tasks\");\n\n\t\t\t// not send delete request if item is not inserted into the db - just remove it from the client\n\t\t\tconst needDbDelete = !clientSideDelete(id);\n\t\t\tif (!needDbDelete) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (gantt.config.cascade_delete && cascadeDelete[id]) {\n\t\t\t\tconst dpMode = dp.updateMode;\n\t\t\t\tdp.setUpdateMode(\"off\");\n\n\t\t\t\tconst cascade = cascadeDelete[id];\n\t\t\t\tfor (const i in cascade.tasks) {\n\t\t\t\t\tif (!clientSideDelete(i)) {\n\t\t\t\t\t\tdp.setUpdated(i, true, \"deleted\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdp.setGanttMode(\"links\");\n\t\t\t\tfor (const i in cascade.links) {\n\t\t\t\t\tif (!clientSideDelete(i)) {\n\t\t\t\t\t\tdp.setUpdated(i, true, \"deleted\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcascadeDelete[id] = null;\n\n\t\t\t\tif (dpMode !== \"off\") {\n\t\t\t\t\tdp.sendAllData();\n\t\t\t\t}\n\t\t\t\tdp.setGanttMode(\"tasks\");\n\t\t\t\tdp.setUpdateMode(dpMode);\n\t\t\t}\n\t\t\tdp.setUpdated(id, true, \"deleted\");\n\n\t\t\tif (dp.updateMode !== \"off\" && !dp._tSend) {\n\t\t\t\tdp.sendAllData();\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterLinkUpdate\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isLinkExists(id)) {\n\t\t\t\tdp.setGanttMode(\"links\");\n\t\t\t\tdp.setUpdated(id, true);\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterLinkAdd\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isLinkExists(id)) {\n\t\t\t\tdp.setGanttMode(\"links\");\n\t\t\t\tdp.setUpdated(id, true,\"inserted\");\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterLinkDelete\", function(id, item) { // tslint:disable-line\n\t\t\tdp.setGanttMode(\"links\");\n\n\t\t\tconst needDbDelete = !clientSideDelete(id);\n\t\t\tif (!needDbDelete) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdp.setUpdated(id, true,\"deleted\");\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onRowDragEnd\", function(id, target) { // tslint:disable-line\n\t\t\tgantt._sendTaskOrder(id, gantt.getTask(id));\n\t\t}));\n\n\t\tlet tasks = null;\n\t\tlet links = null;\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onTaskIdChange\", function(oldId, newId) { // tslint:disable-line\n\t\t\tif (!dp._waitMode) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst children = gantt.getChildren(newId);\n\t\t\tif (children.length) {\n\t\t\t\ttasks = tasks || {};\n\n\t\t\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\t\t\tconst ch = this.getTask(children[i]);\n\t\t\t\t\ttasks[ch.id] = ch;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst item = this.getTask(newId);\n\t\t\tconst itemLinks = getTaskLinks(item);\n\n\t\t\tif (itemLinks.length) {\n\t\t\t\tlinks = links || {};\n\n\t\t\t\tfor (let i = 0; i < itemLinks.length; i++) {\n\t\t\t\t\tconst link = this.getLink(itemLinks[i]);\n\t\t\t\t\tlinks[link.id] = link;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tdp.attachEvent(\"onAfterUpdateFinish\", function() {\n\t\t\tif (tasks || links) {\n\t\t\t\tgantt.batchUpdate(function() {\n\t\t\t\t\tfor (const id in tasks) {\n\t\t\t\t\t\tgantt.updateTask(tasks[id].id);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const id in links) {\n\t\t\t\t\t\tgantt.updateLink(links[id].id);\n\t\t\t\t\t}\n\t\t\t\t\ttasks = null;\n\t\t\t\t\tlinks = null;\n\t\t\t\t});\n\t\t\t\tif (tasks) {\n\t\t\t\t\tgantt._dp.setGanttMode(\"tasks\");\n\t\t\t\t} else {\n\t\t\t\t\tgantt._dp.setGanttMode(\"links\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tdp.attachEvent(\"onBeforeDataSending\", function() {\n\t\t\tif (this._tMode === \"CUSTOM\") {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tlet url = this._serverProcessor;\n\t\t\tif (this._tMode === \"REST-JSON\" || this._tMode === \"REST\") {\n\t\t\t\tconst mode = this._ganttMode;\n\n\t\t\t\turl = url.substring(0, url.indexOf(\"?\") > -1 ? url.indexOf(\"?\") : url.length);\n\t\t\t\t// editing=true&\n\t\t\t\tthis.serverProcessor = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + mode;\n\t\t\t} else {\n\t\t\t\tconst pluralizedMode = this._ganttMode + \"s\";\n\t\t\t\tthis.serverProcessor = url + gantt.ajax.urlSeparator(url) + \"gantt_mode=\" + pluralizedMode;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tdp.attachEvent(\"insertCallback\", function insertCallback(upd, id, parent, mode) { // tslint:disable-line\n\t\t\tconst data = upd.data || gantt.xml._xmlNodeToJSON(upd.firstChild);\n\t\t\tconst methods = {\n\t\t\t\tadd: gantt.addTask,\n\t\t\t\tisExist: gantt.isTaskExists\n\t\t\t};\n\t\t\tif (mode === \"links\") {\n\t\t\t\tmethods.add = gantt.addLink;\n\t\t\t\tmethods.isExist = gantt.isLinkExists;\n\t\t\t}\n\t\t\tif (methods.isExist.call(gantt, id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdata.id = id;\n\t\t\tmethods.add.call(gantt, data);\n\t\t});\n\n\t\tdp.attachEvent(\"updateCallback\", function updateCallback(upd, id) {\n\t\t\tconst data = upd.data || gantt.xml._xmlNodeToJSON(upd.firstChild);\n\t\t\tif (!gantt.isTaskExists(id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst objData = gantt.getTask(id);\n\t\t\tfor (const key in data) {\n\t\t\t\tlet property = data[key];\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase \"id\":\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tcase \"start_date\":\n\t\t\t\t\tcase \"end_date\":\n\t\t\t\t\t\tproperty = gantt.templates.xml_date !==  gantt.templates.parse_date ? gantt.templates.xml_date(property) : gantt.templates.parse_date(property);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"duration\":\n\t\t\t\t\t\tobjData.end_date = gantt.calculateEndDate({start_date: objData.start_date, duration: property, task:objData});\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tobjData[key] = property;\n\t\t\t}\n\t\t\tgantt.updateTask(id);\n\t\t\tgantt.refreshData();\n\t\t});\n\t\tdp.attachEvent(\"deleteCallback\", function deleteCallback(upd, id, parent, mode) { // tslint:disable-line\n\t\t\tconst methods = {\n\t\t\t\tdelete: gantt.deleteTask,\n\t\t\t\tisExist: gantt.isTaskExists\n\t\t\t};\n\t\t\tif (mode === \"links\") {\n\t\t\t\tmethods.delete = gantt.deleteLink;\n\t\t\t\tmethods.isExist = gantt.isLinkExists;\n\t\t\t}\n\t\t\tif (methods.isExist.call(gantt, id)) {\n\t\t\t\tmethods.delete.call(gantt, id);\n\t\t\t}\n\t\t});\n\t}\n\n\tdetach() {\n\t\thelpers.forEach(this._dataProcessorHandlers, (e) => {\n\t\t\tthis.$gantt.detachEvent(e);\n\t\t});\n\t\tthis._dataProcessorHandlers = [];\n\t}\n}\n","import * as eventable from \"../../utils/eventable\";\nimport * as helpers from \"../../utils/helpers\";\nimport * as utils from \"../../utils/utils\";\nimport DataProcessorEvents from \"./data_processor_events\";\nimport extendGantt from \"./extend_gantt\";\n\nexport interface DataProcessor { // tslint:disable-line\n\t$gantt: any;\n\tdetachAllEvents: any;\n\tattachEvent: any;\n\tcallEvent: any;\n\n\tserverProcessor: string;\n\taction_param: string;\n\tobject: any;\n\tupdatedRows: any[];\n\tautoUpdate: boolean;\n\tupdateMode: string;\n\tmandatoryFields: any[];\n\tmessages: any[];\n\tstyles: object;\n\tdnd: any;\n}\n\nexport function createDataProcessor(config: any) {\n\tlet router;\n\tlet tMode;\n\tif (config instanceof Function) {\n\t\trouter = config;\n\t} else if (config.hasOwnProperty(\"router\")) {\n\t\trouter = config.router;\n\t} else if (config.hasOwnProperty(\"link\") && config.hasOwnProperty(\"task\")) {\n\t\trouter = config;\n\t}\n\tif (router) {\n\t\ttMode = \"CUSTOM\";\n\t} else {\n\t\ttMode = config.mode || \"REST-JSON\";\n\t}\n\tconst gantt = this; // tslint:disable-line\n\tconst dp = new DataProcessor(config.url);\n\tdp.init(gantt);\n\tdp.setTransactionMode({\n\t\tmode: tMode,\n\t\trouter\n\t}, config.batchUpdate);\n\treturn dp;\n}\n\nexport class DataProcessor {\n\tpublic modes: object;\n\tpublic serverProcessor: string;\n\tpublic action_param: string; // tslint:disable-line\n\tpublic object: any;\n\tpublic updatedRows: any[];\n\tpublic autoUpdate: boolean;\n\tpublic updateMode: string;\n\tpublic mandatoryFields: any[];\n\tpublic messages: any[];\n\tpublic styles: object;\n\tpublic dnd: any;\n\n\tprotected _tMode: string;\n\tprotected _headers: any;\n\tprotected _payload: any;\n\tprotected _postDelim: string;\n\tprotected _waitMode: number;\n\tprotected _in_progress: object; // tslint:disable-line\n\tprotected _invalid: object;\n\tprotected _tSend: boolean;\n\tprotected _endnm: boolean;\n\tprotected _serializeAsJson: boolean;\n\tprotected _router: any;\n\tprotected _utf: boolean;\n\tprotected obj: any;\n\tprotected _columns: any;\n\tprotected _changed: boolean;\n\tprotected _methods: any[];\n\tprotected _user: any;\n\tprotected _uActions: object;\n\tprotected _needUpdate: boolean;\n\tprotected _ganttMode: string;\n\n\tprotected _silent_mode: any; // tslint:disable-line\n\tprotected _updateBusy: any;\n\tprotected _serverProcessor: any;\n\tprotected _initialized: boolean;\n\n\tconstructor(serverProcessorURL?) {\n\t\tthis.serverProcessor = serverProcessorURL;\n\t\tthis.action_param = \"!nativeeditor_status\";\n\n\t\tthis.object = null;\n\t\tthis.updatedRows = []; // ids of updated rows\n\n\t\tthis.autoUpdate = true;\n\t\tthis.updateMode = \"cell\";\n\t\tthis._headers = null;\n\t\tthis._payload = null;\n\t\tthis._postDelim = \"_\";\n\n\t\tthis._waitMode = 0;\n\t\tthis._in_progress = {}; // ?\n\t\tthis._invalid = {};\n\t\tthis.mandatoryFields = [];\n\t\tthis.messages = [];\n\n\t\tthis.styles = {\n\t\t\tupdated: \"font-weight:bold;\",\n\t\t\tinserted: \"font-weight:bold;\",\n\t\t\tdeleted: \"text-decoration : line-through;\",\n\t\t\tinvalid: \"background-color:FFE0E0;\",\n\t\t\tinvalid_cell: \"border-bottom:2px solid red;\",\n\t\t\terror: \"color:red;\",\n\t\t\tclear: \"font-weight:normal;text-decoration:none;\"\n\t\t};\n\t\tthis.enableUTFencoding(true);\n\t\teventable(this);\n\t}\n\n\tsetTransactionMode(mode:any, total?:any) {\n\t\tif (typeof mode === \"object\") {\n\t\t\tthis._tMode = mode.mode || this._tMode;\n\n\t\t\tif (utils.defined(mode.headers)) {\n\t\t\t\tthis._headers = mode.headers;\n\t\t\t}\n\n\t\t\tif (utils.defined(mode.payload)) {\n\t\t\t\tthis._payload = mode.payload;\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis._tMode = mode;\n\t\t\tthis._tSend = total;\n\t\t}\n\n\t\tif (this._tMode === \"REST\") {\n\t\t\tthis._tSend = false;\n\t\t\tthis._endnm = true;\n\t\t}\n\n\t\tif (this._tMode === \"JSON\" || this._tMode === \"REST-JSON\") {\n\t\t\tthis._tSend = false;\n\t\t\tthis._endnm = true;\n\t\t\tthis._serializeAsJson = true;\n\t\t\tthis._headers = this._headers || {};\n\t\t\tthis._headers[\"Content-type\"] = \"application/json\";\n\t\t}\n\n\t\tif (this._tMode === \"CUSTOM\") {\n\t\t\tthis._tSend = false;\n\t\t\tthis._endnm = true;\n\t\t\tthis._router = mode.router;\n\t\t}\n\t}\n\n\tescape(data:any) {\n\t\tif (this._utf) {\n\t\t\treturn encodeURIComponent(data);\n\t\t} else {\n\t\t\treturn escape(data);\n\t\t}\n\t}\n\n\t/**\n\t * @desc: allows to set escaping mode\n\t * @param: true - utf based escaping, simple - use current page encoding\n\t * @type: public\n\t */\n\tenableUTFencoding(mode:boolean) {\n\t\tthis._utf = !!mode;\n\t}\n\n\n\t/**\n\t * @desc: allows to define, which column may trigger update\n\t * @param: val - array or list of true/false values\n\t * @type: public\n\t */\n\tsetDataColumns(val:string|any) {\n\t\tthis._columns = (typeof val === \"string\") ? val.split(\",\") : val;\n\t}\n\n\t/**\n\t * @desc: get state of updating\n\t * @returns:   true - all in sync with server, false - some items not updated yet.\n\t * @type: public\n\t */\n\tgetSyncState() {\n\t\treturn !this.updatedRows.length;\n\t}\n\n\t/**\n\t * @desc: enable/disable named field for data syncing, will use column ids for grid\n\t * @param:   mode - true/false\n\t * @type: public\n\t */\n\tenableDataNames(mode: boolean) {\n\t\tthis._endnm = !!mode;\n\t}\n\n\t/**\n\t * @desc: enable/disable mode , when only changed fields and row id send to the server side, instead of all fields in default mode\n\t * @param:   mode - true/false\n\t * @type: public\n\t */\n\tenablePartialDataSend(mode: boolean) {\n\t\tthis._changed = !!mode;\n\t}\n\n\t/**\n\t * @desc: set if rows should be send to server automaticaly\n\t * @param: mode - \"row\" - based on row selection changed, \"cell\" - based on cell editing finished, \"off\" - manual data sending\n\t * @type: public\n\t */\n\tsetUpdateMode(mode: string, dnd: any) {\n\t\tthis.autoUpdate = (mode === \"cell\");\n\t\tthis.updateMode = mode;\n\t\tthis.dnd = dnd;\n\t}\n\n\tignore(code: any, master: any) {\n\t\tthis._silent_mode = true;\n\t\tcode.call(master || window);\n\t\tthis._silent_mode = false;\n\t}\n\n\t/**\n\t * @desc: mark row as updated/normal. check mandatory fields,initiate autoupdate (if turned on)\n\t * @param: rowId - id of row to set update-status for\n\t * @param: state - true for \"updated\", false for \"not updated\"\n\t * @param: mode - update mode name\n\t * @type: public\n\t */\n\tsetUpdated(rowId:number|string, state: boolean, mode?: string) {\n\t\tif (this._silent_mode) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst ind = this.findRow(rowId);\n\n\t\tmode = mode || \"updated\";\n\t\tconst existing = this.$gantt.getUserData(rowId, this.action_param);\n\t\tif (existing && mode === \"updated\") {\n\t\t\tmode = existing;\n\t\t}\n\t\tif (state) {\n\t\t\tthis.set_invalid(rowId, false); // clear previous error flag\n\t\t\tthis.updatedRows[ind] = rowId;\n\t\t\tthis.$gantt.setUserData(rowId, this.action_param, mode);\n\t\t\tif (this._in_progress[rowId]) {\n\t\t\t\tthis._in_progress[rowId] = \"wait\";\n\t\t\t}\n\t\t} else {\n\t\t\tif (!this.is_invalid(rowId)) {\n\t\t\t\tthis.updatedRows.splice(ind, 1);\n\t\t\t\tthis.$gantt.setUserData(rowId, this.action_param, \"\");\n\t\t\t}\n\t\t}\n\n\t\tthis.markRow(rowId, state, mode);\n\t\tif (state && this.autoUpdate) {\n\t\t\tthis.sendData(rowId);\n\t\t}\n\t}\n\n\tmarkRow(id: number | string, state: boolean, mode: string) {\n\t\tlet str = \"\";\n\t\tconst invalid = this.is_invalid(id);\n\t\tif (invalid) {\n\t\t\tstr = this.styles[invalid];\n\t\t\tstate = true;\n\t\t}\n\t\tif (this.callEvent(\"onRowMark\", [id, state, mode, invalid])) {\n\t\t\t// default logic\n\t\t\tstr = this.styles[state ? mode : \"clear\"] + str;\n\n\t\t\tthis.$gantt[this._methods[0]](id, str);\n\n\t\t\tif (invalid && invalid.details) {\n\t\t\t\tstr += this.styles[invalid + \"_cell\"];\n\t\t\t\tfor (let i = 0; i < invalid.details.length; i++) {\n\t\t\t\t\tif (invalid.details[i]) {\n\t\t\t\t\t\tthis.$gantt[this._methods[1]](id, i, str);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgetActionByState(state: string):string {\n\t\tif (state === \"inserted\") {\n\t\t\treturn \"create\";\n\t\t}\n\n\t\tif (state === \"updated\") {\n\t\t\treturn \"update\";\n\t\t}\n\n\t\tif (state === \"deleted\") {\n\t\t\treturn \"delete\";\n\t\t}\n\n\t\t// reorder\n\t\treturn \"update\";\n\t}\n\n\tgetState(id: number | string) {\n\t\treturn this.$gantt.getUserData(id, this.action_param);\n\t}\n\n\tis_invalid(id: number | string) {\n\t\treturn this._invalid[id];\n\t}\n\n\tset_invalid(id: number | string, mode: any, details?) {\n\t\tif (details) {\n\t\t\tmode = {\n\t\t\t\tvalue: mode,\n\t\t\t\tdetails,\n\t\t\t\ttoString: function() { // tslint:disable-line\n\t\t\t\t\treturn this.value.toString();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tthis._invalid[id] = mode;\n\t}\n\n\t/**\n\t * @desc: check mandatory fields and varify values of cells, initiate update (if specified)\n\t * @param: rowId - id of row to set update-status for\n\t * @type: public\n\t */\n\t// tslint:disable-next-line\n\tcheckBeforeUpdate(rowId: number | string) { // ???\n\t\treturn true;\n\t}\n\n\t/**\n\t * @desc: send row(s) values to server\n\t * @param: rowId - id of row which data to send. If not specified, then all \"updated\" rows will be send\n\t * @type: public\n\t */\n\tsendData(rowId?: any) {\n\t\tif (this._waitMode && (this.$gantt.mytype === \"tree\" || this.$gantt._h2)) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.$gantt.editStop) {\n\t\t\tthis.$gantt.editStop();\n\t\t}\n\n\n\t\tif (typeof rowId === \"undefined\" || this._tSend) {\n\t\t\treturn this.sendAllData();\n\t\t}\n\t\tif (this._in_progress[rowId]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.messages = [];\n\t\tif (!this.checkBeforeUpdate(rowId) && this.callEvent(\"onValidationError\", [rowId, this.messages])) {\n\t\t\treturn false; // ??? unreachable code, drop it?\n\t\t}\n\t\tthis._beforeSendData(this._getRowData(rowId), rowId);\n\t}\n\n\t_beforeSendData(data: any, rowId: any) {\n\t\tif (!this.callEvent(\"onBeforeUpdate\", [rowId, this.getState(rowId), data])) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._sendData(data, rowId);\n\t}\n\n\tserialize(data: any, id: any) {\n\t\tif (this._serializeAsJson) {\n\t\t\treturn  this._serializeAsJSON(data);\n\t\t}\n\n\t\tif (typeof data === \"string\") {\n\t\t\treturn data;\n\t\t}\n\t\tif (typeof id !== \"undefined\") {\n\t\t\treturn this.serialize_one(data, \"\");\n\t\t} else {\n\t\t\tconst stack = [];\n\t\t\tconst keys = [];\n\t\t\tfor (const key in data) {\n\t\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\t\tstack.push(this.serialize_one(data[key], key + this._postDelim));\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t\tstack.push(\"ids=\" + this.escape(keys.join(\",\")));\n\t\t\tif (this.$gantt.security_key) {\n\t\t\t\tstack.push(\"dhx_security=\" + this.$gantt.security_key);\n\t\t\t}\n\t\t\treturn stack.join(\"&\");\n\t\t}\n\t}\n\n\t_serializeAsJSON(data: any) {\n\t\tif (typeof data === \"string\") {\n\t\t\treturn data;\n\t\t}\n\n\t\tconst copy = utils.copy(data);\n\t\tif (this._tMode === \"REST-JSON\") {\n\t\t\tdelete copy.id;\n\t\t\tdelete copy[this.action_param];\n\t\t}\n\n\t\treturn JSON.stringify(copy);\n\t}\n\n\tserialize_one(data: any, pref: string) {\n\t\tif (typeof data === \"string\") {\n\t\t\treturn data;\n\t\t}\n\t\tconst stack = [];\n\t\tlet serialized = \"\";\n\t\tfor (const key in data)\n\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\tif ((key === \"id\" ||\n\t\t\t\t\tkey == this.action_param) && // tslint:disable-line\n\t\t\t\t\tthis._tMode === \"REST\") {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (typeof data[key] === \"string\" || typeof data[key] === \"number\") {\n\t\t\t\t\tserialized = data[key];\n\t\t\t\t} else {\n\t\t\t\t\tserialized = JSON.stringify(data[key]);\n\t\t\t\t}\n\t\t\t\tstack.push(this.escape((pref || \"\") + key) + \"=\" + this.escape(serialized));\n\t\t\t}\n\t\treturn stack.join(\"&\");\n\t}\n\n\t_applyPayload(url: string) {\n\t\tconst ajax = this.$gantt.ajax;\n\t\tif (this._payload) {\n\t\t\tfor (const key in this._payload) {\n\t\t\t\turl = url + ajax.urlSeparator(url) + this.escape(key) + \"=\" + this.escape(this._payload[key]);\n\t\t\t}\n\t\t}\n\t\treturn url;\n\t}\n\n\t_sendData(dataToSend: any, rowId?: any) {\n\t\tif (!dataToSend) {\n\t\t\treturn; // nothing to send\n\t\t}\n\t\tif (!this.callEvent(\"onBeforeDataSending\", rowId ? [rowId, this.getState(rowId), dataToSend] : [null, null, dataToSend])) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (rowId) {\n\t\t\tthis._in_progress[rowId] = (new Date()).valueOf();\n\t\t}\n\n\t\tconst ajax = this.$gantt.ajax;\n\n\t\tif (this._tMode === \"CUSTOM\") {\n\t\t\tconst taskState = this.getState(rowId);\n\t\t\tconst taskAction = this.getActionByState(taskState);\n\t\t\tconst ganttMode = this.getGanttMode();\n\t\t\tconst _onResolvedCreateUpdate = (tag) => {\n\t\t\t\tlet action = taskState || \"updated\";\n\t\t\t\tlet sid = rowId;\n\t\t\t\tlet tid = rowId;\n\n\t\t\t\tif (tag) {\n\t\t\t\t\taction = tag.action || taskState;\n\t\t\t\t\tsid = tag.sid || sid;\n\t\t\t\t\ttid = tag.id || tag.tid || tid;\n\t\t\t\t}\n\t\t\t\tthis.afterUpdateCallback(sid, tid, action, tag);\n\t\t\t};\n\n\t\t\tlet actionPromise;\n\t\t\tif (this._router instanceof Function) {\n\t\t\t\tactionPromise = this._router(ganttMode, taskAction, dataToSend, rowId);\n\t\t\t} else if (this._router[ganttMode] instanceof Function) {\n\t\t\t\tactionPromise = this._router[ganttMode](taskAction, dataToSend, rowId);\n\t\t\t} else {\n\t\t\t\tswitch (taskState) {\n\t\t\t\t\tcase \"inserted\":\n\t\t\t\t\t\tactionPromise = this._router[ganttMode].create(dataToSend);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"deleted\":\n\t\t\t\t\t\tactionPromise = this._router[ganttMode].delete(rowId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tactionPromise = this._router[ganttMode].update(dataToSend, rowId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(actionPromise){\n\t\t\t\t// neither promise nor {tid: newId} response object\n\t\t\t\tif(!actionPromise.then &&\n\t\t\t\t\t(actionPromise.id === undefined && actionPromise.tid === undefined)){\n\t\t\t\t\tthrow new Error(\"Incorrect router return value. A Promise or a response object is expected\");\n\t\t\t\t}\n\n\t\t\t\tif(actionPromise.then){\n\t\t\t\t\tactionPromise.then(_onResolvedCreateUpdate);\n\t\t\t\t}else{\n\t\t\t\t\t// custom method may return a response object in case of sync action\n\t\t\t\t\t_onResolvedCreateUpdate(actionPromise);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t_onResolvedCreateUpdate(null);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tlet queryParams: any;\n\t\tqueryParams = {\n\t\t\tcallback: (xml) => {\n\t\t\t\tconst ids = [];\n\n\t\t\t\tif (rowId) {\n\t\t\t\t\tids.push(rowId);\n\t\t\t\t} else if (dataToSend) {\n\t\t\t\t\tfor (const key in dataToSend) {\n\t\t\t\t\t\tids.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn this.afterUpdate(this, xml, ids);\n\t\t\t},\n\t\t\theaders: this._headers\n\t\t};\n\n\t\tconst urlParams = this.serverProcessor + (this._user ? (ajax.urlSeparator(this.serverProcessor) + [\"dhx_user=\" + this._user, \"dhx_version=\" + this.$gantt.getUserData(0, \"version\")].join(\"&\")) : \"\");\n\t\tlet url: any = this._applyPayload(urlParams);\n\t\tlet data;\n\n\t\tswitch (this._tMode) {\n\t\t\tcase \"GET\":\n\t\t\t\tqueryParams.url = url + ajax.urlSeparator(url) + this.serialize(dataToSend, rowId);\n\t\t\t\tqueryParams.method = \"GET\";\n\t\t\t\tbreak;\n\t\t\tcase \"POST\":\n\t\t\t\tqueryParams.url = url;\n\t\t\t\tqueryParams.method = \"POST\";\n\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\n\t\t\t\tbreak;\n\t\t\tcase \"JSON\":\n\t\t\t\tdata = {};\n\t\t\t\tfor (const key in dataToSend) {\n\t\t\t\t\tif (key === this.action_param || key === \"id\" || key === \"gr_id\") {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tdata[key] = dataToSend[key];\n\t\t\t\t}\n\n\t\t\t\tqueryParams.url = url;\n\t\t\t\tqueryParams.method = \"POST\";\n\t\t\t\tqueryParams.data = JSON.stringify({\n\t\t\t\t\tid: rowId,\n\t\t\t\t\taction: dataToSend[this.action_param],\n\t\t\t\t\tdata\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"REST\":\n\t\t\tcase \"REST-JSON\":\n\t\t\t\turl = urlParams.replace(/(&|\\?)editing=true/, \"\");\n\t\t\t\tdata = \"\";\n\n\t\t\t\tswitch (this.getState(rowId)) {\n\t\t\t\t\tcase \"inserted\":\n\t\t\t\t\t\tqueryParams.method = \"POST\";\n\t\t\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"deleted\":\n\t\t\t\t\t\tqueryParams.method = \"DELETE\";\n\t\t\t\t\t\turl = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + rowId;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tqueryParams.method = \"PUT\";\n\t\t\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\n\t\t\t\t\t\turl = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + rowId;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tqueryParams.url = this._applyPayload(url);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis._waitMode++;\n\t\treturn ajax.query(queryParams);\n\t}\n\n\t_forEachUpdatedRow(code: any) {\n\t\tconst updatedRows = this.updatedRows.slice();\n\t\tfor (let i = 0; i < updatedRows.length; i++) {\n\t\t\tconst rowId = updatedRows[i];\n\t\t\tif (this.$gantt.getUserData(rowId, this.action_param)) {\n\t\t\t\tcode.call(this, rowId);\n\t\t\t}\n\t\t}\n\t}\n\n\tsendAllData() {\n\t\tif (!this.updatedRows.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.messages = [];\n\t\tlet valid: any = true;\n\n\t\tthis._forEachUpdatedRow(function(rowId) {\n\t\t\tvalid = valid && this.checkBeforeUpdate(rowId); // ??? checkBeforeUpdate() always is true\n\t\t});\n\n\t\tif (!valid && !this.callEvent(\"onValidationError\", [\"\", this.messages])) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._tSend) {\n\t\t\tthis._sendData(this._getAllData());\n\t\t} else {\n\t\t\tlet stop = false;\n\n\t\t\t// this.updatedRows can be spliced from onBeforeUpdate via dp.setUpdated false\n\t\t\t// use an iterator instead of for(var i = 0; i < this.updatedRows; i++) then\n\t\t\tthis._forEachUpdatedRow(function(rowId) {\n\t\t\t\tif (stop) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this._in_progress[rowId]) {\n\t\t\t\t\tif (this.is_invalid(rowId)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._beforeSendData(this._getRowData(rowId), rowId);\n\t\t\t\t\tif (this._waitMode && (this.$gantt.mytype === \"tree\" || this.$gantt._h2)) {\n\t\t\t\t\t\tstop = true; // block send all for tree\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t_getAllData() {\n\t\tconst out = {};\n\t\tlet hasOne = false;\n\n\t\tthis._forEachUpdatedRow(function(id) {\n\t\t\tif (this._in_progress[id] || this.is_invalid(id)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst row = this._getRowData(id);\n\t\t\tif (!this.callEvent(\"onBeforeUpdate\", [id, this.getState(id), row])) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tout[id] = row;\n\t\t\thasOne = true;\n\t\t\tthis._in_progress[id] = (new Date()).valueOf();\n\t\t});\n\n\t\treturn hasOne ? out : null;\n\t}\n\n\n\t/**\n\t * @desc: specify column which value should be verified before sending to server\n\t * @param: ind - column index (0 based)\n\t * @param: verifFunction - function(object) which should verify cell value (if not specified, then value will be compared to empty string). Two arguments will be passed into it: value and column name\n\t * @type: public\n\t */\n\tsetVerificator(ind: number, verifFunction: any) {\n\t\tthis.mandatoryFields[ind] = verifFunction || (function(value) { return (value !== \"\"); });\n\t}\n\n\t/**\n\t * @desc: remove column from list of those which should be verified\n\t * @param: ind - column Index (0 based)\n\t * @type: public\n\t */\n\tclearVerificator(ind: number) {\n\t\tthis.mandatoryFields[ind] = false;\n\t}\n\n\tfindRow(pattern: any) {\n\t\tlet i = 0;\n\t\tfor (i = 0; i < this.updatedRows.length; i++) {\n\t\t\tif (pattern == this.updatedRows[i]) { // tslint:disable-line\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn i;\n\t}\n\n\t/**\n\t * @desc: define custom actions\n\t * @param: name - name of action, same as value of action attribute\n\t * @param: handler - custom function, which receives a XMl response content for action\n\t * @type: private\n\t */\n\tdefineAction(name: string, handler: any) {\n\t\tif (!this._uActions) {\n\t\t\tthis._uActions = {};\n\t\t}\n\t\tthis._uActions[name] = handler;\n\t}\n\n\t/**\n\t * @desc: used in combination with setOnBeforeUpdateHandler to create custom client-server transport system\n\t * @param: sid - id of item before update\n\t * @param: tid - id of item after up0ate\n\t * @param: action - action name\n\t * @type: public\n\t * @topic: 0\n\t */\n\tafterUpdateCallback(sid: number | string, tid: number | string, action: string, btag: any) {\n\t\tif(!this.$gantt){\n\t\t\t// destructor has been called before the callback\n\t\t\treturn;\n\t\t}\n\n\t\tconst marker = sid;\n\t\tconst correct = (action !== \"error\" && action !== \"invalid\");\n\t\tif (!correct) {\n\t\t\tthis.set_invalid(sid, action);\n\t\t}\n\t\tif ((this._uActions) && (this._uActions[action]) && (!this._uActions[action](btag))) {\n\t\t\treturn (delete this._in_progress[marker]);\n\t\t}\n\n\t\tif (this._in_progress[marker] !== \"wait\") {\n\t\t\tthis.setUpdated(sid, false);\n\t\t}\n\n\t\tconst originalSid = sid;\n\n\t\tswitch (action) {\n\t\t\tcase \"inserted\":\n\t\t\tcase \"insert\":\n\t\t\t\tif (tid != sid) { // tslint:disable-line\n\t\t\t\t\tthis.setUpdated(sid, false);\n\t\t\t\t\tthis.$gantt[this._methods[2]](sid, tid);\n\t\t\t\t\tsid = tid;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"delete\":\n\t\t\tcase \"deleted\":\n\t\t\t\tthis.$gantt.setUserData(sid, this.action_param, \"true_deleted\");\n\t\t\t\tthis.$gantt[this._methods[3]](sid);\n\t\t\t\tdelete this._in_progress[marker];\n\t\t\t\treturn this.callEvent(\"onAfterUpdate\", [sid, action, tid, btag]);\n\t\t}\n\n\t\tif (this._in_progress[marker] !== \"wait\") {\n\t\t\tif (correct) {\n\t\t\t\tthis.$gantt.setUserData(sid, this.action_param, \"\");\n\t\t\t}\n\t\t\tdelete this._in_progress[marker];\n\t\t} else {\n\t\t\tdelete this._in_progress[marker];\n\t\t\tthis.setUpdated(tid, true, this.$gantt.getUserData(sid, this.action_param));\n\t\t}\n\n\t\tthis.callEvent(\"onAfterUpdate\", [originalSid, action, tid, btag]);\n\t}\n\n\t/**\n\t * @desc: response from server\n\t * @param: xml - XMLLoader object with response XML\n\t * @type: private\n\t */\n\tafterUpdate(that: any, xml: any, id?:any) {\n\t\tlet _xml;\n\t\tif (arguments.length === 3) {\n\t\t\t_xml = arguments[1];\n\t\t} else {\n\t\t\t// old dataprocessor\n\t\t\t_xml = arguments[4];\n\t\t}\n\t\tlet mode = this.getGanttMode();\n\t\tconst reqUrl = _xml.filePath || _xml.url;\n\n\t\tif (this._tMode !== \"REST\" && this._tMode !== \"REST-JSON\") {\n\t\t\tif (reqUrl.indexOf(\"gantt_mode=links\") !== -1) {\n\t\t\t\tmode = \"link\";\n\t\t\t} else {\n\t\t\t\tmode = \"task\";\n\t\t\t}\n\t\t} else {\n\t\t\tif (reqUrl.indexOf(\"/link\") > reqUrl.indexOf(\"/task\")) {\n\t\t\t\tmode = \"link\";\n\t\t\t} else {\n\t\t\t\tmode = \"task\";\n\t\t\t}\n\t\t}\n\t\tthis.setGanttMode(mode);\n\n\t\tconst ajax = this.$gantt.ajax;\n\t\t// try to use json first\n\t\tif ((window as any).JSON) {\n\t\t\tlet tag;\n\n\t\t\ttry {\n\t\t\t\ttag = JSON.parse(xml.xmlDoc.responseText);\n\t\t\t} catch (e) {\n\n\t\t\t\t// empty response also can be processed by json handler\n\t\t\t\tif (!xml.xmlDoc.responseText.length) {\n\t\t\t\t\ttag = {};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tag) {\n\t\t\t\tconst action = tag.action || this.getState(id) || \"updated\";\n\t\t\t\tconst sid = tag.sid || id[0];\n\t\t\t\tconst tid = tag.tid || id[0];\n\t\t\t\tthat.afterUpdateCallback(sid, tid, action, tag);\n\t\t\t\tthat.finalizeUpdate();\n\t\t\t\tthis.setGanttMode(mode);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// xml response\n\t\tconst top = ajax.xmltop(\"data\", xml.xmlDoc); // fix incorrect content type in IE\n\t\tif (!top) {\n\t\t\treturn this.cleanUpdate(id);\n\t\t}\n\t\tconst atag = ajax.xpath(\"//data/action\", top);\n\t\tif (!atag.length) {\n\t\t\treturn this.cleanUpdate(id);\n\t\t}\n\n\t\tfor (let i = 0; i < atag.length; i++) {\n\t\t\tconst btag = atag[i];\n\t\t\tconst action = btag.getAttribute(\"type\");\n\t\t\tconst sid = btag.getAttribute(\"sid\");\n\t\t\tconst tid = btag.getAttribute(\"tid\");\n\n\t\t\tthat.afterUpdateCallback(sid, tid, action, btag);\n\t\t}\n\t\tthat.finalizeUpdate();\n\t}\n\n\tcleanUpdate(id: any[]) {\n\t\tif (id) {\n\t\t\tfor (let i = 0; i < id.length; i++) {\n\t\t\t\tdelete this._in_progress[id[i]];\n\t\t\t}\n\t\t}\n\t}\n\n\tfinalizeUpdate() {\n\t\tif (this._waitMode) {\n\t\t\tthis._waitMode--;\n\t\t}\n\n\t\tif ((this.$gantt.mytype === \"tree\" || this.$gantt._h2) && this.updatedRows.length) {\n\t\t\tthis.sendData();\n\t\t}\n\t\tthis.callEvent(\"onAfterUpdateFinish\", []);\n\t\tif (!this.updatedRows.length) {\n\t\t\tthis.callEvent(\"onFullSync\", []);\n\t\t}\n\t}\n\n\t/**\n\t * @desc: initializes data-processor\n\t * @param: anObj - dhtmlxGrid object to attach this data-processor to\n\t * @type: public\n\t */\n\tinit(anObj: any) {\n\t\tif (this._initialized) {\n\t\t\treturn;\n\t\t}\n\t\tthis.$gantt = anObj;\n\t\tif (this.$gantt._dp_init) {\n\t\t\tthis.$gantt._dp_init(this);\n\t\t}\n\n\t\tthis._setDefaultTransactionMode();\n\n\t\tthis.styles = {\n\t\t\tupdated:\"gantt_updated\",\n\t\t\torder:\"gantt_updated\",\n\t\t\tinserted:\"gantt_inserted\",\n\t\t\tdeleted:\"gantt_deleted\",\n\t\t\tinvalid:\"gantt_invalid\",\n\t\t\terror:\"gantt_error\",\n\t\t\tclear:\"\"\n\t\t};\n\n\t\tthis._methods=[\"_row_style\",\"setCellTextStyle\",\"_change_id\",\"_delete_task\"];\n\t\textendGantt(this.$gantt, this);\n\t\tconst dataProcessorEvents = new DataProcessorEvents(this.$gantt, this);\n\t\tdataProcessorEvents.attach();\n\t\tthis.attachEvent(\"onDestroy\", function() {\n\t\t\tdelete this.setGanttMode;\n\t\t\tdelete this._getRowData;\n\n\t\t\tdelete this.$gantt._dp;\n\t\t\tdelete this.$gantt._change_id;\n\t\t\tdelete this.$gantt._row_style;\n\t\t\tdelete this.$gantt._delete_task;\n\t\t\tdelete this.$gantt._sendTaskOrder;\n\t\t\tdelete this.$gantt;\n\n\t\t\tdataProcessorEvents.detach();\n\t\t});\n\t\tthis.$gantt.callEvent(\"onDataProcessorReady\", [this]);\n\t\tthis._initialized = true;\n\t}\n\n\t_setDefaultTransactionMode() {\n\t\tif (this.serverProcessor) {\n\t\t\tthis.setTransactionMode(\"POST\", true);\n\t\t\tthis.serverProcessor += (this.serverProcessor.indexOf(\"?\") !== -1 ? \"&\" : \"?\") + \"editing=true\";\n\t\t\tthis._serverProcessor = this.serverProcessor;\n\t\t}\n\t}\n\n\tsetOnAfterUpdate(handler) {\n\t\tthis.attachEvent(\"onAfterUpdate\", handler);\n\t}\n\n\tenableDebug(mode) {} // tslint:disable-line\n\n\tsetOnBeforeUpdateHandler(handler) {\n\t\tthis.attachEvent(\"onBeforeDataSending\", handler);\n\t}\n\n\t/* starts autoupdate mode\n\t\t@param interval time interval for sending update requests\n\t*/\n\tsetAutoUpdate(interval, user) {\n\t\tinterval = interval || 2000;\n\n\t\tthis._user = user || (new Date()).valueOf();\n\t\tthis._needUpdate = false;\n\t\t// this._loader = null;\n\t\tthis._updateBusy = false;\n\n\t\tthis.attachEvent(\"onAfterUpdate\", this.afterAutoUpdate); // arguments sid, action, tid, xml_node;\n\n\t\tthis.attachEvent(\"onFullSync\", this.fullSync);\n\n\t\twindow.setInterval(() => {\n\t\t\tthis.loadUpdate();\n\t\t}, interval);\n\t}\n\n\t/* process updating request answer\n\t\tif status == collision version is depricated\n\t\tset flag for autoupdating immidiatly\n\t*/\n\tafterAutoUpdate(sid, action, tid, xml_node) { // tslint:disable-line\n\t\tif (action === \"collision\") {\n\t\t\tthis._needUpdate = true;\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t/* callback function for onFillSync event\n\t\tcall update function if it's need\n\t*/\n\tfullSync() {\n\t\tif (this._needUpdate) {\n\t\t\tthis._needUpdate = false;\n\t\t\tthis.loadUpdate();\n\t\t}\n\t\treturn true;\n\t}\n\n\t/* sends query to the server and call callback function\n\t*/\n\tgetUpdates(url, callback) {\n\t\tconst ajax = this.$gantt.ajax;\n\t\tif (this._updateBusy) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tthis._updateBusy = true;\n\t\t}\n\n\t\t// this._loader = this._loader || new dtmlXMLLoaderObject(true);\n\n\t\t// this._loader.async=true;\n\t\t// this._loader.waitCall=callback;\n\t\t// this._loader.loadXML(url);\n\t\tajax.get(url, callback);\n\n\t}\n\n\t// I didn't found some use of _v and _a functions\n\n\t/* returns xml node value\n\t\t@param node\n\t\t\txml node\n\t*/\n\t_v(node) {\n\t\tif (node.firstChild) {\n\t\t\treturn node.firstChild.nodeValue;\n\t\t}\n\t\treturn \"\";\n\t}\n\n\n\t/* returns values array of xml nodes array\n\t\t@param arr\n\t\t\tarray of xml nodes\n\t*/\n\t_a(arr) {\n\t\tconst res = [];\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tres[i] = this._v(arr[i]);\n\t\t}\n\t\treturn res;\n\t}\n\n\t/* loads updates and processes them\n\t*/\n\tloadUpdate() {\n\t\tconst ajax = this.$gantt.ajax;\n\t\tconst version = this.$gantt.getUserData(0, \"version\");\n\t\tlet url = this.serverProcessor + ajax.urlSeparator(this.serverProcessor) + [\"dhx_user=\" + this._user, \"dhx_version=\" + version].join(\"&\");\n\t\turl = url.replace(\"editing=true&\", \"\");\n\t\tthis.getUpdates(url, (xml) => {\n\t\t\tconst vers = ajax.xpath(\"//userdata\", xml);\n\t\t\tthis.obj.setUserData(0, \"version\", this._v(vers[0]));\n\n\t\t\tconst upds = ajax.xpath(\"//update\", xml);\n\t\t\tif (upds.length) {\n\t\t\t\tthis._silent_mode = true;\n\n\t\t\t\tfor (let i = 0; i < upds.length; i++) {\n\t\t\t\t\tconst status = upds[i].getAttribute(\"status\");\n\t\t\t\t\tconst id = upds[i].getAttribute(\"id\");\n\t\t\t\t\tconst parent = upds[i].getAttribute(\"parent\");\n\t\t\t\t\tswitch (status) {\n\t\t\t\t\t\tcase \"inserted\":\n\t\t\t\t\t\t\tthis.callEvent(\"insertCallback\", [upds[i], id, parent]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"updated\":\n\t\t\t\t\t\t\tthis.callEvent(\"updateCallback\", [upds[i], id, parent]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"deleted\":\n\t\t\t\t\t\t\tthis.callEvent(\"deleteCallback\", [upds[i], id, parent]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._silent_mode = false;\n\t\t\t}\n\n\t\t\tthis._updateBusy = false;\n\t\t});\n\t}\n\n\tdestructor() {\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\n\t\tthis.updatedRows = [];\n\t\tthis._in_progress = {}; // ?\n\t\tthis._invalid = {};\n\t\tthis._headers = null;\n\t\tthis._payload = null;\n\t\tdelete this._initialized;\n\t}\n\n\tsetGanttMode(mode) {\n\t\tif (mode === \"tasks\") {\n\t\t\tmode = \"task\";\n\t\t} else if (mode === \"links\") {\n\t\t\tmode = \"link\";\n\t\t}\n\n\t\tconst modes = this.modes || {};\n\t\tconst ganttMode = this.getGanttMode();\n\t\tif (ganttMode) {\n\t\t\tmodes[ganttMode] = {\n\t\t\t\t_in_progress : this._in_progress,\n\t\t\t\t_invalid: this._invalid,\n\t\t\t\tupdatedRows : this.updatedRows\n\t\t\t};\n\t\t}\n\n\t\tlet newState = modes[mode];\n\t\tif (!newState) {\n\t\t\tnewState = modes[mode] = {\n\t\t\t\t_in_progress : {},\n\t\t\t\t_invalid : {},\n\t\t\t\tupdatedRows : []\n\t\t\t};\n\t\t}\n\t\tthis._in_progress = newState._in_progress;\n\t\tthis._invalid = newState._invalid;\n\t\tthis.updatedRows = newState.updatedRows;\n\t\tthis.modes = modes;\n\t\tthis._ganttMode = mode;\n\t}\n\tgetGanttMode():string {\n\t\treturn this._ganttMode;\n\t}\n\n\t_getRowData(id) {\n\t\tlet task;\n\t\tif (this.getGanttMode() === \"task\") {\n\t\t\ttask = this.$gantt.isTaskExists(id) ? this.$gantt.getTask(id) : { id };\n\t\t} else {\n\t\t\ttask = this.$gantt.isLinkExists(id) ? this.$gantt.getLink(id) : { id };\n\t\t}\n\n\t\ttask = this.$gantt.copy(task);\n\n\t\tconst data = {};\n\t\tfor (const key in task) {\n\t\t\tif (key.substr(0, 1) === \"$\") {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst value = task[key];\n\t\t\tif (helpers.isDate(value)) {\n\t\t\t\tdata[key] = this.$gantt.templates.xml_format !== this.$gantt.templates.format_date ? this.$gantt.templates.xml_format(value) : this.$gantt.templates.format_date(value);\n\t\t\t} else if(value === null) {\n\t\t\t\tdata[key] = \"\";\n\t\t\t} else {\n\t\t\t\tdata[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tconst taskTiming = this.$gantt._get_task_timing_mode(task);\n\t\tif(taskTiming.$no_start){\n\t\t\ttask.start_date = \"\";\n\t\t\ttask.duration = \"\";\n\t\t}\n\t\tif(taskTiming.$no_end){\n\t\t\ttask.end_date = \"\";\n\t\t\ttask.duration = \"\";\n\t\t}\n\t\tdata[this.action_param] = this.$gantt.getUserData(id, this.action_param);\n\t\treturn data;\n\t}\n\n\t_isFetchResult(result) {\n\t\treturn result.body instanceof ReadableStream;\n\t}\n\n\tsetSerializeAsJSON(flag: true) {\n\t\tthis._serializeAsJson = flag;\n\t}\n}","var DataProcessor = require(\"./data_processor\");\nmodule.exports = {\n\tDEPRECATED_api: function(server) {\n\t\treturn new (DataProcessor.DataProcessor)(server);\n\t},\n\tcreateDataProcessor: DataProcessor.createDataProcessor,\n\tgetDataProcessorModes: DataProcessor.getAvailableModes\n};","var storeRenderCreator = function(name, gantt){\n\tvar store = gantt.getDatastore(name);\n\n\tvar itemRepainter = {\n\t\trenderItem: function(id, renderer){\n\n\t\t\tvar renders = renderer.getLayers();\n\n\t\t\tvar item = store.getItem(id);\n\t\t\tif(item && store.isVisible(id)) {\n\t\t\t\tfor (var i = 0; i < renders.length; i++)\n\t\t\t\t\trenders[i].render_item(item);\n\t\t\t}\n\t\t},\n\t\trenderItems: function(renderer){\n\t\t\tvar renderers = renderer.getLayers();\n\t\t\tfor (var i = 0; i < renderers.length; i++) {\n\t\t\t\trenderers[i].clear();\n\t\t\t}\n\n\t\t\tvar data = store.getVisibleItems();\n\n\t\t\tfor (var i = 0; i < renderers.length; i++) {\n\t\t\t\trenderers[i].render_items(data);\n\t\t\t}\n\t\t},\n\t\tupdateItems: function(layer) {\n\t\t\tif(layer.update_items){\n\t\t\t\tvar data = store.getVisibleItems();\n\t\t\t\tlayer.update_items(data);\n\t\t\t}\n\t\t}\n\t};\n\n\tstore.attachEvent(\"onStoreUpdated\", function(id, item, action){\n\t\tvar renderer = gantt.$services.getService(\"layers\").getDataRender(name);\n\t\tif(renderer){\n\t\t\trenderer.onUpdateRequest = function(layer){\n\t\t\t\titemRepainter.updateItems(layer);\n\t\t\t};\n\t\t}\n\t});\n\n\tfunction skipRepaint(gantt){\n\t\tvar state = gantt.$services.getService(\"state\");\n\t\tif(state.getState(\"batchUpdate\").batch_update){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstore.attachEvent(\"onStoreUpdated\", function(id, item, action){\n\t\tif(skipRepaint(gantt)){\n\t\t\treturn;\n\t\t}\n\n\t\tvar renderer = gantt.$services.getService(\"layers\").getDataRender(name);\n\n\t\tif(renderer){\n\t\t\tif(!id || action == \"move\" || action == \"delete\"){\n\t\t\t\tstore.callEvent(\"onBeforeRefreshAll\", []);\n\t\t\t\titemRepainter.renderItems(renderer);\n\t\t\t\tstore.callEvent(\"onAfterRefreshAll\", []);\n\t\t\t}else{\n\t\t\t\tstore.callEvent(\"onBeforeRefreshItem\", [item.id]);\n\t\t\t\titemRepainter.renderItem(item.id, renderer);\n\t\t\t\tstore.callEvent(\"onAfterRefreshItem\", [item.id]);\n\t\t\t}\n\t\t}\n\n\t});\n\n\t// TODO: probably can be done more in a more efficient way\n\tstore.attachEvent(\"onItemOpen\", function(){\n\t\tgantt.render();\n\t});\n\n\tstore.attachEvent(\"onItemClose\", function(){\n\t\tgantt.render();\n\t});\n\n\tfunction refreshId(renders, oldId, newId, item) {\n\t\tfor (var i = 0; i < renders.length; i++) {\n\t\t\trenders[i].change_id(oldId, newId);\n\t\t}\n\t}\n\n\tstore.attachEvent(\"onIdChange\", function(oldId, newId){\n\n\t\t// in case of linked datastores (tasks <-> links), id change should recalculate something in linked datastore before any repaint\n\t\t// use onBeforeIdChange for this hook.\n\t\t// TODO: use something more reasonable instead\n\t\tstore.callEvent(\"onBeforeIdChange\", [oldId, newId]);\n\n\t\tif(skipRepaint(gantt)){\n\t\t\treturn;\n\t\t}\n\t\tvar renderer = gantt.$services.getService(\"layers\").getDataRender(name);\n\t\trefreshId(renderer.getLayers(), oldId, newId, store.getItem(newId));\n\t\titemRepainter.renderItem(newId, renderer);\n\t});\n\n};\n\nmodule.exports = {\n\tbindDataStore: storeRenderCreator\n};","function createDataStoreSelectMixin(store){\n\tvar selectedId = null;\n\n\tvar deleteItem = store._removeItemInner;\n\t\n\tfunction unselect(id){\n\t\tselectedId = null;\n\t\tthis.callEvent(\"onAfterUnselect\", [id]);\n\t}\n\n\tstore._removeItemInner = function(id){\n\t\tif(selectedId == id){\n\t\t\tunselect.call(this, id);\n\t\t}\n\n\t\tif(selectedId && this.eachItem){\n\t\t\tthis.eachItem(function(subItem){\n\t\t\t\tif(subItem.id == selectedId){\n\t\t\t\t\tunselect.call(this, subItem.id);\n\t\t\t\t}\n\t\t\t}, id);\n\t\t}\n\n\t\treturn deleteItem.apply(this, arguments);\n\t};\n\n\tstore.attachEvent(\"onIdChange\", function(oldId, newId) {\n\t\tif (store.getSelectedId() == oldId) {\n\t\t\tstore.silent(function () {\n\t\t\t\tstore.unselect(oldId);\n\t\t\t\tstore.select(newId);\n\t\t\t});\n\t\t}\n\t});\n\n\treturn {\n\t\tselect: function(id){\n\t\t\tif (id){\n\n\t\t\t\tif(selectedId == id)\n\t\t\t\t\treturn selectedId;\n\n\t\t\t\tif(!this._skip_refresh) {\n\t\t\t\t\tif (!this.callEvent(\"onBeforeSelect\", [id])) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.unselect();\n\n\t\t\t\tselectedId = id;\n\n\t\t\t\tif(!this._skip_refresh) {\n\t\t\t\t\tthis.refresh(id);\n\t\t\t\t\tthis.callEvent(\"onAfterSelect\", [id]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn selectedId;\n\t\t},\n\t\tgetSelectedId: function(){\n\t\t\treturn selectedId;\n\t\t},\n\t\tisSelected: function(id){\n\t\t\treturn id == selectedId;\n\t\t},\n\t\tunselect: function(id){\n\t\t\tvar id = id || selectedId;\n\t\t\tif(!id)\n\t\t\t\treturn;\n\t\t\tselectedId = null;\n\t\t\tif(!this._skip_refresh){\n\t\t\t\tthis.refresh(id);\n\t\t\t\tunselect.call(this, id);\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = createDataStoreSelectMixin;","var powerArray = require(\"./power_array\");\nvar utils = require(\"../../utils/utils\");\nvar DataStore = require(\"./datastore\");\n\nvar TreeDataStore = function(config){\n\tDataStore.apply(this, [config]);\n\tthis._branches = {};\n\n\tthis.pull = {};\n\tthis.$initItem = config.initItem;\n\tthis.$parentProperty = config.parentProperty || \"parent\";\n\n\tif(typeof config.rootId !== \"function\"){\n\t\tthis.$getRootId = (function(val){\n\t\t\treturn function(){return val;};\n\t\t})(config.rootId || 0);\n\t}else{\n\t\tthis.$getRootId = config.rootId;\n\t}\n\n\t// TODO: replace with live reference to gantt config\n\tthis.$openInitially = config.openInitially;\n\n\tthis.visibleOrder = powerArray.$create();\n\tthis.fullOrder = powerArray.$create();\n\tthis._searchVisibleOrder = {};\n\tthis._skip_refresh = false;\n\n\tthis._ganttConfig = null;\n\tif(config.getConfig){\n\t\tthis._ganttConfig = config.getConfig();\n\t}\n\n\tthis.attachEvent(\"onFilterItem\", function(id, item){\n\n\t\tvar canOpenSplitTasks = false;\n\t\tif(this._ganttConfig){\n\t\t\tvar canOpenSplitTasks = this._ganttConfig.open_split_tasks;\n\t\t}\n\n\t\tvar open = true;\n\t\tthis.eachParent(function(parent){\n\t\t\topen = open && parent.$open && (canOpenSplitTasks || !this._isSplitItem(parent));\n\t\t}, item);\n\t\treturn !!open;\n\t});\n\n\treturn this;\n};\n\nTreeDataStore.prototype = utils.mixin({\n\n\t\t_buildTree: function(data){\n\t\t\tvar item = null;\n\t\t\tvar rootId = this.$getRootId();\n\t\t\tfor (var i = 0, len = data.length; i < len; i++){\n\t\t\t\titem = data[i];\n\t\t\t\tthis.setParent(item, this.getParent(item) || rootId);\n\t\t\t}\n\n\t\t\t// calculating $level for each item\n\t\t\tfor (var i = 0, len = data.length; i < len; i++){\n\t\t\t\titem = data[i];\n\t\t\t\tthis._add_branch(item);\n\t\t\t\titem.$level = this.calculateItemLevel(item);\n\n\t\t\t\tif (!utils.defined(item.$open)) {\n\t\t\t\t\titem.$open = utils.defined(item.open) ? item.open : this.$openInitially();\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tthis._updateOrder();\n\t\t},\n\t\t_isSplitItem: function(item){\n\t\t\treturn (item.render == \"split\" && this.hasChild(item.id));\n\t\t},\n\t\tparse: function(data){\n\t\t\tthis.callEvent(\"onBeforeParse\", [data]);\n\t\t\tvar loaded = this._parseInner(data);\n\t\t\tthis._buildTree(loaded);\n\t\t\tthis.filter();\n\t\t\tthis.callEvent(\"onParse\", [loaded]);\n\t\t},\n\n\t\t_addItemInner: function(item, index){\n\n\t\t\tvar parent = this.getParent(item);\n\n\t\t\tif(!utils.defined(parent)){\n\t\t\t\tparent = this.$getRootId();\n\t\t\t\tthis.setParent(item, parent);\n\t\t\t}\n\n\t\t\tvar parentIndex = this.getIndexById(parent);\n\t\t\tvar targetIndex = parentIndex + Math.min(Math.max(index, 0), this.visibleOrder.length);\n\n\t\t\tif(targetIndex*1 !== targetIndex){\n\t\t\t\ttargetIndex = undefined;\n\t\t\t}\n\t\t\tDataStore.prototype._addItemInner.call(this, item, targetIndex);\n\t\t\tthis.setParent(item, parent);\n\n\t\t\tif(item.hasOwnProperty(\"$rendered_parent\")){\n\t\t\t\tthis._move_branch(item, item.$rendered_parent);\n\t\t\t}\n\t\t\tthis._add_branch(item, index);\n\t\t},\n\t\t_changeIdInner: function(oldId, newId){\n\t\t\tvar children = this.getChildren(oldId);\n\t\t\tvar visibleOrder = this._searchVisibleOrder[oldId];\n\n\t\t\tDataStore.prototype._changeIdInner.call(this, oldId, newId);\n\n\t\t\tvar parent = this.getParent(newId);\n\n\t\t\tthis._replace_branch_child(parent, oldId, newId);\n\t\t\tfor(var i = 0; i < children.length; i++){\n\t\t\t\tthis.setParent(this.getItem(children[i]), newId);\n\t\t\t}\n\n\t\t\tthis._searchVisibleOrder[newId] = visibleOrder;\n\t\t\tdelete this._branches[oldId];\n\t\t},\n\n\t\t_traverseBranches: function(code, parent){\n\t\t\tparent = parent || this.$getRootId();\n\t\t\tvar branch = this._branches[parent];\n\t\t\tif (branch) {\n\t\t\t\tfor (var i = 0; i < branch.length; i++) {\n\t\t\t\t\tvar itemId = branch[i];\n\t\t\t\t\tcode.call(this, itemId);\n\t\t\t\t\tif (this._branches[itemId])\n\t\t\t\t\t\tthis._traverseBranches(code, itemId);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_updateOrder: function(code){\n\n\t\t\tthis.fullOrder = powerArray.$create();\n\t\t\tthis._traverseBranches(function(taskId){\n\t\t\t\tthis.fullOrder.push(taskId);\n\t\t\t});\n\n\t\t\tif(code)\n\t\t\t\tDataStore.prototype._updateOrder.call(this, code);\n\t\t},\n\n\t\t_removeItemInner: function(id){\n\n\t\t\tvar items = [];\n\t\t\tthis.eachItem(function(child){\n\t\t\t\titems.push(child);\n\t\t\t}, id);\n\n\t\t\titems.push(this.getItem(id));\n\n\t\t\tfor(var i = 0; i < items.length; i++){\n\n\t\t\t\tthis._move_branch(items[i], this.getParent(items[i]), null);\n\t\t\t\tDataStore.prototype._removeItemInner.call(this, items[i].id);\n\t\t\t\tthis._move_branch(items[i], this.getParent(items[i]), null);\n\t\t\t}\n\t\t},\n\n\t\tmove: function(sid, tindex, parent){\n\t\t\t//target id as 4th parameter\n\t\t\tvar id = arguments[3];\n\t\t\tif (id) {\n\t\t\t\tif (id === sid) return;\n\n\t\t\t\tparent = this.getParent(id);\n\t\t\t\ttindex = this.getBranchIndex(id);\n\t\t\t}\n\t\t\tif(sid == parent){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tparent = parent || this.$getRootId();\n\t\t\tvar source = this.getItem(sid);\n\t\t\tvar source_pid = this.getParent(source.id);\n\n\t\t\tvar tbranch = this.getChildren(parent);\n\n\t\t\tif (tindex == -1)\n\t\t\t\ttindex = tbranch.length + 1;\n\t\t\tif (source_pid == parent) {\n\t\t\t\tvar sindex = this.getBranchIndex(sid);\n\t\t\t\tif (sindex == tindex) return;\n\t\t\t}\n\n\t\t\tif(this.callEvent(\"onBeforeItemMove\", [sid, parent, tindex]) === false)\n\t\t\t\treturn;\n\n\t\t\tthis._replace_branch_child(source_pid, sid);\n\t\t\ttbranch = this.getChildren(parent);\n\n\t\t\tvar tid = tbranch[tindex];\n\t\t\tif (!tid) //adding as last element\n\t\t\t\ttbranch.push(sid);\n\t\t\telse\n\t\t\t\ttbranch = tbranch.slice(0, tindex).concat([ sid ]).concat(tbranch.slice(tindex));\n\n\t\t\tthis.setParent(source, parent);\n\t\t\tthis._branches[parent] = tbranch;\n\n\t\t\tvar diff = this.calculateItemLevel(source) - source.$level;\n\t\t\tsource.$level += diff;\n\t\t\tthis.eachItem(function(item){\n\t\t\t\titem.$level += diff;\n\t\t\t}, source.id, this);\n\n\n\t\t\tthis._moveInner(this.getIndexById(sid), this.getIndexById(parent) + tindex);\n\n\t\t\tthis.callEvent(\"onAfterItemMove\", [sid, parent, tindex]);\n\t\t\tthis.refresh();\n\t\t},\n\n\t\tgetBranchIndex: function(id){\n\t\t\tvar branch = this.getChildren(this.getParent(id));\n\t\t\tfor (var i = 0; i < branch.length; i++)\n\t\t\t\tif (branch[i] == id)\n\t\t\t\t\treturn i;\n\n\t\t\treturn -1;\n\t\t},\n\t\thasChild: function(id){\n\t\t\treturn (utils.defined(this._branches[id]) && this._branches[id].length);\n\t\t},\n\t\tgetChildren: function(id){\n\t\t\treturn utils.defined(this._branches[id]) ? this._branches[id] : powerArray.$create();\n\t\t},\n\n\t\tisChildOf: function(childId, parentId){\n\t\t\tif (!this.exists(childId))\n\t\t\t\treturn false;\n\t\t\tif (parentId === this.$getRootId())\n\t\t\t\treturn true;\n\n\t\t\tif (!this.hasChild(parentId))\n\t\t\t\treturn false;\n\n\t\t\tvar item = this.getItem(childId);\n\t\t\tvar pid = this.getParent(childId);\n\n\t\t\tvar parent = this.getItem(parentId);\n\t\t\tif(parent.$level >= item.$level){\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\twhile (item && this.exists(pid)) {\n\t\t\t\titem = this.getItem(pid);\n\n\t\t\t\tif (item && item.id == parentId)\n\t\t\t\t\treturn true;\n\t\t\t\tpid = this.getParent(item);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tgetSiblings: function(id){\n\t\t\tif(!this.exists(id)){\n\t\t\t\treturn powerArray.$create();\n\t\t\t}\n\t\t\tvar parent = this.getParent(id);\n\t\t\treturn this.getChildren(parent);\n\n\t\t},\n\t\tgetNextSibling: function(id){\n\t\t\tvar siblings = this.getSiblings(id);\n\t\t\tfor(var i= 0, len = siblings.length; i < len; i++){\n\t\t\t\tif(siblings[i] == id)\n\t\t\t\t\treturn siblings[i+1] || null;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetPrevSibling: function(id){\n\t\t\tvar siblings = this.getSiblings(id);\n\t\t\tfor(var i= 0, len = siblings.length; i < len; i++){\n\t\t\t\tif(siblings[i] == id)\n\t\t\t\t\treturn siblings[i-1] || null;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetParent: function(id){\n\t\t\tvar item = null;\n\t\t\tif(id.id !== undefined){\n\t\t\t\titem = id;\n\t\t\t}else{\n\t\t\t\titem = this.getItem(id);\n\t\t\t}\n\n\t\t\tvar parent;\n\t\t\tif(item){\n\t\t\t\tparent = item[this.$parentProperty];\n\t\t\t}else{\n\t\t\t\tparent = this.$getRootId();\n\t\t\t}\n\t\t\treturn parent;\n\n\t\t},\n\n\t\tclearAll: function(){\n\t\t\tthis._branches = {};\n\t\t\tDataStore.prototype.clearAll.call(this);\n\t\t},\n\n\t\tcalculateItemLevel: function(item){\n\t\t\tvar level = 0;\n\t\t\tthis.eachParent(function(){\n\t\t\t\tlevel++;\n\t\t\t}, item);\n\t\t\treturn level;\n\t\t},\n\n\t\t_setParentInner: function(item, new_pid, silent){\n\t\t\tif(!silent){\n\t\t\t\tif(item.hasOwnProperty(\"$rendered_parent\")){\n\t\t\t\t\tthis._move_branch(item, item.$rendered_parent, new_pid);\n\t\t\t\t}else{\n\t\t\t\t\tthis._move_branch(item, item[this.$parentProperty], new_pid);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetParent: function(item, new_pid, silent){\n\t\t\tthis._setParentInner(item, new_pid, silent);\n\n\t\t\titem[this.$parentProperty] = new_pid;\n\t\t},\n\t\teachItem: function(code, parent){\n\t\t\tparent = parent || this.$getRootId();\n\n\n\t\t\tvar branch = this.getChildren(parent);\n\t\t\tif (branch)\n\t\t\t\tfor (var i=0; i<branch.length; i++){\n\t\t\t\t\tvar item = this.pull[branch[i]];\n\t\t\t\t\tcode.call(this, item);\n\t\t\t\t\tif (this.hasChild(item.id))\n\t\t\t\t\t\tthis.eachItem(code, item.id);\n\t\t\t\t}\n\t\t},\n\t\teachParent: function(code, startItem) {\n\t\t\tvar parentsHash = {};\n\t\t\tvar item = startItem;\n\t\t\tvar parent = this.getParent(item);\n\n\t\t\twhile (this.exists(parent)) {\n\t\t\t\tif (parentsHash[parent]) {\n\t\t\t\t\tthrow new Error(\"Invalid tasks tree. Cyclic reference has been detected on task \" + parent);\n\t\t\t\t}\n\t\t\t\tparentsHash[parent] = true;\n\t\t\t\titem = this.getItem(parent);\n\t\t\t\tcode.call(this, item);\n\t\t\t\tparent = this.getParent(item);\n\t\t\t}\n\t\t},\n\t\t_add_branch: function(item, index, parent){\n\t\t\tvar pid = parent === undefined ? this.getParent(item) : parent;\n\t\t\tif (!this.hasChild(pid))\n\t\t\t\tthis._branches[pid] = powerArray.$create();\n\t\t\tvar branch = this.getChildren(pid);\n\t\t\tvar added_already = false;\n\t\t\tfor(var i = 0, length = branch.length; i < length; i++){\n\t\t\t\tif(branch[i] == item.id){\n\t\t\t\t\tadded_already = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!added_already){\n\t\t\t\tif(index*1 == index){\n\n\t\t\t\t\tbranch.splice(index, 0, item.id);\n\t\t\t\t}else{\n\t\t\t\t\tbranch.push(item.id);\n\t\t\t\t}\n\n\t\t\t\titem.$rendered_parent = pid;\n\t\t\t}\n\t\t},\n\t\t_move_branch: function(item, old_parent, new_parent){\n\t\t\t//this.setParent(item, new_parent);\n\t\t\t//this._sync_parent(task);\n\t\t\tthis._replace_branch_child(old_parent, item.id);\n\t\t\tif(this.exists(new_parent) || new_parent == this.$getRootId()){\n\n\t\t\t\tthis._add_branch(item, undefined, new_parent);\n\t\t\t}else{\n\t\t\t\tdelete this._branches[item.id];\n\t\t\t}\n\t\t\titem.$level =  this.calculateItemLevel(item);\n\t\t\tthis.eachItem(function(child){\n\t\t\t\tchild.$level = this.calculateItemLevel(child);\n\t\t\t}, item.id);\n\t\t},\n\n\t\t_replace_branch_child: function(node, old_id, new_id){\n\t\t\tvar branch = this.getChildren(node);\n\t\t\tif (branch && node !== undefined){\n\t\t\t\tvar newbranch = powerArray.$create();\n\t\t\t\tfor (var i=0; i<branch.length; i++){\n\t\t\t\t\tif (branch[i] != old_id)\n\t\t\t\t\t\tnewbranch.push(branch[i]);\n\t\t\t\t\telse if (new_id)\n\t\t\t\t\t\tnewbranch.push(new_id);\n\t\t\t\t}\n\t\t\t\tthis._branches[node] = newbranch;\n\t\t\t}\n\n\t\t},\n\n\t\tsort: function(field, desc, parent){\n\t\t\tif (!this.exists(parent)) {\n\t\t\t\tparent = this.$getRootId();\n\t\t\t}\n\n\t\t\tif (!field) field = \"order\";\n\t\t\tvar criteria = (typeof(field) == \"string\") ? (function(a, b) {\n\t\t\t\tif(a[field] == b[field]){\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tvar result = a[field] > b[field];\n\t\t\t\treturn result ? 1 : -1;\n\t\t\t}) : field;\n\n\t\t\tif (desc) {\n\t\t\t\tvar original_criteria = criteria;\n\t\t\t\tcriteria = function (a, b) {\n\t\t\t\t\treturn original_criteria(b, a);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar els = this.getChildren(parent);\n\n\t\t\tif (els){\n\t\t\t\tvar temp = [];\n\t\t\t\tfor (var i = els.length - 1; i >= 0; i--)\n\t\t\t\t\ttemp[i] = this.getItem(els[i]);\n\n\t\t\t\ttemp.sort(criteria);\n\n\t\t\t\tfor (var i = 0; i < temp.length; i++) {\n\t\t\t\t\tels[i] = temp[i].id;\n\t\t\t\t\tthis.sort(field, desc, els[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfilter: function(rule){\n\t\t\tfor(var i  in this.pull){\n\t\t\t\tif(this.pull[i].$rendered_parent !== this.getParent(this.pull[i])){\n\t\t\t\t\tthis._move_branch(this.pull[i], this.pull[i].$rendered_parent, this.getParent(this.pull[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn DataStore.prototype.filter.apply(this, arguments);\n\t\t},\n\n\t\topen: function(id){\n\t\t\tif(this.exists(id)){\n\t\t\t\tthis.getItem(id).$open = true;\n\t\t\t\tthis.callEvent(\"onItemOpen\", [id]);\n\t\t\t}\n\t\t},\n\n\t\tclose: function(id){\n\t\t\tif(this.exists(id)){\n\t\t\t\tthis.getItem(id).$open = false;\n\t\t\t\tthis.callEvent(\"onItemClose\", [id]);\n\t\t\t}\n\t\t},\n\n\t\tdestructor: function(){\n\t\t\tDataStore.prototype.destructor.call(this);\n\t\t\tthis._branches = null;\n\t\t}\n\t},\n\tDataStore.prototype\n);\n\nmodule.exports = TreeDataStore;","var utils = require(\"../../utils/utils\");\n\n\nvar createLinksStoreFacade = function(){\n\treturn {\n\tgetLinkCount: function () {\n\t\treturn this.$data.linksStore.count();\n\t},\n\n\tgetLink : function (id) {\n\t\treturn this.$data.linksStore.getItem(id);\n\t},\n\n\tgetLinks : function () {\n\t\treturn this.$data.linksStore.getItems();\n\t},\n\n\tisLinkExists : function (id) {\n\t\treturn this.$data.linksStore.exists(id);\n\t},\n\n\taddLink : function (link) {\n\t\treturn this.$data.linksStore.addItem(link);\n\t},\n\n\tupdateLink : function (id, data) {\n\t\tif (!utils.defined(data))\n\t\t\tdata = this.getLink(id);\n\t\tthis.$data.linksStore.updateItem(id, data);\n\t},\n\n\tdeleteLink : function (id) {\n\t\treturn this.$data.linksStore.removeItem(id);\n\t},\n\n\tchangeLinkId : function (oldid, newid) {\n\t\treturn this.$data.linksStore.changeId(oldid, newid);\n\t}\n};\n};\n\nmodule.exports = createLinksStoreFacade;","var utils = require(\"../../utils/utils\");\n\nvar createTasksDatastoreFacade = function(){\n\treturn {\n\tgetTask: function (id) {\n\t\tthis.assert(id, \"Invalid argument for gantt.getTask\");\n\t\tvar task = this.$data.tasksStore.getItem(id);\n\t\tthis.assert(task, \"Task not found id=\" + id);\n\t\treturn task;\n\t},\n\tgetTaskByTime: function (from, to) {\n\t\tvar p = this.$data.tasksStore.getItems();\n\n\t\tvar res = [];\n\n\t\tif (!(from || to)) {\n\t\t\tres = p;\n\t\t} else {\n\t\t\tfrom = +from || -Infinity;\n\t\t\tto = +to || Infinity;\n\t\t\tfor (var t = 0; t < p.length; t++){\n\t\t\t\tvar task = p[t];\n\t\t\t\tif (+task.start_date < to && +task.end_date > from)\n\t\t\t\t\tres.push(task);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\tisTaskExists: function (id) {\n\t\tif(!this.$data || !this.$data.tasksStore){\n\t\t\treturn false;\n\t\t}\n\t\treturn this.$data.tasksStore.exists(id);\n\t},\n\tupdateTask: function (id, item) {\n\t\tif (!utils.defined(item)) item = this.getTask(id);\n\t\tthis.$data.tasksStore.updateItem(id, item);\n\t\tif(this.isTaskExists(id))\n\t\t\tthis.refreshTask(id);\n\t},\n\taddTask: function (item, parent, index) {\n\t\tif (!utils.defined(item.id))\n\t\t\titem.id = utils.uid();\n\n\t\tif (!utils.defined(parent)) parent = this.getParent(item) || 0;\n\t\tif (!this.isTaskExists(parent)) parent = this.config.root_id;\n\t\tthis.setParent(item, parent);\n\n\t\treturn this.$data.tasksStore.addItem(item, index, parent);\n\t},\n\tdeleteTask: function (id) {\n\t\treturn this.$data.tasksStore.removeItem(id);\n\t},\n\tgetTaskCount: function () {\n\t\treturn this.$data.tasksStore.count();\n\t},\n\tgetVisibleTaskCount: function () {\n\t\treturn this.$data.tasksStore.countVisible();\n\t},\n\tgetTaskIndex: function (id) {\n\t\treturn this.$data.tasksStore.getBranchIndex(id);\n\t},\n\tgetGlobalTaskIndex: function (id) {\n\t\tthis.assert(id, \"Invalid argument\");\n\t\treturn this.$data.tasksStore.getIndexById(id);\n\t},\n\teachTask: function (code, parent, master) {\n\t\treturn this.$data.tasksStore.eachItem(utils.bind(code, master||this), parent);\n\t},\n\teachParent: function (callback, startTask, master) {\n\t\treturn this.$data.tasksStore.eachParent(utils.bind(callback, master || this), startTask);\n\t},\n\tchangeTaskId: function (oldid, newid) {\n\t\tthis.$data.tasksStore.changeId(oldid, newid);\n\t\tvar task = this.$data.tasksStore.getItem(newid);\n\n\t\tvar links = [];\n\n\t\tif (task.$source) {\n\t\t\tlinks = links.concat(task.$source);\n\t\t}\n\t\tif (task.$target) {\n\t\t\tlinks = links.concat(task.$target);\n\t\t}\n\n\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\tvar link = this.getLink(links[i]);\n\t\t\tif (link.source == oldid) {\n\t\t\t\tlink.source = newid;\n\t\t\t}\n\t\t\tif (link.target == oldid) {\n\t\t\t\tlink.target = newid;\n\t\t\t}\n\t\t}\n\t},\n\tcalculateTaskLevel: function (item) {\n\t\treturn this.$data.tasksStore.calculateItemLevel(item);\n\t},\n\tgetNext: function (id) {\n\t\treturn this.$data.tasksStore.getNext(id);\n\t},\n\tgetPrev: function (id) {\n\t\treturn this.$data.tasksStore.getPrev(id);\n\t},\n\tgetParent: function (id) {\n\t\treturn this.$data.tasksStore.getParent(id);\n\t},\n\tsetParent: function (task, new_pid, silent) {\n\t\treturn this.$data.tasksStore.setParent(task, new_pid, silent);\n\t},\n\tgetSiblings: function (id) {\n\t\treturn this.$data.tasksStore.getSiblings(id).slice();\n\t},\n\tgetNextSibling: function (id) {\n\t\treturn this.$data.tasksStore.getNextSibling(id);\n\t},\n\tgetPrevSibling: function (id) {\n\t\treturn this.$data.tasksStore.getPrevSibling(id);\n\t},\n\tgetTaskByIndex: function(index){\n\t\tvar id = this.$data.tasksStore.getIdByIndex(index);\n\t\tif(this.isTaskExists(id)){\n\t\t\treturn this.getTask(id);\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t},\n\tgetChildren: function (id) {\n\t\tif(!this.hasChild(id)){\n\t\t\treturn [];\n\t\t}else{\n\t\t\treturn this.$data.tasksStore.getChildren(id).slice();\n\t\t}\n\t},\n\thasChild: function (id) {\n\t\treturn this.$data.tasksStore.hasChild(id);\n\t},\n\topen: function (id) {\n\t\tthis.$data.tasksStore.open(id);\n\t},\n\tclose: function (id) {\n\t\tthis.$data.tasksStore.close(id);\n\t},\n\tmoveTask: function (sid, tindex, parent) {\n\t\tthis.$data.tasksStore.move.apply(this.$data.tasksStore, arguments);\n\t},\n\tsort: function(field, desc, parent, silent) {\n\t\tvar render = !silent;//4th argument to cancel redraw after sorting\n\n\t\tthis.$data.tasksStore.sort(field, desc, parent);\n\t\tif (render) {\n\t\t\tthis.render();\n\t\t}\n\t\tthis.callEvent(\"onAfterSort\", [field, desc, parent]);\n\t}\n};\n};\n\nmodule.exports = createTasksDatastoreFacade;\n\n\n","var utils = require(\"../../utils/utils\");\nvar createTasksFacade = require(\"./datastore_tasks\"),\n\tcreateLinksFacade = require(\"./datastore_links\"),\n\tDataStore = require(\"../datastore/datastore\"),\n\tTreeDataStore = require(\"../datastore/treedatastore\"),\n\tcreateDatastoreSelect = require(\"../datastore/select\");\nvar datastoreRender = require(\"../datastore/datastore_render\");\n\nfunction getDatastores(){\n\tvar storeNames = this.$services.getService(\"datastores\");\n\tvar res = [];\n\tfor(var i = 0; i < storeNames.length; i++){\n\t\tres.push(this.getDatastore(storeNames[i]));\n\t}\n\treturn res;\n}\n\nvar createDatastoreFacade = function(){\n\treturn {\n\tcreateDatastore: function(config){\n\n\t\tvar $StoreType = (config.type || \"\").toLowerCase() == \"treedatastore\" ? TreeDataStore : DataStore;\n\n\t\tif (config) {\n\t\t\tvar self = this;\n\t\t\tconfig.openInitially = function(){ return self.config.open_tree_initially; };\n\t\t}\n\n\t\tvar store = new $StoreType(config);\n\t\tthis.mixin(store, createDatastoreSelect(store));\n\n\t\tif (config.name) {\n\t\t\tvar servicePrefix = \"datastore:\";\n\n\t\t\tthis.$services.dropService(servicePrefix + config.name);\n\t\t\tthis.$services.setService(servicePrefix + config.name, function() { return store; } );\n\n\t\t\tvar storeList = this.$services.getService(\"datastores\");\n\t\t\tif (!storeList) {\n\t\t\t\tstoreList = [];\n\t\t\t\tthis.$services.setService(\"datastores\", function() { return storeList; });\n\t\t\t\tstoreList.push(config.name);\n\t\t\t} else if (storeList.indexOf(config.name) < 0) {\n\t\t\t\tstoreList.push(config.name);\n\t\t\t}\n\n\t\t\tdatastoreRender.bindDataStore(config.name, this);\n\t\t}\n\n\t\treturn store;\n\t},\n\tgetDatastore: function(name){\n\t\treturn this.$services.getService(\"datastore:\" + name);\n\t},\n\n\trefreshData: function () {\n\t\tvar scrollState = this.getScrollState();\n\t\tthis.callEvent(\"onBeforeDataRender\", []);\n\n\t\tvar stores = getDatastores.call(this);\n\t\tfor(var i = 0; i < stores.length; i++){\n\t\t\tstores[i].refresh();\n\t\t}\n\n\t\tif(scrollState.x || scrollState.y){\n\t\t\tthis.scrollTo(scrollState.x, scrollState.y);\n\t\t}\n\t\tthis.callEvent(\"onDataRender\", []);\n\t},\n\n\tisChildOf: function(childId, parentId){\n\t\treturn this.$data.tasksStore.isChildOf(childId, parentId);\n\t},\n\n\trefreshTask: function (taskId, refresh_links) {\n\t\tvar task = this.getTask(taskId);\n\t\tif (task && this.isTaskVisible(taskId)) {\n\n\t\t\tthis.$data.tasksStore.refresh(taskId, !!this.getState().drag_id);// do quick refresh during drag and drop\n\n\t\t\tif (refresh_links !== undefined && !refresh_links)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0; i < task.$source.length; i++) {\n\t\t\t\tthis.refreshLink(task.$source[i]);\n\t\t\t}\n\t\t\tfor (var i = 0; i < task.$target.length; i++) {\n\t\t\t\tthis.refreshLink(task.$target[i]);\n\t\t\t}\n\t\t}else if(this.isTaskExists(taskId) && this.isTaskExists(this.getParent(taskId))){\n\t\t\tthis.refreshTask(this.getParent(taskId));\n\t\t}\n\n\t},\n\trefreshLink: function (linkId) {\n\t\tthis.$data.linksStore.refresh(linkId, !!this.getState().drag_id);// do quick refresh during drag and drop\n\t},\n\n\tsilent: function(code){\n\t\tvar gantt = this;\n\t\tgantt.$data.tasksStore.silent(function(){\n\t\t\tgantt.$data.linksStore.silent(function(){\n\t\t\t\tcode();\n\t\t\t});\n\t\t});\n\t},\n\n\tclearAll: function () {\n\t\tvar stores = getDatastores.call(this);\n\t\tfor(var i = 0; i < stores.length; i++){\n\t\t\tstores[i].clearAll();\n\t\t}\n\n\t\tthis._update_flags();\n\t\tthis.userdata = {};\n\t\tthis.callEvent(\"onClear\", []);\n\t\tthis.render();\n\t},\n\t_clear_data: function () {\n\t\tthis.$data.tasksStore.clearAll();\n\t\tthis.$data.linksStore.clearAll();\n\t\tthis._update_flags();\n\t\tthis.userdata = {};\n\t},\n\n\tselectTask: function(id){\n\t\tvar store = this.$data.tasksStore;\n\t\tif(!this.config.select_task)\n\t\t\treturn false;\n\t\tif (id){\n\n\t\t\tstore.select(id);\n\t\t}\n\t\treturn store.getSelectedId();\n\t},\n\tunselectTask: function(id){\n\t\tvar store = this.$data.tasksStore;\n\t\tstore.unselect(id);\n\t},\n\tisSelectedTask: function(id){\n\t\treturn this.$data.tasksStore.isSelected(id);\n\t},\n\tgetSelectedId: function() {\n\t\treturn this.$data.tasksStore.getSelectedId();\n\t}\n};\n};\n\nfunction createFacade(){\n\tvar res = utils.mixin({}, createDatastoreFacade());\n\tutils.mixin(res, createTasksFacade());\n\tutils.mixin(res, createLinksFacade());\n\treturn res;\n}\n\n\n\n\nmodule.exports = {create: createFacade};","var utils = require(\"../../utils/utils\");\nvar facadeFactory = require(\"./../facades/datastore\");\nvar calculateScaleRange = require(\"../gantt_data_range\");\nfunction initDataStores(gantt){\n\n\tvar facade = facadeFactory.create();\n\tutils.mixin(gantt, facade);\n\tvar tasksStore = gantt.createDatastore({\n\t\tname: \"task\",\n\t\ttype: \"treeDatastore\",\n\t\trootId: function() { return gantt.config.root_id; },\n\t\tinitItem: utils.bind(_init_task, gantt),\n\t\tgetConfig: function() { return gantt.config; }\n\t});\n\n\tvar linksStore = gantt.createDatastore({\n\t\tname: \"link\",\n\t\tinitItem: utils.bind(_init_link, gantt)\n\t});\n\n\tgantt.attachEvent(\"onDestroy\", function(){\n\t\ttasksStore.destructor();\n\t\tlinksStore.destructor();\n\t});\n\n\ttasksStore.attachEvent(\"onBeforeRefreshAll\", function(){\n\n\t\tvar order = tasksStore.getVisibleItems();\n\n\t\tfor(var i=0; i < order.length; i++){\n\t\t\tvar item = order[i];\n\t\t\titem.$index = i;\n\t\t\tgantt.resetProjectDates(item);\n\t\t}\n\n\t});\n\n\ttasksStore.attachEvent(\"onFilterItem\", function(id, task){\n\t\tvar min = null, max = null;\n\t\tif (gantt.config.start_date && gantt.config.end_date) {\n\t\t\tif (gantt._isAllowedUnscheduledTask(task)) return true;\n\t\t\tmin = gantt.config.start_date.valueOf();\n\t\t\tmax = gantt.config.end_date.valueOf();\n\n\t\t\tif (+task.start_date > max || +task.end_date < +min)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t});\n\n\ttasksStore.attachEvent(\"onIdChange\", function(oldId, newId){\n\t\tgantt._update_flags(oldId, newId);\n\t});\n\n\ttasksStore.attachEvent(\"onAfterUpdate\", function(id){\n\t\tgantt._update_parents(id);\n\t\tif(gantt.getState(\"batchUpdate\").batch_update){\n\t\t\treturn true;\n\t\t}\n\n\t\tvar task = tasksStore.getItem(id);\n\t\tfor (var i = 0; i < task.$source.length; i++) {\n\t\t\tlinksStore.refresh(task.$source[i]);\n\t\t}\n\t\tfor (var i = 0; i < task.$target.length; i++) {\n\t\t\tlinksStore.refresh(task.$target[i]);\n\t\t}\n\t});\n\n\ttasksStore.attachEvent(\"onAfterItemMove\", function(sid, parent, tindex){\n\t\tvar source = gantt.getTask(sid);\n\n\t\tif(this.getNextSibling(sid) !== null){\n\t\t\tsource.$drop_target = this.getNextSibling(sid);\n\t\t} else if(this.getPrevSibling(sid) !== null){\n\t\t\tsource.$drop_target = \"next:\" + this.getPrevSibling(sid);\n\t\t}else{\n\t\t\tsource.$drop_target = \"next:null\";\n\t\t}\n\n\t});\n\n\ttasksStore.attachEvent(\"onStoreUpdated\", function(id, item, action){\n\t\tif(action == \"delete\"){\n\t\t\tgantt._update_flags(id, null);\n\t\t}\n\n\t\tvar state = gantt.$services.getService(\"state\");\n\t\tif(state.getState(\"batchUpdate\").batch_update){\n\t\t\treturn;\n\t\t}\n\n\t\tif(gantt.config.fit_tasks && action !== \"paint\"){\n\t\t\tvar oldState = gantt.getState();\n\t\t\tcalculateScaleRange(gantt);\n\t\t\tvar newState = gantt.getState();\n\n\t\t\t//this._init_tasks_range();\n\t\t\tif (+oldState.min_date != +newState.min_date || +oldState.max_date != +newState.max_date) {\n\t\t\t\tgantt.render();\n\n\t\t\t\tgantt.callEvent(\"onScaleAdjusted\", []);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\n\t\tif(action == \"add\" || action == \"move\" || action == \"delete\"){\n\t\t\tgantt.$layout.resize();\n\t\t}else if(!id){\n\t\t\tlinksStore.refresh();\n\t\t}\n\n\t});\n\n\tlinksStore.attachEvent(\"onAfterAdd\", function(id, link){\n\t\tsync_link(link);\n\t});\n\tlinksStore.attachEvent(\"onAfterUpdate\", function(id, link){\n\t\tsync_links();\n\t});\n\tlinksStore.attachEvent(\"onAfterDelete\", function(id, link){\n\t\tsync_link_delete(link);\n\t});\n\tlinksStore.attachEvent(\"onBeforeIdChange\", function(oldId, newId){\n\t\tsync_link_delete(gantt.mixin({id:oldId}, gantt.$data.linksStore.getItem(newId)));\n\t\tsync_link(gantt.$data.linksStore.getItem(newId));\n\t});\n\n\tfunction checkLinkedTaskVisibility(taskId){\n\t\tvar isVisible = gantt.isTaskVisible(taskId);\n\t\tif(!isVisible && gantt.isTaskExists(taskId)){\n\t\t\tvar parent = gantt.getParent(taskId);\n\t\t\tif(gantt.isTaskExists(parent) && gantt.isTaskVisible(parent)){\n\t\t\t\tparent = gantt.getTask(parent);\n\t\t\t\tif(gantt.isSplitTask(parent)){\n\t\t\t\t\tisVisible = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn isVisible;\n\t}\n\n\tlinksStore.attachEvent(\"onFilterItem\", function(id, link){\n\t\tif (!gantt.config.show_links) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar sourceVisible = checkLinkedTaskVisibility(link.source);\n\t\tvar targetVisible = checkLinkedTaskVisibility(link.target);\n\n\t\tif (!(sourceVisible && targetVisible) ||\n\t\t\tgantt._isAllowedUnscheduledTask(gantt.getTask(link.source)) || gantt._isAllowedUnscheduledTask(gantt.getTask(link.target)))\n\t\t\treturn false;\n\n\t\treturn gantt.callEvent(\"onBeforeLinkDisplay\", [id, link]);\n\t});\n\n\n\t(function(){\n\t\t// delete all connected links after task is deleted\n\t\tvar treeHelper = require(\"../../utils/task_tree_helpers\");\n\t\tvar deletedLinks = {};\n\n\t\tgantt.attachEvent(\"onBeforeTaskDelete\", function(id, item){\n\t\t\tdeletedLinks[id] = treeHelper.getSubtreeLinks(gantt, id);\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onAfterTaskDelete\", function(id, item) {\n\t\t\tif(deletedLinks[id]){\n\t\t\t\tgantt.$data.linksStore.silent(function(){\n\t\t\t\t\tfor(var i in deletedLinks[id]){\n\t\t\t\t\t\tgantt.$data.linksStore.removeItem(i);\n\t\t\t\t\t\tsync_link_delete(deletedLinks[id][i]);\n\t\t\t\t\t}\n\n\t\t\t\t\tdeletedLinks[id] = null;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t})();\n\n\tgantt.attachEvent(\"onAfterLinkDelete\", function(id, link) {\n\t\tgantt.refreshTask(link.source);\n\t\tgantt.refreshTask(link.target);\n\t});\n\n\tgantt.attachEvent(\"onParse\", sync_links);\n\n\tmapEvents({\n\t\tsource: linksStore,\n\t\ttarget: gantt,\n\t\tevents:{\n\t\t\t\"onItemLoading\":\"onLinkLoading\",\n\t\t\t\"onBeforeAdd\":\"onBeforeLinkAdd\",\n\t\t\t\"onAfterAdd\":\"onAfterLinkAdd\",\n\t\t\t\"onBeforeUpdate\":\"onBeforeLinkUpdate\",\n\t\t\t\"onAfterUpdate\":\"onAfterLinkUpdate\",\n\t\t\t\"onBeforeDelete\":\"onBeforeLinkDelete\",\n\t\t\t\"onAfterDelete\":\"onAfterLinkDelete\",\n\t\t\t\"onIdChange\":\"onLinkIdChange\"\n\t\t}\n\t});\n\n\tmapEvents({\n\t\tsource: tasksStore,\n\t\ttarget: gantt,\n\t\tevents:{\n\t\t\t\"onItemLoading\":\"onTaskLoading\",\n\t\t\t\"onBeforeAdd\":\"onBeforeTaskAdd\",\n\t\t\t\"onAfterAdd\":\"onAfterTaskAdd\",\n\t\t\t\"onBeforeUpdate\":\"onBeforeTaskUpdate\",\n\t\t\t\"onAfterUpdate\":\"onAfterTaskUpdate\",\n\t\t\t\"onBeforeDelete\":\"onBeforeTaskDelete\",\n\t\t\t\"onAfterDelete\":\"onAfterTaskDelete\",\n\t\t\t\"onIdChange\":\"onTaskIdChange\",\n\t\t\t\"onBeforeItemMove\":\"onBeforeTaskMove\",\n\t\t\t\"onAfterItemMove\":\"onAfterTaskMove\",\n\t\t\t\"onFilterItem\":\"onBeforeTaskDisplay\",\n\t\t\t\"onItemOpen\":\"onTaskOpened\",\n\t\t\t\"onItemClose\":\"onTaskClosed\",\n\t\t\t\"onBeforeSelect\":\"onBeforeTaskSelected\",\n\t\t\t\"onAfterSelect\":\"onTaskSelected\",\n\t\t\t\"onAfterUnselect\":\"onTaskUnselected\"\n\t\t}\n\t});\n\n\tgantt.$data = {\n\t\ttasksStore: tasksStore,\n\t\tlinksStore: linksStore\n\t};\n\n\tfunction sync_link(link){\n\t\tif(gantt.isTaskExists(link.source)){\n\t\t\tvar sourceTask = gantt.getTask(link.source);\n\t\t\tsourceTask.$source = sourceTask.$source || [];\n\t\t\tsourceTask.$source.push(link.id);\n\t\t}\n\t\tif(gantt.isTaskExists(link.target)){\n\t\t\tvar targetTask = gantt.getTask(link.target);\n\t\t\ttargetTask.$target = targetTask.$target || [];\n\t\t\ttargetTask.$target.push(link.id);\n\t\t}\n\t}\n\n\tfunction sync_link_delete(link){\n\t\tif(gantt.isTaskExists(link.source)){\n\t\t\tvar sourceTask = gantt.getTask(link.source);\n\t\t\tfor(var i = 0; i < sourceTask.$source.length; i++){\n\t\t\t\tif(sourceTask.$source[i] == link.id){\n\t\t\t\t\tsourceTask.$source.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(gantt.isTaskExists(link.target)){\n\t\t\tvar targetTask = gantt.getTask(link.target);\n\t\t\tfor(var i = 0; i < targetTask.$target.length; i++){\n\t\t\t\tif(targetTask.$target[i] == link.id){\n\t\t\t\t\ttargetTask.$target.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction sync_links() {\n\t\tvar task = null;\n\t\tvar tasks = gantt.$data.tasksStore.getItems();\n\n\t\tfor(var i = 0, len = tasks.length; i < len; i++){\n\t\t\ttask = tasks[i];\n\t\t\ttask.$source = [];\n\t\t\ttask.$target = [];\n\t\t}\n\n\t\tvar links = gantt.$data.linksStore.getItems();\n\t\tfor (var i = 0, len = links.length; i < len; i++) {\n\n\t\t\tvar link = links[i];\n\t\t\tsync_link(link);\n\t\t}\n\t}\n\n\tfunction mapEvents(conf){\n\t\tvar mapFrom = conf.source;\n\t\tvar mapTo = conf.target;\n\t\tfor(var i in conf.events){\n\t\t\t(function(sourceEvent, targetEvent){\n\t\t\t\tmapFrom.attachEvent(sourceEvent, function(){\n\t\t\t\t\treturn mapTo.callEvent(targetEvent, Array.prototype.slice.call(arguments));\n\t\t\t\t}, targetEvent);\n\t\t\t})(i, conf.events[i]);\n\t\t}\n\t}\n\n\tfunction _init_task(task) {\n\t\tif (!this.defined(task.id))\n\t\t\ttask.id = this.uid();\n\n\t\tif (task.start_date)\n\t\t\ttask.start_date = gantt.date.parseDate(task.start_date, \"parse_date\");\n\t\tif (task.end_date)\n\t\t\ttask.end_date = gantt.date.parseDate(task.end_date, \"parse_date\");\n\n\n\t\tvar duration = null;\n\t\tif (task.duration || task.duration === 0) {\n\t\t\ttask.duration = duration = task.duration * 1;\n\t\t}\n\n\t\tif (duration) {\n\t\t\tif (task.start_date && !task.end_date) {\n\t\t\t\ttask.end_date = this.calculateEndDate(task);\n\t\t\t} else if (!task.start_date && task.end_date) {\n\t\t\t\ttask.start_date = this.calculateEndDate({\n\t\t\t\t\tstart_date: task.end_date,\n\t\t\t\t\tduration: -task.duration,\n\t\t\t\t\ttask: task\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\ttask.progress = Number(task.progress) || 0;\n\n\t\tif (this._isAllowedUnscheduledTask(task)) {\n\t\t\tthis._set_default_task_timing(task);\n\t\t}\n\t\tthis._init_task_timing(task);\n\t\tif (task.start_date && task.end_date)\n\t\t\tthis.correctTaskWorkTime(task);\n\n\t\ttask.$source = [];\n\t\ttask.$target = [];\n\t\tif (task.parent === undefined) {\n\t\t\tthis.setParent(task, this.config.root_id);\n\t\t}\n\n\t\treturn task;\n\t}\n\n\tfunction _init_link(link) {\n\t\tif (!this.defined(link.id))\n\t\t\tlink.id = this.uid();\n\t\treturn link;\n\t}\n}\n\n\nmodule.exports = initDataStores;\n","function createLayoutFacade(){\n\n\tfunction getTimeline(gantt){\n\t\treturn gantt.$ui.getView(\"timeline\");\n\t}\n\n\tfunction getGrid(gantt){\n\t\treturn gantt.$ui.getView(\"grid\");\n\t}\n\n\tfunction getVerticalScrollbar(gantt){\n\t\treturn gantt.$ui.getView(\"scrollVer\");\n\t}\n\n\tfunction getHorizontalScrollbar(gantt){\n\t\treturn gantt.$ui.getView(\"scrollHor\");\n\t}\n\n\tvar DEFAULT_VALUE = \"DEFAULT_VALUE\";\n\n\tfunction tryCall(getView, method, args, fallback){\n\t\tvar view = getView(this);\n\t\tif (!(view && view.isVisible())) {\n\t\t\tif(fallback){\n\t\t\t\treturn fallback();\n\t\t\t}else{\n\t\t\t\treturn DEFAULT_VALUE;\n\t\t\t}\n\t\t} else {\n\t\t\treturn view[method].apply(view, args);\n\t\t}\n\t}\n\n\treturn {\n\n\t\tgetColumnIndex: function(name) {\n\t\t\tvar res = tryCall.call(this, getGrid, \"getColumnIndex\", [name]);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tdateFromPos: function(x) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"dateFromPos\", Array.prototype.slice.call(arguments));\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn this.getState().min_date;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tposFromDate: function(date) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"posFromDate\", [date]);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetRowTop: function(index) {\n\t\t\tvar self = this;\n\t\t\tvar res = tryCall.call(self, getTimeline, \"getRowTop\", [index],\n\t\t\t\tfunction(){ return tryCall.call(self, getGrid, \"getRowTop\", [index]);}\n\t\t\t\t);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetTaskTop: function(id) {\n\t\t\tvar self = this;\n\t\t\tvar res = tryCall.call(self, getTimeline, \"getItemTop\", [id],\n\t\t\t\tfunction(){ return tryCall.call(self, getGrid, \"getItemTop\", [id]);}\n\t\t\t);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\n\t\tgetTaskPosition: function(task, start_date, end_date) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"getItemPosition\", [task, start_date, end_date]);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\tvar top = this.getTaskTop(task.id);\n\t\t\t\tvar height = this.getTaskHeight();\n\n\t\t\t\treturn {\n\t\t\t\t\tleft: 0,\n\t\t\t\t\ttop: top,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: 0\n\t\t\t\t};\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetTaskHeight: function() {\n\t\t\tvar self = this;\n\t\t\tvar res = tryCall.call(self, getTimeline, \"getItemHeight\", [],\n\t\t\t\tfunction(){ return tryCall.call(self, getGrid, \"getItemHeight\", []);}\n\t\t\t);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\n\t\tcolumnIndexByDate: function(date) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"columnIndexByDate\", [date]);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\troundTaskDates: function() {\n\t\t\ttryCall.call(this, getTimeline, \"roundTaskDates\", []);\n\t\t},\n\n\t\tgetScale: function() {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"getScale\", []);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn null;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetTaskNode: function(id) {\n\t\t\tvar timeline = getTimeline(this);\n\t\t\tif (!timeline || !timeline.isVisible()) {\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn timeline._taskRenderer.rendered[id];\n\t\t\t}\n\t\t},\n\n\n\t\tgetLinkNode: function(id) {\n\t\t\tvar timeline = getTimeline(this);\n\t\t\tif (!timeline.isVisible()) {\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn timeline._linkRenderer.rendered[id];\n\t\t\t}\n\t\t},\n\n\t\tscrollTo: function(left, top){\n\t\t\tvar vertical = getVerticalScrollbar(this);\n\t\t\tvar horizontal = getHorizontalScrollbar(this);\n\n\t\t\tvar oldH = {position: 0},\n\t\t\t\toldV = {position: 0};\n\n\t\t\tif(vertical){\n\t\t\t\toldV = vertical.getScrollState();\n\t\t\t}\n\t\t\tif(horizontal){\n\t\t\t\toldH = horizontal.getScrollState();\n\t\t\t}\n\n\t\t\tif (horizontal && left*1 == left){\n\t\t\t\thorizontal.scroll(left);\n\t\t\t}\n\t\t\tif(vertical && top*1 == top){\n\t\t\t\tvertical.scroll(top);\n\t\t\t}\n\n\t\t\tvar newV = {position: 0},\n\t\t\t\tnewH = {position: 0};\n\t\t\tif(vertical){\n\t\t\t\tnewV = vertical.getScrollState();\n\t\t\t}\n\t\t\tif(horizontal){\n\t\t\t\tnewH = horizontal.getScrollState();\n\t\t\t}\n\n\t\t\tthis.callEvent(\"onGanttScroll\", [oldH.position, oldV.position, newH.position, newV.position]);\n\t\t},\n\n\t\tshowDate: function(date){\n\t\t\tvar date_x = this.posFromDate(date);\n\t\t\tvar scroll_to = Math.max(date_x - this.config.task_scroll_offset, 0);\n\t\t\tthis.scrollTo(scroll_to);\n\t\t},\n\t\tshowTask: function(id) {\n\t\t\tvar pos = this.getTaskPosition(this.getTask(id));\n\n\t\t\tvar left = Math.max(pos.left - this.config.task_scroll_offset, 0);\n\n\t\t\tvar dataHeight = this._scroll_state().y;\n\t\t\tvar top;\n\t\t\tif(!dataHeight){\n\t\t\t\ttop = pos.top;\n\t\t\t}else{\n\t\t\t\ttop = pos.top - (dataHeight - this.config.row_height)/2;\n\t\t\t}\n\n\t\t\tthis.scrollTo(left, top);\n\t\t},\n\t\t_scroll_state: function(){\n\t\t\tvar result = {\n\t\t\t\tx: false,\n\t\t\t\ty: false,\n\t\t\t\tx_pos: 0,\n\t\t\t\ty_pos: 0,\n\t\t\t\tscroll_size: this.config.scroll_size + 1,//1px for inner content\n\t\t\t\tx_inner: 0,\n\t\t\t\ty_inner: 0\n\t\t\t};\n\n\t\t\tvar scrollVer = getVerticalScrollbar(this),\n\t\t\t\tscrollHor = getHorizontalScrollbar(this);\n\t\t\tif(scrollHor){\n\t\t\t\tvar horState = scrollHor.getScrollState();\n\t\t\t\tif(horState.visible){\n\t\t\t\t\tresult.x = horState.size;\n\t\t\t\t\tresult.x_inner = horState.scrollSize;\n\t\t\t\t}\n\t\t\t\tresult.x_pos = horState.position || 0;\n\t\t\t}\n\n\t\t\tif(scrollVer){\n\t\t\t\tvar verState = scrollVer.getScrollState();\n\t\t\t\tif(verState.visible){\n\t\t\t\t\tresult.y = verState.size;\n\n\t\t\t\t\tresult.y_inner = verState.scrollSize;\n\t\t\t\t}\n\t\t\t\tresult.y_pos = verState.position || 0;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\tgetScrollState: function(){\n\t\t\tvar state = this._scroll_state();\n\t\t\treturn { x:state.x_pos, y:state.y_pos, inner_width:state.x, inner_height:state.y, width: state.x_inner, height: state.y_inner };\n\t\t}\n\n\t};\n\n}\n\nmodule.exports = createLayoutFacade;","module.exports = function(gantt) {\n\tdelete gantt.addTaskLayer;\n\tdelete gantt.addLinkLayer;\n};","var domHelpers = require(\"../../utils/dom_helpers\");\n\nvar initializer = (function() {\n\treturn function (gantt) {\n\t\treturn {\n\n\t\t\tgetVerticalScrollbar: function(){\n\t\t\t\treturn gantt.$ui.getView(\"scrollVer\");\n\t\t\t},\n\t\t\tgetHorizontalScrollbar: function(){\n\t\t\t\treturn gantt.$ui.getView(\"scrollHor\");\n\t\t\t},\n\n\t\t\t_legacyGridResizerClass: function(layout){\n\t\t\t\tvar resizers = layout.getCellsByType(\"resizer\");\n\t\t\t\tfor(var i = 0; i < resizers.length; i++){\n\t\t\t\t\tvar r = resizers[i];\n\t\t\t\t\tvar gridResizer = false;\n\n\t\t\t\t\tvar prev = r.$parent.getPrevSibling(r.$id);\n\t\t\t\t\tif(prev && prev.$config && prev.$config.id === \"grid\"){\n\t\t\t\t\t\tgridResizer= true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tvar next = r.$parent.getNextSibling(r.$id);\n\t\t\t\t\t\tif(next && next.$config && next.$config.id === \"grid\"){\n\t\t\t\t\t\t\tgridResizer= true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(gridResizer){\n\t\t\t\t\t\tr.$config.css = (r.$config.css ? r.$config.css + \" \" : \"\") + \"gantt_grid_resize_wrap\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonCreated: function(layout) {\n\t\t\t\tvar first = true;\n\n\t\t\t\tthis._legacyGridResizerClass(layout);\n\n\t\t\t\tlayout.attachEvent(\"onBeforeResize\", function() {\n\t\t\t\t\tvar mainTimeline = gantt.$ui.getView(\"timeline\");\n\t\t\t\t\tif (mainTimeline)\n\t\t\t\t\t\tmainTimeline.$config.hidden = mainTimeline.$parent.$config.hidden = !gantt.config.show_chart;\n\n\t\t\t\t\tvar mainGrid = gantt.$ui.getView(\"grid\");\n\n\t\t\t\t\tif(!mainGrid)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar showGrid = gantt.config.show_grid;\n\t\t\t\t\tif (first) {\n\t\t\t\t\t\tvar colsWidth = mainGrid._getColsTotalWidth();\n\t\t\t\t\t\tif (colsWidth !== false){\n\t\t\t\t\t\t\tgantt.config.grid_width = colsWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tshowGrid = showGrid && !!gantt.config.grid_width;\n\t\t\t\t\t\tgantt.config.show_grid = showGrid;\n\t\t\t\t\t}\n\t\t\t\t\tmainGrid.$config.hidden = mainGrid.$parent.$config.hidden = !showGrid;\n\n\t\t\t\t\tif (!mainGrid.$config.hidden) {\n\t\t\t\t\t\t/* restrict grid width due to min_width, max_width, min_grid_column_width */\n\t\t\t\t\t\tvar grid_limits = mainGrid._getGridWidthLimits();\n\t\t\t\t\t\tif (grid_limits[0] && gantt.config.grid_width < grid_limits[0])\n\t\t\t\t\t\t\tgantt.config.grid_width = grid_limits[0];\n\t\t\t\t\t\tif (grid_limits[1] && gantt.config.grid_width > grid_limits[1])\n\t\t\t\t\t\t\tgantt.config.grid_width = grid_limits[1];\n\t\t\t\t\t\tif (mainTimeline && gantt.config.show_chart){\n\n\t\t\t\t\t\t\tmainGrid.$config.width = gantt.config.grid_width - 1;\n\t\t\t\t\t\t\tif (!first) {\n\t\t\t\t\t\t\t\tif (mainTimeline && !domHelpers.isChildOf(mainTimeline.$task, layout.$view)) {\n\t\t\t\t\t\t\t\t\t// timeline is being displayed after being not visible, reset grid with from full screen\n\t\t\t\t\t\t\t\t\tif (!mainGrid.$config.original_grid_width) {\n\t\t\t\t\t\t\t\t\t\tvar skinSettings = gantt.skins[gantt.skin];\n\t\t\t\t\t\t\t\t\t\tif(skinSettings && skinSettings.config && skinSettings.config.grid_width){\n\t\t\t\t\t\t\t\t\t\t\tmainGrid.$config.original_grid_width =  skinSettings.config.grid_width;\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tmainGrid.$config.original_grid_width = 0;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tgantt.config.grid_width = mainGrid.$config.original_grid_width;\n\t\t\t\t\t\t\t\t\tmainGrid.$parent.$config.width = gantt.config.grid_width;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmainGrid.$parent._setContentSize(mainGrid.$config.width, mainGrid.$config.height);\n\t\t\t\t\t\t\t\t\tgantt.$layout._syncCellSizes(mainGrid.$parent.$config.group, gantt.config.grid_width);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmainGrid.$parent.$config.width = gantt.config.grid_width;\n\t\t\t\t\t\t\t\tif (mainGrid.$parent.$config.group) {\n\t\t\t\t\t\t\t\t\tgantt.$layout._syncCellSizes(mainGrid.$parent.$config.group, mainGrid.$parent.$config.width);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (mainTimeline && domHelpers.isChildOf(mainTimeline.$task, layout.$view)) {\n\t\t\t\t\t\t\t\t// hiding timeline, remember grid with to restore it when timeline is displayed again\n\t\t\t\t\t\t\t\tmainGrid.$config.original_grid_width = gantt.config.grid_width;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!first) {\n\t\t\t\t\t\t\t\tmainGrid.$parent.$config.width = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfirst = false;\n\t\t\t\t});\n\t\t\t\tthis._initScrollStateEvents(layout);\n\t\t\t},\n\n\t\t\t_initScrollStateEvents: function(layout) {\n\t\t\t\tgantt._getVerticalScrollbar = this.getVerticalScrollbar;\n\t\t\t\tgantt._getHorizontalScrollbar = this.getHorizontalScrollbar;\n\n\t\t\t\tvar vertical = this.getVerticalScrollbar();\n\t\t\t\tvar horizontal = this.getHorizontalScrollbar();\n\t\t\t\tif (vertical) {\n\t\t\t\t\tvertical.attachEvent(\"onScroll\", function(oldPos, newPos, dir){\n\t\t\t\t\t\tvar scrollState = gantt.getScrollState();\n\t\t\t\t\t\tgantt.callEvent(\"onGanttScroll\", [scrollState.x, oldPos, scrollState.x, newPos]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (horizontal) {\n\t\t\t\t\thorizontal.attachEvent(\"onScroll\", function(oldPos, newPos, dir){\n\t\t\t\t\t\tvar scrollState = gantt.getScrollState();\n\t\t\t\t\t\tgantt.callEvent(\"onGanttScroll\", [oldPos, scrollState.y, newPos, scrollState.y]);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tlayout.attachEvent(\"onResize\", function(){\n\t\t\t\t\tif (vertical && !gantt.$scroll_ver){\n\t\t\t\t\t\tgantt.$scroll_ver = vertical.$scroll_ver;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (horizontal && !gantt.$scroll_hor){\n\t\t\t\t\t\tgantt.$scroll_hor = horizontal.$scroll_hor;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t_findGridResizer: function(layout, grid){\n\t\t\t\tvar resizers = layout.getCellsByType(\"resizer\");\n\n\t\t\t\tvar gridFirst = true;\n\t\t\t\tvar gridResizer;\n\t\t\t\tfor(var i = 0; i < resizers.length; i++){\n\t\t\t\t\tvar res = resizers[i];\n\t\t\t\t\tres._getSiblings();\n\t\t\t\t\tvar prev = res._behind;\n\t\t\t\t\tvar next = res._front;\n\t\t\t\t\tif(prev && prev.$content === grid || (prev.isChild && prev.isChild(grid))){\n\t\t\t\t\t\tgridResizer = res;\n\t\t\t\t\t\tgridFirst = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}else if(next && next.$content === grid || (next.isChild && next.isChild(grid))){\n\t\t\t\t\t\tgridResizer = res;\n\t\t\t\t\t\tgridFirst = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tresizer: gridResizer,\n\t\t\t\t\tgridFirst: gridFirst\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tonInitialized: function (layout) {\n\t\t\t\tvar grid = gantt.$ui.getView(\"grid\");\n\n\t\t\t\tvar resizeInfo = this._findGridResizer(layout, grid);\n\n\t\t\t\t// expose grid resize events\n\t\t\t\tif(resizeInfo.resizer){\n\t\t\t\t\tvar gridFirst = resizeInfo.gridFirst,\n\t\t\t\t\t\tnext = resizeInfo.resizer;\n\t\t\t\t\tvar initialWidth;\n\t\t\t\t\tnext.attachEvent(\"onResizeStart\", function(prevCellWidth, nextCellWidth){\n\n\t\t\t\t\t\tvar grid = gantt.$ui.getView(\"grid\");\n\t\t\t\t\t\tvar viewCell = grid ? grid.$parent : null;\n\t\t\t\t\t\tif(viewCell){\n\t\t\t\t\t\t\tvar limits = grid._getGridWidthLimits();\n\n\t\t\t\t\t\t\t// min grid width is defined by min widths of its columns, unless grid has horizontal scroll\n\t\t\t\t\t\t\tif(!grid.$config.scrollable)\n\t\t\t\t\t\t\t\tviewCell.$config.minWidth = limits[0];\n\n\t\t\t\t\t\t\tviewCell.$config.maxWidth = limits[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinitialWidth = gridFirst ? prevCellWidth : nextCellWidth;\n\t\t\t\t\t\treturn gantt.callEvent(\"onGridResizeStart\", [initialWidth]);\n\t\t\t\t\t});\n\t\t\t\t\tnext.attachEvent(\"onResize\", function(newBehindSize, newFrontSize){\n\t\t\t\t\t\tvar newSize = gridFirst ? newBehindSize : newFrontSize;\n\t\t\t\t\t\treturn gantt.callEvent(\"onGridResize\", [initialWidth, newSize]);\n\t\t\t\t\t});\n\t\t\t\t\tnext.attachEvent(\"onResizeEnd\", function(oldBackSize, oldFrontSize, newBackSize, newFrontSize){\n\n\t\t\t\t\t\tvar oldSize = gridFirst ? oldBackSize : oldFrontSize;\n\t\t\t\t\t\tvar newSize = gridFirst ? newBackSize : newFrontSize;\n\t\t\t\t\t\tvar grid = gantt.$ui.getView(\"grid\");\n\t\t\t\t\t\tvar viewCell = grid ? grid.$parent : null;\n\t\t\t\t\t\tif(viewCell){\n\t\t\t\t\t\t\tviewCell.$config.minWidth = undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar res = gantt.callEvent(\"onGridResizeEnd\", [oldSize, newSize]);\n\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\tgantt.config.grid_width = newSize;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tonDestroyed: function (timeline) {\n\n\t\t\t}\n\t\t};\n\n\t};\n})();\n\nmodule.exports = initializer;","var domHelpers = require(\"../../../utils/dom_helpers\");\n\nvar initLinksDND = function(timeline, gantt) {\n\tvar _link_landing,\n\t\t_link_target_task,\n\t\t_link_target_task_start,\n\t\t_link_source_task,\n\t\t_link_source_task_start;\n\n\n\tfunction getVisibleMilestoneWidth() {\n\t\tvar origWidth = timeline.getItemHeight();//m-s have square shape\n\t\treturn Math.round(Math.sqrt(2 * origWidth * origWidth)) - 2;\n\t}\n\n\tfunction isMilestone(task) {\n\t\treturn gantt.getTaskType(task.type) == gantt.config.types.milestone;\n\t}\n\n\tfunction getDndState(){\n\t\treturn {\n\t\t\tlink_source_id : _link_source_task,\n\t\t\tlink_target_id : _link_target_task,\n\t\t\tlink_from_start : _link_source_task_start,\n\t\t\tlink_to_start : _link_target_task_start,\n\t\t\tlink_landing_area : _link_landing\n\t\t};\n\t}\n\n\tvar services = gantt.$services;\n\n\tvar state = services.getService(\"state\");\n\tvar DnD = services.getService(\"dnd\");\n\n\tstate.registerProvider(\"linksDnD\", getDndState);\n\n\tvar dnd = new DnD(timeline.$task_bars, { sensitivity : 0, updates_per_second : 60 }),\n\t\tstart_marker = \"task_start_date\",\n\t\tend_marker = \"task_end_date\",\n\t\tlink_edge_marker = \"gantt_link_point\",\n\t\tlink_landing_hover_area = \"gantt_link_control\";\n\n\tdnd.attachEvent(\"onBeforeDragStart\", gantt.bind(function(obj,e) {\n\t\tvar target = (e.target||e.srcElement);\n\t\tresetDndState();\n\t\tif(gantt.getState().drag_id)\n\t\t\treturn false;\n\n\t\tif(domHelpers.locateClassName(target, link_edge_marker)){\n\t\t\tif(domHelpers.locateClassName(target, start_marker))\n\t\t\t\t_link_source_task_start = true;\n\n\t\t\tvar sid = gantt.locate(e);\n\t\t\t_link_source_task = sid;\n\n\t\t\tvar t = gantt.getTask(sid);\n\t\t\tif(gantt.isReadonly(t)){\n\t\t\t\tresetDndState();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar shift = 0;\n\n\t\t\tthis._dir_start = getLinePos(t, !!_link_source_task_start, shift, timeline.$getConfig(), true);\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\n\t}, this));\n\n\tdnd.attachEvent(\"onAfterDragStart\", gantt.bind(function(obj,e) {\n\t\tif(gantt.config.touch) {\n\t\t\tgantt.refreshData();\n\t\t}\n\t\tupdateMarkedHtml(dnd.config.marker);\n\t}, this));\n\n\tfunction getLinePos(task, to_start, shift, cfg, isStart){\n\t\tvar taskPos = getMilestonePosition(task, function(task){ return gantt.getTaskPosition(task);}, cfg);\n\n\t\tvar pos = {x: taskPos.x, y: taskPos.y};\n\t\tif(!to_start){\n\t\t\tpos.x = taskPos.xEnd;\n\t\t}\n\n\t\t//var pos = gantt._get_task_pos(task, !!to_start);\n\t\tpos.y += gantt.config.row_height/2;\n\n\t\tvar offset = isMilestone(task) && isStart ? 2 : 0;\n\n\t\tshift = shift || 0;\n\t\tif(cfg.rtl)\n\t\t\tshift = shift * -1;\n\n\t\tpos.x += (to_start ? -1 : 1)*shift  - offset;\n\t\treturn pos;\n\t}\n\n\tfunction getMilestonePosition(task, getTaskPosition, cfg){\n\t\tvar pos = getTaskPosition(task);\n\n\t\tvar res = {\n\t\t\tx: pos.left,\n\t\t\ty: pos.top,\n\t\t\twidth: pos.width,\n\t\t\theight: pos.height\n\t\t};\n\n\t\tif(cfg.rtl){\n\t\t\tres.xEnd = res.x;\n\t\t\tres.x = res.xEnd + res.width;\n\t\t}else{\n\t\t\tres.xEnd = res.x + res.width;\n\t\t}\n\t\tres.yEnd = res.y + res.height;\n\n\t\tif(gantt.getTaskType(task.type) == gantt.config.types.milestone){\n\t\t\tvar milestoneWidth = getVisibleMilestoneWidth();\n\n\t\t\tres.x += (!cfg.rtl ? -1 : 1)*(milestoneWidth / 2);\n\t\t\tres.xEnd += (!cfg.rtl ? 1 : -1)*(milestoneWidth / 2);\n\n\t\t\t//pos.x -= milestoneWidth / 2;\n\t\t\t//pos.xEnd += milestoneWidth / 2;\n\t\t\tres.width = pos.xEnd - pos.x;\n\t\t}\n\n\n\t\treturn res;\n\t}\n\n\tdnd.attachEvent(\"onDragMove\", gantt.bind(function(obj,e) {\n\t\tvar dd = dnd.config;\n\t\tvar pos = dnd.getPosition(e);\n\t\tadvanceMarker(dd.marker, pos);\n\t\tvar landing = !!domHelpers.locateClassName(e, link_landing_hover_area);\n\n\t\tvar prevTarget = _link_target_task;\n\t\tvar prevLanding = _link_landing;\n\t\tvar prevToStart = _link_target_task_start;\n\n\t\tvar targ = gantt.locate(e),\n\t\t\tto_start = true;\n\t\t\n\t\t// can drag and drop link to another gantt on the page, such links are not supported\n\t\tvar sameGantt = domHelpers.isChildOf(e.target || e.srcElement, gantt.$root);\n\t\tif(!sameGantt){\n\t\t\tlanding = false;\n\t\t\ttarg = null;\n\t\t}\n\n\t\tif(landing){\n\t\t\t//refreshTask\n\t\t\tto_start = !domHelpers.locateClassName(e, end_marker);\n\t\t\tlanding = !!targ;\n\t\t}\n\n\t\t_link_target_task = targ;\n\t\t_link_landing = landing;\n\t\t_link_target_task_start = to_start;\n\n\t\tif(landing){\n\t\t\tvar t = gantt.getTask(targ);\n\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar node = domHelpers.locateClassName(e, link_landing_hover_area);\n\t\t\tvar shift = 0;\n\t\t\tif(node){\n\t\t\t\tshift = Math.floor(node.offsetWidth  / 2);\n\t\t\t}\n\n\t\t\tthis._dir_end = getLinePos(t, !!_link_target_task_start,shift, config);\n\t\t}else{\n\t\t\tthis._dir_end = domHelpers.getRelativeEventPosition(e, timeline.$task_data);\n\t\t}\n\n\t\tvar targetChanged = !(prevLanding == landing && prevTarget == targ && prevToStart == to_start);\n\t\tif(targetChanged){\n\t\t\tif(prevTarget)\n\t\t\t\tgantt.refreshTask(prevTarget, false);\n\t\t\tif(targ)\n\t\t\t\tgantt.refreshTask(targ, false);\n\t\t}\n\n\t\tif(targetChanged){\n\t\t\tupdateMarkedHtml(dd.marker);\n\t\t}\n\n\t\tshowDirectingLine(this._dir_start.x, this._dir_start.y, this._dir_end.x, this._dir_end.y);\n\n\t\treturn true;\n\t}, this));\n\n\n\tdnd.attachEvent(\"onDragEnd\", gantt.bind(function() {\n\t\tvar drag = getDndState();\n\n\t\tif(drag.link_source_id && drag.link_target_id && drag.link_source_id != drag.link_target_id){\n\t\t\tvar type = gantt._get_link_type(drag.link_from_start, drag.link_to_start);\n\n\t\t\tvar link = {source : drag.link_source_id, target: drag.link_target_id, type:type};\n\t\t\tif(link.type && gantt.isLinkAllowed(link))\n\t\t\t\tgantt.addLink(link);\n\t\t}\n\n\t\tresetDndState();\n\n\t\tif(gantt.config.touch) {\n\t\t\tgantt.refreshData();\n\t\t}\n\t\telse {\n\t\t\tif (drag.link_source_id)\n\t\t\t\tgantt.refreshTask(drag.link_source_id, false);\n\t\t\tif (drag.link_target_id)\n\t\t\t\tgantt.refreshTask(drag.link_target_id, false);\n\t\t}\n\t\tremoveDirectionLine();\n\t}, this));\n\n\tfunction updateMarkedHtml(marker){\n\t\tvar link = getDndState();\n\n\t\tvar css = [\"gantt_link_tooltip\"];\n\t\tif(link.link_source_id && link.link_target_id){\n\t\t\tif(gantt.isLinkAllowed(link.link_source_id, link.link_target_id, link.link_from_start, link.link_to_start)){\n\t\t\t\tcss.push(\"gantt_allowed_link\");\n\t\t\t}else{\n\t\t\t\tcss.push(\"gantt_invalid_link\");\n\t\t\t}\n\t\t}\n\n\t\tvar className = gantt.templates.drag_link_class(link.link_source_id, link.link_from_start, link.link_target_id, link.link_to_start);\n\t\tif(className)\n\t\t\tcss.push(className);\n\n\t\tvar html = \"<div class='\"+className+ \"'>\" +\n\t\t\tgantt.templates.drag_link(link.link_source_id, link.link_from_start, link.link_target_id, link.link_to_start) +\n\t\t\t\"</div>\";\n\t\tmarker.innerHTML = html;\n\t}\n\n\tfunction advanceMarker(marker, pos){\n\t\tmarker.style.left = pos.x + 5 + \"px\";\n\t\tmarker.style.top = pos.y + 5 + \"px\";\n\t}\n\n\tfunction resetDndState(){\n\t\t_link_source_task =\n\t\t\t_link_source_task_start =\n\t\t\t\t_link_target_task = null;\n\t\t_link_target_task_start = true;\n\t}\n\tfunction showDirectingLine(s_x, s_y, e_x, e_y){\n\t\tvar div = getDirectionLine();\n\n\t\tvar link = getDndState();\n\n\t\tvar css = [\"gantt_link_direction\"];\n\t\tif(gantt.templates.link_direction_class){\n\t\t\tcss.push(gantt.templates.link_direction_class(link.link_source_id, link.link_from_start, link.link_target_id, link.link_to_start));\n\t\t}\n\n\t\tvar dist =Math.sqrt( (Math.pow(e_x - s_x, 2)) + (Math.pow(e_y - s_y, 2)) );\n\t\tdist = Math.max(0, dist - 3);\n\t\tif(!dist)\n\t\t\treturn;\n\n\t\tdiv.className = css.join(\" \");\n\t\tvar tan = (e_y - s_y)/(e_x - s_x),\n\t\t\tangle = Math.atan(tan);\n\n\t\tif(coordinateCircleQuarter(s_x, e_x, s_y, e_y) == 2){\n\t\t\tangle += Math.PI;\n\t\t}else if(coordinateCircleQuarter(s_x, e_x, s_y, e_y) == 3){\n\t\t\tangle -= Math.PI;\n\t\t}\n\n\n\n\t\tvar sin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\ttop = Math.round(s_y),\n\t\t\tleft = Math.round(s_x);\n\n\n\t\tvar style = [\n\t\t\t\"-webkit-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"-moz-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"-ms-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"-o-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"width:\" + Math.round(dist) + \"px\"\n\t\t];\n\n\t\tif(window.navigator.userAgent.indexOf(\"MSIE 8.0\") != -1){\n\t\t\t//ms-filter breaks styles in ie9, so add it only for 8th\n\t\t\tstyle.push(\"-ms-filter: \\\"\" + ieTransform(sin, cos) + \"\\\"\");\n\n\t\t\tvar shiftLeft = Math.abs(Math.round(s_x - e_x)),\n\t\t\t\tshiftTop = Math.abs(Math.round(e_y - s_y));\n\t\t\t//fix rotation axis\n\t\t\tswitch(coordinateCircleQuarter(s_x, e_x, s_y, e_y)){\n\t\t\t\tcase 1:\n\t\t\t\t\ttop -= shiftTop;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tleft -= shiftLeft;\n\t\t\t\t\ttop -= shiftTop;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tleft -= shiftLeft;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\n\t\tstyle.push(\"top:\" +  top + \"px\");\n\t\tstyle.push(\"left:\" +  left + \"px\");\n\n\t\tdiv.style.cssText = style.join(\";\");\n\t}\n\n\tfunction ieTransform(sin, cos){\n\t\treturn \"progid:DXImageTransform.Microsoft.Matrix(\"+\n\t\t\t\"M11 = \"+cos+\",\"+\n\t\t\t\"M12 = -\"+sin+\",\"+\n\t\t\t\"M21 = \"+sin+\",\"+\n\t\t\t\"M22 = \"+cos+\",\"+\n\t\t\t\"SizingMethod = 'auto expand'\"+\n\t\t\")\";\n\t}\n\tfunction coordinateCircleQuarter(sX, eX, sY, eY){\n\t\tif(eX >= sX){\n\t\t\tif(eY <= sY){\n\t\t\t\treturn 1;\n\t\t\t}else{\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t}else{\n\t\t\tif(eY <= sY){\n\t\t\t\treturn 2;\n\t\t\t}else{\n\t\t\t\treturn 3;\n\t\t\t}\n\t\t}\n\n\t}\n\tfunction getDirectionLine(){\n\t\tif(!dnd._direction){\n\t\t\tdnd._direction = document.createElement(\"div\");\n\t\t\ttimeline.$task_links.appendChild(dnd._direction);\n\t\t}\n\t\treturn dnd._direction;\n\t}\n\tfunction removeDirectionLine(){\n\t\tif(dnd._direction){\n\t\t\tif (dnd._direction.parentNode)\t//the event line can be detached because of data refresh\n\t\t\t\tdnd._direction.parentNode.removeChild(dnd._direction);\n\n\t\t\tdnd._direction = null;\n\t\t}\n\t}\n};\n\nmodule.exports = {\n\tcreateLinkDND: function(){\n\t\treturn {\n\t\t\tinit: initLinksDND\n\t\t};\n\t}\n};","var domHelpers = require(\"../../../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\");\nvar timeout = require(\"../../../utils/timeout\");\n\nfunction createTaskDND(timeline, gantt){\n\tvar services = gantt.$services;\n\treturn {\n\t\tdrag: null,\n\t\tdragMultiple: {},\n\t\t_events: {\n\t\t\tbefore_start: {},\n\t\t\tbefore_finish: {},\n\t\t\tafter_finish: {}\n\t\t},\n\t\t_handlers: {},\n\t\tinit: function () {\n\t\t\tthis._domEvents = gantt._createDomEventScope();\n\t\t\tthis.clear_drag_state();\n\t\t\tvar drag = gantt.config.drag_mode;\n\t\t\tthis.set_actions();\n\n\t\t\tvar stateService = services.getService(\"state\");\n\t\t\tstateService.registerProvider(\"tasksDnd\", utils.bind(function(){\n\t\t\t\treturn {\n\t\t\t\t\tdrag_id : this.drag ? this.drag.id : undefined,\n\t\t\t\t\tdrag_mode : this.drag ? this.drag.mode : undefined,\n\t\t\t\t\tdrag_from_start : this.drag ? this.drag.left : undefined\n\t\t\t\t};\n\t\t\t}, this));\n\n\t\t\tvar evs = {\n\t\t\t\t\"before_start\": \"onBeforeTaskDrag\",\n\t\t\t\t\"before_finish\": \"onBeforeTaskChanged\",\n\t\t\t\t\"after_finish\": \"onAfterTaskDrag\"\n\t\t\t};\n\t\t\t//for now, all drag operations will trigger the same events\n\t\t\tfor (var stage in this._events) {\n\t\t\t\tfor (var mode in drag) {\n\t\t\t\t\tthis._events[stage][mode] = evs[stage];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._handlers[drag.move] = this._move;\n\t\t\tthis._handlers[drag.resize] = this._resize;\n\t\t\tthis._handlers[drag.progress] = this._resize_progress;\n\t\t},\n\t\tset_actions: function () {\n\t\t\tvar data = timeline.$task_data;\n\t\t\tthis._domEvents.attach(data, \"mousemove\", gantt.bind(function (e) {\n\t\t\t\tthis.on_mouse_move(e || event);\n\t\t\t}, this));\n\t\t\tthis._domEvents.attach(data, \"mousedown\", gantt.bind(function (e) {\n\t\t\t\tthis.on_mouse_down(e || event);\n\t\t\t}, this));\n\t\t\tthis._domEvents.attach(data, \"mouseup\", gantt.bind(function (e) {\n\t\t\t\tthis.on_mouse_up(e || event);\n\t\t\t}, this));\n\t\t},\n\n\t\tclear_drag_state: function () {\n\t\t\tthis.drag = {\n\t\t\t\tid: null,\n\t\t\t\tmode: null,\n\t\t\t\tpos: null,\n\t\t\t\tstart_x: null,\n\t\t\t\tstart_y: null,\n\t\t\t\tobj: null,\n\t\t\t\tleft: null\n\t\t\t};\n\t\t\tthis.dragMultiple = {};\n\t\t},\n\t\t_resize: function (ev, shift, drag) {\n\t\t\tvar cfg = timeline.$getConfig();\n\t\t\tvar coords_x = this._drag_task_coords(ev, drag);\n\t\t\tif (drag.left) {\n\t\t\t\tev.start_date = gantt.dateFromPos(coords_x.start + shift);\n\t\t\t\tif (!ev.start_date) {\n\t\t\t\t\tev.start_date = new Date(gantt.getState().min_date);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tev.end_date = gantt.dateFromPos(coords_x.end + shift);\n\t\t\t\tif (!ev.end_date) {\n\t\t\t\t\tev.end_date = new Date(gantt.getState().max_date);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ev.end_date - ev.start_date < cfg.min_duration) {\n\t\t\t\tif (drag.left)\n\t\t\t\t\tev.start_date = gantt.calculateEndDate({start_date: ev.end_date, duration: -1, task: ev});\n\t\t\t\telse\n\t\t\t\t\tev.end_date = gantt.calculateEndDate({start_date: ev.start_date, duration: 1, task: ev});\n\t\t\t}\n\t\t\tgantt._init_task_timing(ev);\n\t\t},\n\t\t_resize_progress: function (ev, shift, drag) {\n\t\t\tvar coords_x = this._drag_task_coords(ev, drag);\n\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar diffValue = !config.rtl ? (drag.pos.x - coords_x.start) : (coords_x.start - drag.pos.x);\n\n\t\t\tvar diff = Math.max(0, diffValue);\n\t\t\tev.progress = Math.min(1, diff / Math.abs(coords_x.end - coords_x.start));\n\t\t},\n\n\t\t_find_max_shift: function(dragItems, shift){\n\t\t\tvar correctShift;\n\t\t\tfor(var i in dragItems){\n\t\t\t\tvar drag = dragItems[i];\n\t\t\t\tvar ev = gantt.getTask(drag.id);\n\n\t\t\t\tvar coords_x = this._drag_task_coords(ev, drag);\n\t\t\t\tvar minX = gantt.posFromDate( new Date(gantt.getState().min_date)),\n\t\t\t\t\tmaxX = gantt.posFromDate( new Date(gantt.getState().max_date));\n\n\t\t\t\tif(coords_x.end + shift > maxX){\n\t\t\t\t\tvar maxShift = maxX - coords_x.end;\n\t\t\t\t\tif(maxShift < correctShift || correctShift === undefined){\n\t\t\t\t\t\tcorrectShift = maxShift;\n\t\t\t\t\t}\n\t\t\t\t}else if(coords_x.start + shift < minX){\n\t\t\t\t\tvar minShift = minX - coords_x.start;\n\t\t\t\t\tif(minShift < correctShift || correctShift === undefined){\n\t\t\t\t\t\tcorrectShift = minShift;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn correctShift;\n\t\t},\n\t\t_move: function (ev, shift, drag) {\n\t\t\tvar coords_x = this._drag_task_coords(ev, drag);\n\t\t\tvar new_start = gantt.dateFromPos(coords_x.start + shift),\n\t\t\t\tnew_end = gantt.dateFromPos(coords_x.end + shift);\n\t\t\tif (!new_start) {\n\t\t\t\tev.start_date = new Date(gantt.getState().min_date);\n\t\t\t\tev.end_date = gantt.dateFromPos(gantt.posFromDate(ev.start_date) + (coords_x.end - coords_x.start));\n\t\t\t} else if (!new_end) {\n\t\t\t\tev.end_date = new Date(gantt.getState().max_date);\n\t\t\t\tev.start_date = gantt.dateFromPos(gantt.posFromDate(ev.end_date) - (coords_x.end - coords_x.start));\n\t\t\t} else {\n\t\t\t\tev.start_date = new_start;\n\t\t\t\tev.end_date = new_end;\n\t\t\t}\n\t\t},\n\t\t_drag_task_coords: function (t, drag) {\n\t\t\tvar start = drag.obj_s_x = drag.obj_s_x || gantt.posFromDate(t.start_date);\n\t\t\tvar end = drag.obj_e_x = drag.obj_e_x || gantt.posFromDate(t.end_date);\n\t\t\treturn {\n\t\t\t\tstart: start,\n\t\t\t\tend: end\n\t\t\t};\n\t\t},\n\t\t_mouse_position_change: function (oldPos, newPos) {\n\t\t\tvar dx = oldPos.x - newPos.x,\n\t\t\t\tdy = oldPos.y - newPos.y;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t},\n\t\t_is_number: function (n) {\n\t\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t\t},\n\n\t\ton_mouse_move: function (e) {\n\t\t\tif (this.drag.start_drag) {\n\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, gantt.$task_data);\n\n\t\t\t\tvar sX = this.drag.start_drag.start_x,\n\t\t\t\t\tsY = this.drag.start_drag.start_y;\n\n\t\t\t\tif ((Date.now() - this.drag.timestamp > 50) ||\n\t\t\t\t\t(this._is_number(sX) && this._is_number(sY) && this._mouse_position_change({\n\t\t\t\t\t\tx: sX,\n\t\t\t\t\t\ty: sY\n\t\t\t\t\t}, pos) > 20)) {\n\t\t\t\t\tthis._start_dnd(e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar drag = this.drag;\n\n\t\t\tif (drag.mode) {\n\t\t\t\tif (!timeout(this, 40))//limit update frequency\n\t\t\t\t\treturn;\n\n\t\t\t\tthis._update_on_move(e);\n\n\t\t\t}\n\t\t},\n\n\t\t_update_item_on_move: function(shift, id, mode, drag, e){\n\t\t\tvar ev = gantt.getTask(id);\n\t\t\tvar original = gantt.mixin({}, ev);\n\t\t\tvar copy = gantt.mixin({}, ev);\n\t\t\tthis._handlers[mode].apply(this, [copy, shift, drag]);\n\t\t\tgantt.mixin(ev, copy, true);\n\t\t\t//gantt._update_parents(drag.id, true);\n\t\t\tgantt.callEvent(\"onTaskDrag\", [ev.id, mode, copy, original, e]);\n\t\t\tgantt.mixin(ev, copy, true);\n\t\t\tgantt.refreshTask(id);\n\t\t},\n\n\t\t_update_on_move: function (e) {\n\t\t\tvar drag = this.drag;\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tif (drag.mode) {\n\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, timeline.$task_data);\n\t\t\t\tif (drag.pos && drag.pos.x == pos.x)\n\t\t\t\t\treturn;\n\n\t\t\t\tdrag.pos = pos;\n\n\t\t\t\tvar curr_date = gantt.dateFromPos(pos.x);\n\t\t\t\tif (!curr_date || isNaN(curr_date.getTime()))\n\t\t\t\t\treturn;\n\n\n\t\t\t\tvar shift = pos.x - drag.start_x;\n\t\t\t\tvar ev = gantt.getTask(drag.id);\n\n\t\t\t\tif (this._handlers[drag.mode]) {\n\n\t\t\t\t\tif(gantt.isSummaryTask(ev) && gantt.config.drag_project && drag.mode == config.drag_mode.move){\n\n\t\t\t\t\t\tvar initialDrag = {};\n\t\t\t\t\t\tinitialDrag[drag.id] = utils.copy(drag);\n\t\t\t\t\t\tvar maxShift = this._find_max_shift(utils.mixin(initialDrag, this.dragMultiple), shift);\n\t\t\t\t\t\tif(maxShift !== undefined){\n\t\t\t\t\t\t\tshift = maxShift;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._update_item_on_move(shift, drag.id, drag.mode, drag, e);\n\t\t\t\t\t\tfor(var i in this.dragMultiple){\n\t\t\t\t\t\t\tvar childDrag =  this.dragMultiple[i];\n\t\t\t\t\t\t\tthis._update_item_on_move(shift, childDrag.id, childDrag.mode, childDrag, e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis._update_item_on_move(shift, drag.id, drag.mode, drag, e);\n\t\t\t\t\t}\n\t\t\t\t\tgantt._update_parents(drag.id);\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\ton_mouse_down: function (e, src) {\n\t\t\t// on Mac we do not get onmouseup event when clicking right mouse button leaving us in dnd state\n\t\t\t// let's ignore right mouse button then\n\t\t\tif (e.button == 2 && e.button !== undefined)\n\t\t\t\treturn;\n\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar id = gantt.locate(e);\n\t\t\tvar task = null;\n\t\t\tif (gantt.isTaskExists(id)) {\n\t\t\t\ttask = gantt.getTask(id);\n\t\t\t}\n\n\t\t\tif (gantt.isReadonly(task) || this.drag.mode) return;\n\n\t\t\tthis.clear_drag_state();\n\n\t\t\tsrc = src || (e.target || e.srcElement);\n\n\t\t\tvar className = domHelpers.getClassName(src);\n\t\t\tvar drag = this._get_drag_mode(className, src);\n\n\t\t\tif (!className || !drag) {\n\t\t\t\tif (src.parentNode)\n\t\t\t\t\treturn this.on_mouse_down(e, src.parentNode);\n\t\t\t\telse\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!drag) {\n\t\t\t\tif (gantt.checkEvent(\"onMouseDown\") && gantt.callEvent(\"onMouseDown\", [className.split(\" \")[0]])) {\n\t\t\t\t\tif (src.parentNode)\n\t\t\t\t\t\treturn this.on_mouse_down(e, src.parentNode);\n\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (drag.mode && drag.mode != config.drag_mode.ignore && config[\"drag_\" + drag.mode]) {\n\t\t\t\t\tid = gantt.locate(src);\n\t\t\t\t\ttask = gantt.copy(gantt.getTask(id) || {});\n\n\t\t\t\t\tif (gantt.isReadonly(task)) {\n\t\t\t\t\t\tthis.clear_drag_state();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ((gantt.isSummaryTask(task) && !config.drag_project) && drag.mode != config.drag_mode.progress) {//only progress drag is allowed for tasks with flexible duration\n\t\t\t\t\t\tthis.clear_drag_state();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tdrag.id = id;\n\t\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, gantt.$task_data);\n\n\t\t\t\t\tdrag.start_x = pos.x;\n\t\t\t\t\tdrag.start_y = pos.y;\n\t\t\t\t\tdrag.obj = task;\n\t\t\t\t\tthis.drag.start_drag = drag;\n\t\t\t\t\tthis.drag.timestamp = Date.now();\n\n\t\t\t\t} else\n\t\t\t\t\tthis.clear_drag_state();\n\t\t\t}\n\t\t},\n\t\t_fix_dnd_scale_time: function (task, drag) {\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar unit = gantt.getScale().unit,\n\t\t\t\tstep = gantt.getScale().step;\n\t\t\tif (!config.round_dnd_dates) {\n\t\t\t\tunit = 'minute';\n\t\t\t\tstep = config.time_step;\n\t\t\t}\n\n\t\t\tfunction fixStart(task) {\n\t\t\t\tif (!gantt.config.correct_work_time)\n\t\t\t\t\treturn;\n\t\t\t\tvar config = timeline.$getConfig();\n\t\t\t\tif (!gantt.isWorkTime(task.start_date, undefined, task))\n\t\t\t\t\ttask.start_date = gantt.calculateEndDate({\n\t\t\t\t\t\tstart_date: task.start_date,\n\t\t\t\t\t\tduration: -1,\n\t\t\t\t\t\tunit: config.duration_unit,\n\t\t\t\t\t\ttask: task\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction fixEnd(task) {\n\t\t\t\tif (!gantt.config.correct_work_time)\n\t\t\t\t\treturn;\n\t\t\t\tvar config = timeline.$getConfig();\n\t\t\t\tif (!gantt.isWorkTime(new Date(task.end_date - 1), undefined, task))\n\t\t\t\t\ttask.end_date = gantt.calculateEndDate({\n\t\t\t\t\t\tstart_date: task.end_date,\n\t\t\t\t\t\tduration: 1,\n\t\t\t\t\t\tunit: config.duration_unit,\n\t\t\t\t\t\ttask: task\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (drag.mode == config.drag_mode.resize) {\n\t\t\t\tif (drag.left) {\n\t\t\t\t\ttask.start_date = gantt.roundDate({date: task.start_date, unit: unit, step: step});\n\t\t\t\t\tfixStart(task);\n\t\t\t\t} else {\n\t\t\t\t\ttask.end_date = gantt.roundDate({date: task.end_date, unit: unit, step: step});\n\t\t\t\t\tfixEnd(task);\n\t\t\t\t}\n\t\t\t} else if (drag.mode == config.drag_mode.move) {\n\t\t\t\ttask.start_date = gantt.roundDate({date: task.start_date, unit: unit, step: step});\n\t\t\t\tfixStart(task);\n\t\t\t\ttask.end_date = gantt.calculateEndDate(task);\n\t\t\t}\n\t\t},\n\t\t_fix_working_times: function (task, drag) {\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar drag = drag || {mode: config.drag_mode.move};\n\n\t\t\tif (drag.mode == config.drag_mode.resize) {\n\t\t\t\tif (drag.left) {\n\t\t\t\t\ttask.start_date = gantt.getClosestWorkTime({date: task.start_date, dir: 'future', task: task});\n\t\t\t\t} else {\n\t\t\t\t\ttask.end_date = gantt.getClosestWorkTime({date: task.end_date, dir: 'past', task: task});\n\t\t\t\t}\n\t\t\t} else if (drag.mode == config.drag_mode.move) {\n\t\t\t\tgantt.correctTaskWorkTime(task);\n\t\t\t}\n\t\t},\n\n\t\t_finalize_mouse_up: function(taskId, config, drag, e){\n\t\t\tvar ev = gantt.getTask(taskId);\n\n\t\t\tif (config.work_time && config.correct_work_time) {\n\t\t\t\tthis._fix_working_times(ev, drag);\n\t\t\t}\n\n\t\t\tthis._fix_dnd_scale_time(ev, drag);\n\n\t\t\tif (!this._fireEvent(\"before_finish\", drag.mode, [taskId, drag.mode, gantt.copy(drag.obj), e])) {\n\t\t\t\t//drag.obj._dhx_changed = false;\n\t\t\t\tthis.clear_drag_state();\n\t\t\t\tif(taskId == drag.id){\n\t\t\t\t\tdrag.obj._dhx_changed = false;\n\t\t\t\t\tgantt.mixin(ev, drag.obj, true);\n\t\t\t\t}\n\n\n\t\t\t\tgantt.refreshTask(ev.id);\n\t\t\t} else {\n\t\t\t\tvar drag_id = taskId;\n\n\t\t\t\tgantt._init_task_timing(ev);\n\n\t\t\t\tthis.clear_drag_state();\n\t\t\t\tgantt.updateTask(ev.id);\n\t\t\t\tthis._fireEvent(\"after_finish\", drag.mode, [drag_id, drag.mode, e]);\n\t\t\t}\n\n\t\t},\n\n\t\ton_mouse_up: function (e) {\n\n\t\t\tvar drag = this.drag;\n\t\t\tif (drag.mode && drag.id) {\n\t\t\t\tvar config = timeline.$getConfig();\n\t\t\t\t//drop\n\t\t\t\tvar ev = gantt.getTask(drag.id);\n\t\t\t\tvar dragMultiple = this.dragMultiple;\n\n\t\t\t\tif(gantt.isSummaryTask(ev) && config.drag_project && drag.mode == config.drag_mode.move){\n\t\t\t\t\tfor(var i in dragMultiple){\n\t\t\t\t\t\tthis._finalize_mouse_up(dragMultiple[i].id, config, dragMultiple[i], e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._finalize_mouse_up(drag.id, config, drag, e);\n\t\t\t}\n\t\t\tthis.clear_drag_state();\n\t\t},\n\t\t_get_drag_mode: function (className, el) {\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar modes = config.drag_mode;\n\t\t\tvar classes = (className || \"\").split(\" \");\n\t\t\tvar classname = classes[0];\n\t\t\tvar drag = {mode: null, left: null};\n\t\t\tswitch (classname) {\n\t\t\t\tcase \"gantt_task_line\":\n\t\t\t\tcase \"gantt_task_content\":\n\t\t\t\t\tdrag.mode = modes.move;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"gantt_task_drag\":\n\t\t\t\t\tdrag.mode = modes.resize;\n\n\t\t\t\t\tvar dragProperty = el.getAttribute(\"data-bind-property\");\n\n\t\t\t\t\tif (dragProperty == \"start_date\") {\n\t\t\t\t\t\tdrag.left = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdrag.left = false;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"gantt_task_progress_drag\":\n\t\t\t\t\tdrag.mode = modes.progress;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"gantt_link_control\":\n\t\t\t\tcase \"gantt_link_point\":\n\t\t\t\t\tdrag.mode = modes.ignore;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdrag = null;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn drag;\n\n\t\t},\n\n\t\t_start_dnd: function (e) {\n\t\t\tvar drag = this.drag = this.drag.start_drag;\n\t\t\tdelete drag.start_drag;\n\n\t\t\tvar cfg = timeline.$getConfig();\n\t\t\tvar id = drag.id;\n\t\t\tif (!cfg[\"drag_\" + drag.mode] || !gantt.callEvent(\"onBeforeDrag\", [id, drag.mode, e]) || !this._fireEvent(\"before_start\", drag.mode, [id, drag.mode, e])) {\n\t\t\t\tthis.clear_drag_state();\n\t\t\t} else {\n\t\t\t\tdelete drag.start_drag;\n\n\t\t\t\tvar task = gantt.getTask(id);\n\t\t\t\tif(gantt.isSummaryTask(task) && gantt.config.drag_project && drag.mode == cfg.drag_mode.move){\n\t\t\t\t\tgantt.eachTask(function(child){\n\t\t\t\t\t\tthis.dragMultiple[child.id] = gantt.mixin({\n\t\t\t\t\t\t\tid: child.id,\n\t\t\t\t\t\t\tobj: child\n\t\t\t\t\t\t}, this.drag);\n\t\t\t\t\t}, task.id, this);\n\t\t\t\t}\n\n\t\t\t\tgantt.callEvent(\"onTaskDragStart\", []);\n\t\t\t}\n\n\t\t},\n\t\t_fireEvent: function (stage, mode, params) {\n\t\t\tgantt.assert(this._events[stage], \"Invalid stage:{\" + stage + \"}\");\n\n\t\t\tvar trigger = this._events[stage][mode];\n\n\t\t\tgantt.assert(trigger, \"Unknown after drop mode:{\" + mode + \"}\");\n\t\t\tgantt.assert(params, \"Invalid event arguments\");\n\n\n\t\t\tif (!gantt.checkEvent(trigger))\n\t\t\t\treturn true;\n\n\t\t\treturn gantt.callEvent(trigger, params);\n\t\t},\n\n\t\tround_task_dates: function(task){\n\t\t\tvar drag_state = this.drag;\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tif (!drag_state) {\n\t\t\t\tdrag_state = {mode: config.drag_mode.move};\n\t\t\t}\n\t\t\tthis._fix_dnd_scale_time(task, drag_state);\n\t\t},\n\t\tdestructor: function(){\n\t\t\tthis._domEvents.detachAll();\n\t\t}\n\t};\n}\n\nfunction initTaskDND() {\n\tvar _tasks_dnd;\n\treturn {\n\t\textend: function(timeline){\n\t\t\ttimeline.roundTaskDates = function (task) {\n\t\t\t\t_tasks_dnd.round_task_dates(task);\n\t\t\t};\n\n\t\t},\n\t\tinit: function(timeline, gantt){\n\t\t\t_tasks_dnd = createTaskDND(timeline, gantt);\n\t\t\t// TODO: entry point for touch handlers, move touch to timeline\n\t\t\ttimeline._tasks_dnd = _tasks_dnd;\n\t\t\treturn _tasks_dnd.init(gantt);\n\t\t},\n\t\tdestructor: function () {\n\t\t\tif (_tasks_dnd) {\n\t\t\t\t_tasks_dnd.destructor();\n\t\t\t\t_tasks_dnd = null;\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = {\n\tcreateTaskDND: initTaskDND\n};\n","var utils = require(\"../../../utils/utils\"),\n\ttaskDnD = require(\"./tasks_dnd\"),\n\tlinkDnD = require(\"./links_dnd\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\");\n\nvar initializer = (function(){\n\treturn function(gantt){\n\t\tvar services = gantt.$services;\n\t\treturn {\n\t\t\tonCreated: function (timeline) {\n\t\t\t\tvar config = timeline.$config;\n\t\t\t\tconfig.bind = utils.defined(config.bind) ? config.bind : \"task\";\n\t\t\t\tconfig.bindLinks = utils.defined(config.bindLinks) ? config.bindLinks : \"link\";\n\n\t\t\t\ttimeline._linksDnD = linkDnD.createLinkDND();\n\t\t\t\ttimeline._tasksDnD = taskDnD.createTaskDND();\n\t\t\t\ttimeline._tasksDnD.extend(timeline);\n\n\t\t\t\tthis._mouseDelegates = require(\"../mouse_event_container\")(gantt);\n\t\t\t},\n\t\t\tonInitialized: function (timeline) {\n\t\t\t\tthis._attachDomEvents(gantt);\n\n\t\t\t\tthis._attachStateProvider(gantt, timeline);\n\n\t\t\t\ttimeline._tasksDnD.init(timeline, gantt);\n\t\t\t\ttimeline._linksDnD.init(timeline, gantt);\n\n\t\t\t\tif(timeline.$config.id == \"timeline\"){\n\t\t\t\t\tthis.extendDom(timeline);\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tonDestroyed: function (timeline) {\n\t\t\t\tthis._clearDomEvents(gantt);\n\t\t\t\tthis._clearStateProvider(gantt);\n\t\t\t\tif (timeline._tasksDnD) {\n\t\t\t\t\ttimeline._tasksDnD.destructor();\n\t\t\t\t}\n\t\t\t},\n\t\t\textendDom: function(timeline){\n\t\t\t\tgantt.$task = timeline.$task;\n\t\t\t\tgantt.$task_scale = timeline.$task_scale;\n\t\t\t\tgantt.$task_data = timeline.$task_data;\n\t\t\t\tgantt.$task_bg = timeline.$task_bg;\n\t\t\t\tgantt.$task_links = timeline.$task_links;\n\t\t\t\tgantt.$task_bars = timeline.$task_bars;\n\t\t\t},\n\n\t\t\t_clearDomEvents: function(){\n\t\t\t\tthis._mouseDelegates.destructor();\n\t\t\t\tthis._mouseDelegates = null;\n\t\t\t},\n\n\t\t\t_attachDomEvents: function(gantt){\n\t\t\t\tfunction _delete_link_handler(id, e) {\n\t\t\t\t\tif (id && this.callEvent(\"onLinkDblClick\", [id, e])) {\n\n\t\t\t\t\t\tvar link = this.getLink(id);\n\t\t\t\t\t\tif (this.isReadonly(link)) return;\n\n\t\t\t\t\t\tvar title = \"\";\n\t\t\t\t\t\tvar question = this.locale.labels.link + \" \" + this.templates.link_description(this.getLink(id)) + \" \" + this.locale.labels.confirm_link_deleting;\n\n\t\t\t\t\t\twindow.setTimeout(function () {\n\t\t\t\t\t\t\tgantt._dhtmlx_confirm(question, title, function () {\n\t\t\t\t\t\t\t\tgantt.deleteLink(id);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, (this.config.touch ? 300 : 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_task_link\", gantt.bind(function (e, trg) {\n\t\t\t\t\tvar id = this.locate(e, this.config.link_attribute);\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\tthis.callEvent(\"onLinkClick\", [id, e]);\n\t\t\t\t\t}\n\t\t\t\t}, gantt), this.$task);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_scale_cell\", gantt.bind(function (e, trg) {\n\t\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, gantt.$task_data);\n\t\t\t\t\tvar date = gantt.dateFromPos(pos.x);\n\t\t\t\t\tvar coll = Math.floor(gantt.columnIndexByDate(date));\n\n\t\t\t\t\tvar coll_date = gantt.getScale().trace_x[coll];\n\n\t\t\t\t\tgantt.callEvent(\"onScaleClick\", [e, coll_date]);\n\t\t\t\t}, gantt), this.$task);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"doubleclick\", \"gantt_task_link\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar id = this.locate(e, gantt.config.link_attribute);\n\t\t\t\t\t_delete_link_handler.call(this, id, e);\n\t\t\t\t}, gantt), this.$task);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"doubleclick\", \"gantt_link_point\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar id = this.locate(e),\n\t\t\t\t\t\ttask = this.getTask(id);\n\n\t\t\t\t\tvar link = null;\n\t\t\t\t\tif (trg.parentNode && domHelpers.getClassName(trg.parentNode)) {\n\t\t\t\t\t\tif (domHelpers.getClassName(trg.parentNode).indexOf(\"_left\") > -1) {\n\t\t\t\t\t\t\tlink = task.$target[0];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlink = task.$source[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (link)\n\t\t\t\t\t\t_delete_link_handler.call(this, link, e);\n\t\t\t\t\treturn false;\n\t\t\t\t}, gantt), this.$task);\n\t\t\t},\n\n\t\t\t_attachStateProvider: function(gantt, timeline){\n\t\t\t\tvar self = timeline;\n\t\t\t\tvar state = services.getService(\"state\");\n\t\t\t\tstate.registerProvider(\"tasksTimeline\", function(){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tscale_unit: self._tasks ? self._tasks.unit : undefined,\n\t\t\t\t\t\tscale_step:  self._tasks ? self._tasks.step  : undefined\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t_clearStateProvider: function(){\n\t\t\t\tvar state = services.getService(\"state\");\n\t\t\t\tstate.unregisterProvider(\"tasksTimeline\");\n\t\t\t}\n\t\t};\n\t};\n\n})();\n\nmodule.exports = initializer;","var domHelpers = require(\"../../../../utils/dom_helpers\");\n\n/**\n * methods for highlighting current drag and drop position\n */\n\nfunction highlightPosition(target, root, grid){\n\tvar markerPos = getTaskMarkerPosition(target, grid);\n\t// setting position of row\n\troot.marker.style.left = markerPos.x + 9 + \"px\";\n\troot.marker.style.top = markerPos.y + \"px\";\n\tvar markerLine = root.markerLine;\n\tif(!markerLine){\n\t\tmarkerLine = document.createElement(\"div\");\n\t\tmarkerLine.className = \"gantt_drag_marker gantt_grid_dnd_marker\";\n\t\tmarkerLine.innerHTML = \"<div class='gantt_grid_dnd_marker_line'></div>\";\n\t\tmarkerLine.style.pointerEvents = \"none\";\n\t\tdocument.body.appendChild(markerLine);\n\t\troot.markerLine = markerLine;\n\t}\n\tif(target.child){\n\t\thighlightFolder(target, markerLine, grid);\n\t}else{\n\t\thighlightRow(target, markerLine, grid);\n\t}\n}\n\nfunction removeLineHighlight(root){\n\tif(root.markerLine && root.markerLine.parentNode){\n\t\troot.markerLine.parentNode.removeChild(root.markerLine);\n\t}\n\troot.markerLine = null;\n}\n\nfunction highlightRow(target, markerLine, grid){\n\tvar linePos = getLineMarkerPosition(target, grid);\n\n\tmarkerLine.innerHTML = \"<div class='gantt_grid_dnd_marker_line'></div>\";\n\tmarkerLine.style.left = linePos.x + \"px\";\n\tmarkerLine.style.height = \"4px\";\n\n\tmarkerLine.style.top = (linePos.y - 2) + \"px\";\n\tmarkerLine.style.width = linePos.width + \"px\";\n\n\treturn markerLine;\n}\nfunction highlightFolder(target, markerFolder, grid){\n\tvar id = target.targetParent;\n\tvar pos = gridToPageCoordinates({x: 0, y: grid.getItemTop(id)}, grid);\n\n\tmarkerFolder.innerHTML = \"<div class='gantt_grid_dnd_marker_folder'></div>\";\n\tmarkerFolder.style.width = grid.$grid_data.offsetWidth + \"px\";\n\tmarkerFolder.style.top = pos.y + \"px\";\n\tmarkerFolder.style.left = pos.x  + \"px\";\n\tmarkerFolder.style.height = grid.getItemHeight(id) + \"px\";\n\treturn markerFolder;\n}\n\nfunction getLineMarkerPosition(target, grid){\n\tvar store = grid.$config.rowStore;\n\tvar pos = {x:0, y:0};\n\tvar indentNode = grid.$grid_data.querySelector(\".gantt_tree_indent\");\n\tvar indent = 15;\n\tvar level = 0;\n\tif(indentNode){\n\t\tindent = indentNode.offsetWidth;\n\t}\n\tvar iconWidth = 40;\n\tif(target.targetId !== store.$getRootId()){\n\t\tvar itemTop = grid.getItemTop(target.targetId);\n\t\tvar itemHeight = grid.getItemHeight(target.targetId);\n\t\tlevel = store.exists(target.targetId) ? store.calculateItemLevel(store.getItem(target.targetId)) : 0;\n\n\t\tif(target.prevSibling){\n\t\t\tpos.y = itemTop;\n\t\t}else if(target.nextSibling){\n\t\t\tvar childCount = 0;\n\t\t\tstore.eachItem(function(child){\n\t\t\t\tif(store.getIndexById(child.id) !== -1)\n\t\t\t\t\tchildCount++;\n\t\t\t}, target.targetId);\n\n\t\t\tpos.y = itemTop + itemHeight + childCount*itemHeight;\n\t\t}else {\n\t\t\tpos.y = itemTop + itemHeight;\n\t\t\tlevel += 1;\n\t\t}\n\t}\n\tpos.x = iconWidth + level * indent;\n\tpos.width = Math.max(grid.$grid_data.offsetWidth - pos.x, 0);\n\treturn gridToPageCoordinates(pos, grid);\n}\n\nfunction gridToPageCoordinates(pos, grid){\n\tvar gridPos = domHelpers.getNodePosition(grid.$grid_data);\n\tpos.x += gridPos.x - grid.$grid.scrollLeft;\n\tpos.y += gridPos.y - grid.$grid_data.scrollTop;\n\treturn pos;\n}\n\nfunction getTaskMarkerPosition(e, grid) {\n\tvar pos = domHelpers.getNodePosition(grid.$grid_data);\n\tvar ePos = domHelpers.getRelativeEventPosition(e, grid.$grid_data);\n\tvar store = grid.$config.rowStore;\n\t// row offset\n\tvar x = pos.x;\n\tvar y = ePos.y - 10;\n\n\tvar config = grid.$getConfig();\n\t// prevent moving row out of grid_data container\n\tif (y < pos.y) y = pos.y;\n\tvar gridHeight = store.countVisible() * config.row_height;\n\tif (y > pos.y + gridHeight - config.row_height) y = pos.y + gridHeight - config.row_height;\n\n\tpos.x = x;\n\tpos.y = y;\n\treturn pos;\n}\n\nmodule.exports = {\n\tremoveLineHighlight: removeLineHighlight,\n\thighlightPosition: highlightPosition\n};\n","/**\n * resolve dnd position of the task when gantt.config.order_branch_free = true\n */\n\nvar dropTarget = require(\"./drop_target\");\n\nmodule.exports = function getMultiLevelDropPosition(dndTaskId, targetTaskId, relTargetPos, eventTop, store){\n\tvar result;\n\n\tif(targetTaskId !== store.$getRootId()){\n\t\tif(relTargetPos < 0.25){\n\t\t\tresult = dropTarget.prevSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t}else if(relTargetPos > 0.60 && !(store.hasChild(targetTaskId) && store.getItem(targetTaskId).$open)){\n\t\t\tresult = dropTarget.nextSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t}else {\n\t\t\tresult = dropTarget.firstChildTarget(dndTaskId, targetTaskId, store);\n\t\t}\n\t}else{\n\t\tvar rootId = store.$getRootId();\n\t\tif(store.hasChild(rootId) && eventTop >= 0){\n\t\t\tresult = dropTarget.lastChildTarget(dndTaskId, rootId, store);\n\t\t}else{\n\t\t\tresult = dropTarget.firstChildTarget(dndTaskId, rootId, store);\n\t\t}\n\t}\n\n\treturn result;\n};","/**\n * resolve dnd position of the task when gantt.config.order_branch_free = false\n */\n\nvar dropTarget = require(\"./drop_target\");\n\nfunction getLast(store){\n\tvar current = store.getNext();\n\twhile(store.exists(current)){\n\n\t\tvar next = store.getNext(current);\n\t\tif(!store.exists(next)){\n\t\t\treturn current;\n\t\t}else{\n\t\t\tcurrent = next;\n\t\t}\n\t}\n\treturn null;\n}\n\nfunction findClosesTarget(dndTaskId, taskId, allowedLevel, store, up){\n\tvar prev = taskId;\n\twhile(store.exists(prev)){\n\t\tvar targetLevel = store.calculateItemLevel(store.getItem(prev));\n\t\tif((targetLevel === allowedLevel || targetLevel === (allowedLevel - 1)) && store.getBranchIndex(prev) > -1){\n\t\t\tbreak;\n\t\t}else {\n\t\t\tprev = up ? store.getPrev(prev) : store.getNext(prev);\n\t\t}\n\t}\n\n\tif(store.exists(prev)){\n\t\tif(store.calculateItemLevel(store.getItem(prev)) === allowedLevel){\n\t\t\treturn up ? dropTarget.nextSiblingTarget(dndTaskId, prev, store) : dropTarget.prevSiblingTarget(dndTaskId, prev, store);\n\t\t}else{\n\t\t\treturn dropTarget.firstChildTarget(dndTaskId, prev, store);\n\t\t}\n\t}\n\treturn null;\n}\n\nfunction findTargetAbove(dndTaskId, taskId, allowedLevel, store){\n\treturn findClosesTarget(dndTaskId, taskId, allowedLevel, store, true);\n}\nfunction findTargetBelow(dndTaskId, taskId, allowedLevel, store){\n\treturn findClosesTarget(dndTaskId, taskId, allowedLevel, store, false);\n}\n\nmodule.exports = function getSameLevelDropPosition(dndTaskId, targetTaskId, relTargetPos, eventTop, store, level){\n\tvar result;\n\tif(targetTaskId !== store.$getRootId()) {\n\t\tif (relTargetPos < 0.5) {\n\t\t\tif (store.calculateItemLevel(store.getItem(targetTaskId)) === level) {\n\t\t\t\tif(store.getPrevSibling(targetTaskId)){\n\t\t\t\t\tresult = dropTarget.nextSiblingTarget(dndTaskId, store.getPrevSibling(targetTaskId), store);\n\t\t\t\t}else{\n\t\t\t\t\tresult = dropTarget.prevSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult = findTargetAbove(dndTaskId, targetTaskId, level, store);\n\t\t\t\tif (result) {\n\t\t\t\t\tresult = findTargetBelow(dndTaskId, targetTaskId, level, store);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (store.calculateItemLevel(store.getItem(targetTaskId)) === level) {\n\t\t\t\tresult = dropTarget.nextSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t\t} else {\n\t\t\t\tresult = findTargetBelow(dndTaskId, targetTaskId, level, store);\n\t\t\t\tif (result) {\n\t\t\t\t\tresult = findTargetAbove(dndTaskId, targetTaskId, level, store);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}else{\n\t\tvar rootId = store.$getRootId();\n\t\tvar rootLevel = store.getChildren(rootId);\n\t\tresult = dropTarget.createDropTargetObject();\n\t\tif(rootLevel.length && eventTop >= 0){\n\t\t\tresult = findTargetAbove(dndTaskId, getLast(store), level, store);\n\t\t}else{\n\t\t\tresult = findTargetBelow(dndTaskId, rootId, level, store);\n\t\t}\n\t}\n\n\treturn result;\n};\n","var domHelpers = require(\"../../../utils/dom_helpers\");\nvar dropTarget = require(\"./tasks_grid_dnd_marker_helpers/drop_target\");\nvar getLockedLevelTarget = require(\"./tasks_grid_dnd_marker_helpers/locked_level\");\nvar getMultiLevelTarget = require(\"./tasks_grid_dnd_marker_helpers/multi_level\");\nvar higlighter = require(\"./tasks_grid_dnd_marker_helpers/highlight\");\n\nfunction _init_dnd(gantt, grid) {\n\tvar DnD = gantt.$services.getService(\"dnd\");\n\n\tif(!grid.$config.bind || !gantt.getDatastore(grid.$config.bind)){\n\t\treturn;\n\t}\n\n\tfunction locate(e){\n\t\treturn domHelpers.locateAttribute(e, grid.$config.item_attribute);\n\t}\n\n\tvar dnd = new DnD(grid.$grid_data, {updates_per_second: 60});\n\tif (gantt.defined(grid.$getConfig().dnd_sensitivity))\n\t\tdnd.config.sensitivity = grid.$getConfig().dnd_sensitivity;\n\n\tdnd.attachEvent(\"onBeforeDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\t\tif (!el) return false;\n\t\tif (gantt.hideQuickInfo) gantt._hideQuickInfo();\n\t\tif (domHelpers.closest(e.target, \".gantt_grid_editor_placeholder\")){\n\t\t\treturn false;\n\t\t}\n\n\t\tvar id = el.getAttribute(grid.$config.item_attribute);\n\t\tvar datastore = grid.$config.rowStore;\n\t\tvar task = datastore.getItem(id);\n\n\t\tif (gantt.isReadonly(task))\n\t\t\treturn false;\n\n\t\tdnd.config.initial_open_state = task.$open;\n\t\tif (!gantt.callEvent(\"onRowDragStart\", [id, e.target || e.srcElement, e])) {\n\t\t\treturn false;\n\t\t}\n\n\t}, gantt));\n\n\tdnd.attachEvent(\"onAfterDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\n\t\tdnd.config.marker.innerHTML = el.outerHTML;\n\t\tvar element = dnd.config.marker.firstChild;\n\t\tif(element){\n\t\t\tdnd.config.marker.style.opacity = 0.4;\n\t\t\telement.style.position = \"static\";\n\t\t\telement.style.pointerEvents = \"none\";\n\t\t}\n\n\t\tdnd.config.id = el.getAttribute(grid.$config.item_attribute);\n\n\t\tvar store = grid.$config.rowStore;\n\n\t\tvar task = store.getItem(dnd.config.id);\n\t\tdnd.config.level = store.calculateItemLevel(task);\n\t\tdnd.config.drop_target = dropTarget.createDropTargetObject({\n\t\t\ttargetParent: store.getParent(task.id),\n\t\t\ttargetIndex: store.getBranchIndex(task.id),\n\t\t\ttargetId: task.id,\n\t\t\tnextSibling: true\n\t\t});\n\n\t\ttask.$open = false;\n\t\ttask.$transparent = true;\n\t\tthis.refreshData();\n\t}, gantt));\n\n\tfunction getTargetTaskId(e){\n\t\tvar y = domHelpers.getRelativeEventPosition(e, grid.$grid_data).y;\n\t\tvar store = grid.$config.rowStore;\n\n\t\ty = y || 0;\n\n\t\tif(y < 0){\n\t\t\treturn store.$getRootId();\n\t\t}\n\n\t\tvar index = Math.floor(y / grid.getItemHeight());\n\n\t\tif (index > store.countVisible() - 1)\n\t\t\treturn store.$getRootId();\n\n\t\treturn store.getIdByIndex(index);\n\t}\n\n\tfunction getDropPosition(e){\n\t\tvar targetTaskId = getTargetTaskId(e);\n\t\tvar relTargetPos = null;\n\t\tvar store = grid.$config.rowStore;\n\t\tvar config = grid.$getConfig();\n\t\tvar lockLevel = !config.order_branch_free;\n\n\t\tvar eventTop = domHelpers.getRelativeEventPosition(e, grid.$grid_data).y;\n\n\t\tif(targetTaskId !== store.$getRootId()) {\n\t\t\tvar rowTop = grid.getItemTop(targetTaskId);\n\t\t\tvar rowHeight = grid.getItemHeight();\n\t\t\trelTargetPos = (eventTop - rowTop) / rowHeight;\n\t\t}\n\n\t\tvar result;\n\t\tif(!lockLevel){\n\t\t\tresult = getMultiLevelTarget(dnd.config.id, targetTaskId, relTargetPos, eventTop, store);\n\t\t}else{\n\t\t\tresult = getLockedLevelTarget(dnd.config.id, targetTaskId, relTargetPos, eventTop, store, dnd.config.level);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tdnd.attachEvent(\"onDragMove\", gantt.bind(function (obj, e) {\n\t\tvar target = getDropPosition(e);\n\n\t\tif(!target ||\n\t\t\tgantt.callEvent(\"onBeforeRowDragMove\", [dnd.config.id, target.targetParent, target.targetIndex]) === false){\n\t\t\t\ttarget = dropTarget.createDropTargetObject(dnd.config.drop_target);\n\t\t\t}\n\n\t\thiglighter.highlightPosition(target, dnd.config, grid);\n\t\tdnd.config.drop_target = target;\n\n\t\tthis.callEvent(\"onRowDragMove\", [dnd.config.id, target.targetParent, target.targetIndex]);\n\t\treturn true;\n\t}, gantt));\n\n\tdnd.attachEvent(\"onDragEnd\", gantt.bind(function () {\n\t\tvar store = grid.$config.rowStore;\n\t\tvar task = store.getItem(dnd.config.id);\n\n\t\thiglighter.removeLineHighlight(dnd.config);\n\n\t\ttask.$transparent = false;\n\t\ttask.$open = dnd.config.initial_open_state;\n\t\tvar target = dnd.config.drop_target;\n\n\t\tif (this.callEvent(\"onBeforeRowDragEnd\", [dnd.config.id, target.targetParent, target.targetIndex]) === false) {\n\t\t\ttask.$drop_target = null;\n\t\t} else {\n\t\t\tstore.move(dnd.config.id, target.targetIndex, target.targetParent);\n\t\t\tthis.callEvent(\"onRowDragEnd\", [dnd.config.id, target.targetParent, target.targetIndex]);\n\t\t}\n\t\tstore.refresh(task.id);\n\t}, gantt));\n}\n\nmodule.exports = {\n\tinit: _init_dnd\n};","var domHelpers = require(\"../../../utils/dom_helpers\");\n\nfunction _init_dnd(gantt, grid) {\n\tvar DnD = gantt.$services.getService(\"dnd\");\n\n\tif(!grid.$config.bind || !gantt.getDatastore(grid.$config.bind)){\n\t\treturn;\n\t}\n\n\tfunction locate(e){\n\t\treturn domHelpers.locateAttribute(e, grid.$config.item_attribute);\n\t}\n\n\tfunction getStore(){\n\t\treturn gantt.getDatastore(grid.$config.bind);\n\t}\n\n\tvar dnd = new DnD(grid.$grid_data, {updates_per_second: 60});\n\tif (gantt.defined(grid.$getConfig().dnd_sensitivity))\n\t\tdnd.config.sensitivity = grid.$getConfig().dnd_sensitivity;\n\n\tdnd.attachEvent(\"onBeforeDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\t\tif (!el) return false;\n\t\tif (gantt.hideQuickInfo) gantt._hideQuickInfo();\n\n\t\tif (domHelpers.closest(e.target, \".gantt_grid_editor_placeholder\")){\n\t\t\treturn false;\n\t\t}\n\n\t\tvar id = el.getAttribute(grid.$config.item_attribute);\n\n\t\tvar datastore = getStore();\n\n\t\tvar task = datastore.getItem(id);\n\n\t\tif (gantt.isReadonly(task))\n\t\t\treturn false;\n\n\t\tdnd.config.initial_open_state = task.$open;\n\t\tif (!gantt.callEvent(\"onRowDragStart\", [id, e.target || e.srcElement, e])) {\n\t\t\treturn false;\n\t\t}\n\n\t}, gantt));\n\n\tdnd.attachEvent(\"onAfterDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\t\tdnd.config.marker.innerHTML = el.outerHTML;\n\t\tvar element = dnd.config.marker.firstChild;\n\t\tif(element){\n\t\t\telement.style.position = \"static\";\n\t\t}\n\n\t\tdnd.config.id = el.getAttribute(grid.$config.item_attribute);\n\n\t\tvar store = getStore();\n\n\t\tvar task = store.getItem(dnd.config.id);\n\t\tdnd.config.index = store.getBranchIndex(dnd.config.id);\n\t\tdnd.config.parent = task.parent;\n\t\ttask.$open = false;\n\t\ttask.$transparent = true;\n\t\tthis.refreshData();\n\t}, gantt));\n\n\tdnd.lastTaskOfLevel = function (level) {\n\t\tvar last_item = null;\n\t\tvar store = getStore();\n\t\tvar tasks = store.getItems();\n\t\tfor (var i = 0, len = tasks.length; i < len; i++) {\n\t\t\tif (tasks[i].$level == level) {\n\t\t\t\tlast_item = tasks[i];\n\t\t\t}\n\t\t}\n\t\treturn last_item ? last_item.id : null;\n\t};\n\tdnd._getGridPos = gantt.bind(function (e) {\n\t\tvar pos = domHelpers.getNodePosition(grid.$grid_data);\n\t\tvar store = getStore();\n\t\t// row offset\n\t\tvar x = pos.x;\n\t\tvar y = e.pos.y - 10;\n\n\t\tvar config = grid.$getConfig();\n\t\t// prevent moving row out of grid_data container\n\t\tif (y < pos.y) y = pos.y;\n\t\tvar gridHeight = store.countVisible() * config.row_height;\n\t\tif (y > pos.y + gridHeight - config.row_height) y = pos.y + gridHeight - config.row_height;\n\n\t\tpos.x = x;\n\t\tpos.y = y;\n\t\treturn pos;\n\t}, gantt);\n\tdnd._getTargetY = gantt.bind(function (e) {\n\t\tvar pos = domHelpers.getNodePosition(grid.$grid_data);\n\n\t\tvar y = e.pageY - pos.y + (grid.$state.scrollTop || 0);\n\t\tif (y < 0)\n\t\t\ty = 0;\n\t\treturn y;\n\t}, gantt);\n\tdnd._getTaskByY = gantt.bind(function (y, dropIndex) {\n\n\t\tvar config = grid.$getConfig(),\n\t\t\tstore = getStore();\n\n\t\ty = y || 0;\n\n\t\tvar index = Math.floor(y / config.row_height);\n\t\tindex = dropIndex < index ? index - 1 : index;\n\n\t\tif (index > store.countVisible() - 1)\n\t\t\treturn null;\n\n\t\treturn store.getIdByIndex(index);\n\t}, gantt);\n\tdnd.attachEvent(\"onDragMove\", gantt.bind(function (obj, e) {\n\t\tvar dd = dnd.config;\n\t\tvar pos = dnd._getGridPos(e);\n\n\t\tvar config = grid.$getConfig(),\n\t\t\tstore = getStore();\n\n\t\t// setting position of row\n\t\tdd.marker.style.left = pos.x + 10 + \"px\";\n\t\tdd.marker.style.top = pos.y + \"px\";\n\n\t\t// highlight row when mouseover\n\t\tvar item = store.getItem(dnd.config.id);\n\t\tvar targetY = dnd._getTargetY(e);\n\t\tvar el = dnd._getTaskByY(targetY, store.getIndexById(item.id));\n\n\t\tif (!store.exists(el)) {\n\t\t\tel = dnd.lastTaskOfLevel(config.order_branch_free ? item.$level : 0);\n\t\t\tif (el == dnd.config.id) {\n\t\t\t\tel = null;\n\t\t\t}\n\t\t}\n\n\t\tfunction allowedLevel(next, item) {\n\t\t\treturn (!(store.isChildOf(over.id, item.id)) && (next.$level == item.$level || config.order_branch_free));\n\t\t}\n\n\t\tif (store.exists(el)) {\n\t\t\tvar over = store.getItem(el);\n\n\t\t\tif (store.getIndexById(over.id) * config.row_height + config.row_height / 2 < targetY) {\n\t\t\t\t//hovering over bottom part of item, check can be drop to bottom\n\t\t\t\tvar index = store.getIndexById(over.id);\n\t\t\t\tvar nextId = store.getNext(over.id);//adds +1 when hovering over placeholder\n\t\t\t\tvar next = store.getItem(nextId);\n\t\t\t\tif (next) {\n\t\t\t\t\tif (next.id != item.id) {\n\t\t\t\t\t\tover = next; //there is a valid target\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (config.order_branch_free) {\n\t\t\t\t\t\t\tif (!(store.isChildOf(item.id, over.id) && store.getChildren(over.id).length == 1))\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tstore.move(item.id, store.getBranchIndex(over.id) + 1, store.getParent(over.id));\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//we at end of the list, check and drop at the end of list\n\t\t\t\t\tnextId = store.getIdByIndex(index);\n\t\t\t\t\tnext = store.getItem(nextId);\n\n\t\t\t\t\tif (allowedLevel(next, item) && next.id != item.id) {\n\t\t\t\t\t\tstore.move(item.id, -1, store.getParent(next.id));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (config.order_branch_free) {\n\t\t\t\tif (over.id != item.id && allowedLevel(over, item)) {\n\t\t\t\t\tif (!store.hasChild(over.id)) {\n\t\t\t\t\t\tover.$open = true;\n\t\t\t\t\t\tstore.move(item.id, -1, over.id);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (store.getIndexById(over.id) || config.row_height / 3 < targetY) return;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//if item is on different level, check the one before it\n\t\t\tvar index = store.getIndexById(over.id),\n\t\t\t\tprevId = store.getIdByIndex(index - 1);\n\n\t\t\tvar prev = store.getItem(prevId);\n\n\t\t\tvar shift = 1;\n\t\t\twhile ((!prev || prev.id == over.id) && index - shift >= 0) {\n\n\t\t\t\tprevId = store.getIdByIndex(index - shift);\n\t\t\t\tprev = store.getItem(prevId);\n\t\t\t\tshift++;\n\t\t\t}\n\n\t\t\tif (item.id == over.id) return;\n\t\t\t//replacing item under cursor\n\t\t\tif (allowedLevel(over, item) && item.id != over.id) {\n\t\t\t\tstore.move(item.id, 0, 0, over.id);\n\n\t\t\t} else if (over.$level == item.$level - 1 && !store.getChildren(over.id).length) {\n\t\t\t\tstore.move(item.id, 0, over.id);\n\n\t\t\t} else if (prev && (allowedLevel(prev, item)) && (item.id != prev.id)) {\n\t\t\t\tstore.move(item.id, -1, store.getParent(prev.id));\n\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}, gantt));\n\n\tdnd.attachEvent(\"onDragEnd\", gantt.bind(function () {\n\t\tvar store = getStore();\n\t\tvar task = store.getItem(dnd.config.id);\n\t\ttask.$transparent = false;\n\t\ttask.$open = dnd.config.initial_open_state;\n\n\t\tif (this.callEvent(\"onBeforeRowDragEnd\", [dnd.config.id, dnd.config.parent, dnd.config.index]) === false) {\n\t\t\tstore.move(dnd.config.id, dnd.config.index, dnd.config.parent);\n\t\t\ttask.$drop_target = null;\n\t\t} else {\n\t\t\tthis.callEvent(\"onRowDragEnd\", [dnd.config.id, task.$drop_target]);\n\t\t}\n\n\t\tthis.refreshData();\n\t}, gantt));\n}\n\nmodule.exports = {\n\tinit: _init_dnd\n};","var utils = require(\"../../../utils/utils\");\nvar rowDnd = require(\"./tasks_grid_dnd\");\nvar rowDndMarker = require(\"./tasks_grid_dnd_marker\");\n\nvar initializer = (function(){\n\treturn function(gantt){\n\t\treturn {\n\t\t\tonCreated: function (grid) {\n\t\t\t\tgrid.$config = utils.mixin(grid.$config, {\n\t\t\t\t\tbind: \"task\"\n\t\t\t\t});\n\t\t\t\tif(grid.$config.id == \"grid\") {\n\t\t\t\t\tthis.extendGantt(grid);\n\t\t\t\t\tgantt.ext.inlineEditors = gantt.ext._inlineEditors.createEditors(grid);\n\t\t\t\t\tgantt.ext.inlineEditors.init();\n\t\t\t\t}\n\n\t\t\t\tthis._mouseDelegates = require(\"../mouse_event_container\")(gantt);\n\t\t\t},\n\t\t\tonInitialized: function (grid) {\n\t\t\t\tvar config = grid.$getConfig();\n\t\t\t\tif (config.order_branch) {\n\t\t\t\t\tif(config.order_branch == \"marker\"){\n\t\t\t\t\t\trowDndMarker.init(grid.$gantt, grid);\n\t\t\t\t\t}else{\n\t\t\t\t\t\trowDnd.init(grid.$gantt, grid);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.initEvents(grid, gantt);\n\t\t\t\tif(grid.$config.id == \"grid\") {\n\t\t\t\t\tthis.extendDom(grid);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDestroyed: function (grid) {\n\t\t\t\tif(grid.$config.id == \"grid\") {\n\t\t\t\t\tgantt.ext.inlineEditors.destructor();\n\t\t\t\t}\n\t\t\t\tthis.clearEvents(grid, gantt);\n\t\t\t},\n\n\t\t\tinitEvents: function (grid, gantt) {\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_row\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar config = grid.$getConfig();\n\t\t\t\t\tif (id !== null) {\n\t\t\t\t\t\tvar task = this.getTask(id);\n\t\t\t\t\t\tif (config.scroll_on_click && !gantt._is_icon_open_click(e))\n\t\t\t\t\t\t\tthis.showDate(task.start_date);\n\t\t\t\t\t\tgantt.callEvent(\"onTaskRowClick\", [id, trg]);\n\t\t\t\t\t}\n\t\t\t\t}, gantt), grid.$grid);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_grid_head_cell\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar column = trg.getAttribute(\"data-column-id\");\n\n\t\t\t\t\tif (!gantt.callEvent(\"onGridHeaderClick\", [column, e]))\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar config = grid.$getConfig();\n\n\t\t\t\t\tif (column == \"add\") {\n\t\t\t\t\t\tvar mouseEvents = gantt.$services.getService(\"mouseEvents\");\n\t\t\t\t\t\tmouseEvents.callHandler(\"click\", \"gantt_add\", grid.$grid, [e, config.root_id]);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (config.sort) {\n\t\t\t\t\t\tvar sorting_method = column,\n\t\t\t\t\t\t\tconf;\n\n\t\t\t\t\t\tfor (var i = 0; i < config.columns.length; i++) {\n\t\t\t\t\t\t\tif (config.columns[i].name == column) {\n\t\t\t\t\t\t\t\tconf = config.columns[i];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (conf && conf.sort !== undefined && conf.sort !== true) {\n\t\t\t\t\t\t\tsorting_method = conf.sort;\n\n\t\t\t\t\t\t\tif (!sorting_method) { // column sort property 'false', no sorting\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar sort = (this._sort && this._sort.direction && this._sort.name == column) ? this._sort.direction : \"desc\";\n\t\t\t\t\t\t// invert sort direction\n\t\t\t\t\t\tsort = (sort == \"desc\") ? \"asc\" : \"desc\";\n\t\t\t\t\t\tthis._sort = {\n\t\t\t\t\t\t\tname: column,\n\t\t\t\t\t\t\tdirection: sort\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.sort(sorting_method, sort == \"desc\");\n\t\t\t\t\t}\n\t\t\t\t}, gantt), grid.$grid);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_add\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar config = grid.$getConfig();\n\t\t\t\t\tif (config.readonly) return;\n\n\t\t\t\t\tvar item = {};\n\t\t\t\t\tthis.createTask(item, id ? id : gantt.config.root_id);\n\n\t\t\t\t\treturn false;\n\t\t\t\t}, gantt), grid.$grid);\n\n\t\t\t},\n\n\t\t\tclearEvents: function(grid, gantt){\n\t\t\t\tthis._mouseDelegates.destructor();\n\t\t\t\tthis._mouseDelegates = null;\n\t\t\t},\n\n\t\t\textendDom: function(grid){\n\t\t\t\tgantt.$grid = grid.$grid;\n\t\t\t\tgantt.$grid_scale = grid.$grid_scale;\n\t\t\t\tgantt.$grid_data = grid.$grid_data;\n\t\t\t},\n\t\t\textendGantt: function(grid){\n\t\t\t\tgantt.getGridColumns = gantt.bind(grid.getGridColumns, grid);\n\n\t\t\t\tgrid.attachEvent(\"onColumnResizeStart\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onColumnResizeStart\", arguments);\n\t\t\t\t});\n\t\t\t\tgrid.attachEvent(\"onColumnResize\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onColumnResize\", arguments);\n\t\t\t\t});\n\t\t\t\tgrid.attachEvent(\"onColumnResizeEnd\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onColumnResizeEnd\", arguments);\n\t\t\t\t});\n\n\t\t\t\tgrid.attachEvent(\"onColumnResizeComplete\", function(columns, totalWidth){\n\t\t\t\t\tgantt.config.grid_width = totalWidth;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t};\n})();\n\nmodule.exports = initializer;","var helpers = require(\"../../../utils/helpers\");\nvar smartRender = require(\"./smart_render_wrapper\");\nvar isRowInViewPort = require(\"./viewport/task_row_checker\");\nvar isLegacyRender = require(\"./is_legacy_smart_render\");\nfunction createGridLineRender(gantt){\n\n\tfunction isInViewPort(item, view, viewport){\n\t\tif(gantt.$keyboardNavigation && gantt.$keyboardNavigation.dispatcher.isTaskFocused(item.id)){\n\t\t\treturn true;\n\t\t}\n\n\t\treturn isRowInViewPort(item, view, viewport);\n\t}\n\n\tfunction _render_grid_item(item, view, viewport) {\n\t\tvar columns = view.getGridColumns();\n\t\tvar config = view.$getConfig(),\n\t\t\ttemplates = view.$getTemplates();\n\n\t\tvar store = view.$config.rowStore;\n\n\t\tif(config.rtl){\n\t\t\tcolumns = columns.reverse();\n\t\t}\n\n\t\tvar cells = [];\n\t\tvar has_child;\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar last = i == columns.length - 1;\n\t\t\tvar col = columns[i];\n\t\t\tvar cell;\n\n\t\t\tvar value;\n\t\t\tvar textValue;\n\t\t\tif (col.name == \"add\") {\n\t\t\t\tvar aria = gantt._waiAria.gridAddButtonAttrString(col);\n\n\t\t\t\tvalue = \"<div \" + aria + \" class='gantt_add'></div>\";\n\t\t\t\ttextValue = \"\";\n\t\t\t} else {\n\t\t\t\tif (col.template)\n\t\t\t\t\tvalue = col.template(item);\n\t\t\t\telse\n\t\t\t\t\tvalue = item[col.name];\n\n\t\t\t\tif (helpers.isDate(value))\n\t\t\t\t\tvalue = templates.date_grid(value, item);\n\t\t\t\ttextValue = value;\n\t\t\t\tvalue = \"<div class='gantt_tree_content'>\" + value + \"</div>\";\n\t\t\t}\n\t\t\tvar css = \"gantt_cell\" + (last ? \" gantt_last_cell\" : \"\");\n\n\t\t\tvar tree = [];\n\t\t\tif (col.tree) {\n\t\t\t\tfor (var j = 0; j < item.$level; j++)\n\t\t\t\t\ttree.push(templates.grid_indent(item));\n\n\t\t\t\thas_child = store.hasChild(item.id) && !(gantt.isSplitTask(item) && !gantt.config.open_split_tasks);\n\t\t\t\tif (has_child) {\n\t\t\t\t\ttree.push(templates.grid_open(item));\n\t\t\t\t\ttree.push(templates.grid_folder(item));\n\t\t\t\t} else {\n\t\t\t\t\ttree.push(templates.grid_blank(item));\n\t\t\t\t\ttree.push(templates.grid_file(item));\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar style = \"width:\" + (col.width - (last ? 1 : 0)) + \"px;\";\n\t\t\tif (this.defined(col.align))\n\t\t\t\tstyle += \"text-align:\" + col.align + \";\";\n\n\t\t\tvar aria = gantt._waiAria.gridCellAttrString(col, textValue);\n\n\t\t\ttree.push(value);\n\t\t\tif(config.rtl){\n\t\t\t\ttree = tree.reverse();\n\t\t\t}\n\t\t\tcell = \"<div class='\" + css + \"' data-column-index='\"+i+\"' data-column-name='\"+col.name+\"' style='\" + style + \"' \" + aria + \">\" + tree.join(\"\") + \"</div>\";\n\t\t\tcells.push(cell);\n\t\t}\n\t\tvar css = gantt.getGlobalTaskIndex(item.id) % 2 === 0 ? \"\" : \" odd\";\n\t\tcss += (item.$transparent) ? \" gantt_transparent\" : \"\";\n\n\t\tcss += (item.$dataprocessor_class ? \" \" + item.$dataprocessor_class : \"\");\n\n\t\tif (templates.grid_row_class) {\n\t\t\tvar css_template = templates.grid_row_class.call(gantt, item.start_date, item.end_date, item);\n\t\t\tif (css_template)\n\t\t\t\tcss += \" \" + css_template;\n\t\t}\n\n\t\tif(store.isSelected(item.id)) {\n\t\t\tcss += \" gantt_selected\";\n\t\t}\n\n\t\tvar el = document.createElement(\"div\");\n\t\tel.className = \"gantt_row\" + css + \" gantt_row_\" + gantt.getTaskType(item.type);\n\t\tvar height = view.getItemHeight();\n\t\tel.style.height = height + \"px\";\n\t\tel.style.lineHeight = height + \"px\";\n\n\t\tif(config.smart_rendering){\n\t\t\tel.style.position = \"absolute\";\n\t\t\tel.style.left = \"0px\";\n\t\t\tel.style.top = view.getItemTop(item.id) + \"px\";\n\t\t}\n\n\t\tif(view.$config.item_attribute){\n\t\t\tel.setAttribute(view.$config.item_attribute, item.id);\n\t\t}\n\n\t\tgantt._waiAria.taskRowAttr(item, el);\n\n\t\tel.innerHTML = cells.join(\"\");\n\t\treturn el;\n\t}\n\n\t//return _render_grid_item;\n\n\treturn smartRender(\n\t\t_render_grid_item,\n\t\tfunction(){},\n\t\tisInViewPort,\n\t\tgantt.config.smart_rendering && !isLegacyRender(gantt)\n\t);\n}\n\nmodule.exports = createGridLineRender;\n\n","\n\nmodule.exports = function isLinkInViewPort(item, view, viewport){\n\tvar source = view.$gantt.getTask(item.source);\n\tvar target = view.$gantt.getTask(item.target);\n\n\t// check vertical visibility first since it's a lighter check\n\tvar sourceTop = view.getItemTop(source.id);\n\tvar sourceHeight = view.getItemHeight(source);\n\n\tvar targetTop = view.getItemTop(target.id);\n\tvar targetHeight = view.getItemHeight(target);\n\n\tif(viewport.y > sourceTop + sourceHeight && \n\t\tviewport.y > targetTop + targetHeight){\n\t\treturn false;\n\t}\n\n\tif(viewport.y_end < targetTop && \n\t\tviewport.y_end < targetHeight){\n\t\treturn false;\n\t}\n\n\tvar padding = 100;\n\tvar sourceLeft = view.posFromDate(source.start_date);\n\tvar sourceRight = view.posFromDate(source.end_date);\n\tvar targetLeft = view.posFromDate(target.start_date);\n\tvar targetRight = view.posFromDate(target.end_date);\n\t\n\tif(sourceLeft > sourceRight){\n\t\t// rtl\n\t\tvar tmp = sourceRight;\n\t\tsourceRight = sourceLeft;\n\t\tsourceLeft = tmp;\n\t}\n\tif(targetLeft > targetRight){\n\t\t// rtl\n\t\tvar tmp = targetRight;\n\t\ttargetRight = targetLeft;\n\t\ttargetLeft = tmp;\n\t}\n\tsourceLeft += -padding; // add buffer for custom elements\n\tsourceRight += padding;\n\ttargetLeft += -padding; // add buffer for custom elements\n\ttargetRight += padding;\n\n\tif(viewport.x > sourceRight && \n\t\tviewport.x > targetRight){\n\t\treturn false;\n\t}\n\n\tif(viewport.x_end < sourceLeft && \n\t\tviewport.x_end < targetLeft){\n\t\treturn false;\n\t}\n\treturn true;\n};\n","var smartRender = require(\"./smart_render_wrapper\");\nvar isLinkInViewPort = require(\"./viewport/link_checker\");\nvar isLegacyRender = require(\"./is_legacy_smart_render\");\n\nfunction createLinkRender(gantt){\n\nfunction _render_link_element(link, view) {\n\tvar config = view.$getConfig();\n\n\tvar pt = path_builder.get_endpoint(link, view);\n\tvar dy = pt.e_y - pt.y;\n\tvar dx = pt.e_x - pt.x;\n\tif(!dx && !dy){\n\t\treturn null;\n\t}\n\n\n\tvar dots = path_builder.get_points(link, view);\n\tvar lines = drawer.get_lines(dots, view);\n\n\tvar div = document.createElement(\"div\");\n\n\tvar css = \"gantt_task_link\";\n\n\tif (link.color) {\n\t\tcss += \" gantt_link_inline_color\";\n\t}\n\tvar cssTemplate = gantt.templates.link_class ? gantt.templates.link_class(link) : \"\";\n\tif (cssTemplate) {\n\t\tcss += \" \" + cssTemplate;\n\t}\n\n\tif (config.highlight_critical_path && gantt.isCriticalLink) {\n\t\tif (gantt.isCriticalLink(link))\n\t\t\tcss += \" gantt_critical_link\";\n\t}\n\n\tdiv.className = css;\n\n\tif(view.$config.link_attribute){\n\t\tdiv.setAttribute(view.$config.link_attribute, link.id);\n\t}\n\n\tfor (var i = 0; i < lines.length; i++) {\n\t\tif (i == lines.length - 1) {\n\t\t\tlines[i].size -= config.link_arrow_size;\n\t\t}\n\t\tvar el = drawer.render_line(lines[i], lines[i + 1], view);\n\t\tif (link.color) {\n\t\t\tel.firstChild.style.backgroundColor = link.color;\n\t\t}\n\t\tdiv.appendChild(el);\n\t}\n\n\tvar direction = lines[lines.length - 1].direction;\n\tvar endpoint = _render_link_arrow(dots[dots.length - 1], direction, view);\n\tif (link.color) {\n\t\tendpoint.style.borderColor = link.color;\n\t}\n\tdiv.appendChild(endpoint);\n\n\tgantt._waiAria.linkAttr(link, div);\n\n\treturn div;\n}\n\nfunction _render_link_arrow(point, direction, view) {\n\tvar config = view.$getConfig();\n\tvar div = document.createElement(\"div\");\n\tvar top = point.y;\n\tvar left = point.x;\n\n\tvar size = config.link_arrow_size;\n\tvar line_width = config.row_height;\n\tvar className = \"gantt_link_arrow gantt_link_arrow_\" + direction;\n\tswitch (direction) {\n\t\tcase drawer.dirs.right:\n\t\t\ttop -= (size - line_width) / 2;\n\t\t\tleft -= size;\n\t\t\tbreak;\n\t\tcase drawer.dirs.left:\n\t\t\ttop -= (size - line_width) / 2;\n\t\t\tbreak;\n\t\tcase drawer.dirs.up:\n\t\t\tleft -= size;\n\t\t\tbreak;\n\t\tcase drawer.dirs.down:\n\t\t\ttop += size * 2;\n\t\t\tleft -= size;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\tdiv.style.cssText = [\n\t\t\"top:\" + top + \"px\",\n\t\t\"left:\" + left + 'px'].join(';');\n\tdiv.className = className;\n\n\treturn div;\n}\n\n\nvar drawer = {\n\tcurrent_pos: null,\n\tdirs: {\"left\": 'left', \"right\": 'right', \"up\": 'up', \"down\": 'down'},\n\tpath: [],\n\tclear: function () {\n\t\tthis.current_pos = null;\n\t\tthis.path = [];\n\t},\n\tpoint: function (pos) {\n\t\tthis.current_pos = gantt.copy(pos);\n\t},\n\tget_lines: function (dots) {\n\t\tthis.clear();\n\t\tthis.point(dots[0]);\n\t\tfor (var i = 1; i < dots.length; i++) {\n\t\t\tthis.line_to(dots[i]);\n\t\t}\n\t\treturn this.get_path();\n\t},\n\tline_to: function (pos) {\n\t\tvar next = gantt.copy(pos);\n\t\tvar prev = this.current_pos;\n\n\t\tvar line = this._get_line(prev, next);\n\t\tthis.path.push(line);\n\t\tthis.current_pos = next;\n\t},\n\tget_path: function () {\n\t\treturn this.path;\n\t},\n\tget_wrapper_sizes: function (v, view) {\n\t\tvar config = view.$getConfig();\n\t\tvar res,\n\t\t\twrapper_size = config.link_wrapper_width,\n\t\t\ty = v.y + (config.row_height - wrapper_size) / 2;\n\t\tswitch (v.direction) {\n\t\t\tcase this.dirs.left:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y,\n\t\t\t\t\theight: wrapper_size,\n\t\t\t\t\tlineHeight: wrapper_size,\n\t\t\t\t\tleft: v.x - v.size - wrapper_size / 2,\n\t\t\t\t\twidth: v.size + wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.right:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y,\n\t\t\t\t\tlineHeight: wrapper_size,\n\t\t\t\t\theight: wrapper_size,\n\t\t\t\t\tleft: v.x - wrapper_size / 2,\n\t\t\t\t\twidth: v.size + wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.up:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y - v.size,\n\t\t\t\t\tlineHeight: v.size + wrapper_size,\n\t\t\t\t\theight: v.size + wrapper_size,\n\t\t\t\t\tleft: v.x - wrapper_size / 2,\n\t\t\t\t\twidth: wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.down:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y /*- wrapper_size/2*/,\n\t\t\t\t\tlineHeight: v.size + wrapper_size,\n\t\t\t\t\theight: v.size + wrapper_size,\n\t\t\t\t\tleft: v.x - wrapper_size / 2,\n\t\t\t\t\twidth: wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn res;\n\t},\n\tget_line_sizes: function (v, view) {\n\t\tvar config = view.$getConfig();\n\t\tvar res,\n\t\t\tline_size = config.link_line_width,\n\t\t\twrapper_size = config.link_wrapper_width,\n\t\t\tsize = v.size + line_size;\n\t\tswitch (v.direction) {\n\t\t\tcase this.dirs.left:\n\t\t\tcase this.dirs.right:\n\t\t\t\tres = {\n\t\t\t\t\theight: line_size,\n\t\t\t\t\twidth: size,\n\t\t\t\t\tmarginTop: (wrapper_size - line_size) / 2,\n\t\t\t\t\tmarginLeft: (wrapper_size - line_size) / 2\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.up:\n\t\t\tcase this.dirs.down:\n\t\t\t\tres = {\n\t\t\t\t\theight: size,\n\t\t\t\t\twidth: line_size,\n\t\t\t\t\tmarginTop: (wrapper_size - line_size) / 2,\n\t\t\t\t\tmarginLeft: (wrapper_size - line_size) / 2\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\n\t\treturn res;\n\t},\n\trender_line: function (v, end, view) {\n\t\tvar pos = this.get_wrapper_sizes(v, view);\n\t\tvar wrapper = document.createElement(\"div\");\n\t\twrapper.style.cssText = [\n\t\t\t\"top:\" + pos.top + \"px\",\n\t\t\t\"left:\" + pos.left + \"px\",\n\t\t\t\"height:\" + pos.height + \"px\",\n\t\t\t\"width:\" + pos.width + \"px\"\n\t\t].join(';');\n\t\twrapper.className = \"gantt_line_wrapper\";\n\n\t\tvar innerPos = this.get_line_sizes(v, view);\n\t\tvar inner = document.createElement(\"div\");\n\t\tinner.style.cssText = [\n\t\t\t\"height:\" + innerPos.height + \"px\",\n\t\t\t\"width:\" + innerPos.width + \"px\",\n\t\t\t\"margin-top:\" + innerPos.marginTop + \"px\",\n\t\t\t\"margin-left:\" + innerPos.marginLeft + \"px\"\n\t\t].join(\";\");\n\n\t\tinner.className = \"gantt_link_line_\" + v.direction;\n\t\twrapper.appendChild(inner);\n\n\t\treturn wrapper;\n\t},\n\t_get_line: function (from, to) {\n\t\tvar direction = this.get_direction(from, to);\n\t\tvar vect = {\n\t\t\tx: from.x,\n\t\t\ty: from.y,\n\t\t\tdirection: this.get_direction(from, to)\n\t\t};\n\t\tif (direction == this.dirs.left || direction == this.dirs.right) {\n\t\t\tvect.size = Math.abs(from.x - to.x);\n\t\t} else {\n\t\t\tvect.size = Math.abs(from.y - to.y);\n\t\t}\n\t\treturn vect;\n\t},\n\tget_direction: function (from, to) {\n\t\tvar direction = 0;\n\t\tif (to.x < from.x) {\n\t\t\tdirection = this.dirs.left;\n\t\t} else if (to.x > from.x) {\n\t\t\tdirection = this.dirs.right;\n\t\t} else if (to.y > from.y) {\n\t\t\tdirection = this.dirs.down;\n\t\t} else {\n\t\t\tdirection = this.dirs.up;\n\t\t}\n\t\treturn direction;\n\t}\n\n};\n\nvar path_builder = {\n\n\tpath: [],\n\tclear: function () {\n\t\tthis.path = [];\n\t},\n\tcurrent: function () {\n\t\treturn this.path[this.path.length - 1];\n\t},\n\tpoint: function (next) {\n\t\tif (!next)\n\t\t\treturn this.current();\n\n\t\tthis.path.push(gantt.copy(next));\n\t\treturn next;\n\t},\n\tpoint_to: function (direction, diff, point) {\n\t\tif (!point)\n\t\t\tpoint = gantt.copy(this.point());\n\t\telse\n\t\t\tpoint = {x: point.x, y: point.y};\n\t\tvar dir = drawer.dirs;\n\t\tswitch (direction) {\n\t\t\tcase (dir.left):\n\t\t\t\tpoint.x -= diff;\n\t\t\t\tbreak;\n\t\t\tcase (dir.right):\n\t\t\t\tpoint.x += diff;\n\t\t\t\tbreak;\n\t\t\tcase (dir.up):\n\t\t\t\tpoint.y -= diff;\n\t\t\t\tbreak;\n\t\t\tcase (dir.down):\n\t\t\t\tpoint.y += diff;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn this.point(point);\n\t},\n\tget_points: function (link, view) {\n\t\tvar pt = this.get_endpoint(link, view);\n\t\tvar xy = gantt.config;\n\n\t\tvar dy = pt.e_y - pt.y;\n\t\tvar dx = pt.e_x - pt.x;\n\n\t\tvar dir = drawer.dirs;\n\n\t\tthis.clear();\n\t\tthis.point({x: pt.x, y: pt.y});\n\n\t\tvar shiftX = 2 * xy.link_arrow_size;//just random size for first line\n\t\tvar lineType = this.get_line_type(link, view.$getConfig());\n\n\t\tvar forward = (pt.e_x > pt.x);\n\t\tif (lineType.from_start && lineType.to_start) {\n\t\t\tthis.point_to(dir.left, shiftX);\n\t\t\tif (forward) {\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t} else {\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t}\n\t\t\tthis.point_to(dir.right, shiftX);\n\n\t\t} else if (!lineType.from_start && lineType.to_start) {\n\t\t\tforward = (pt.e_x > (pt.x + 2 * shiftX));\n\t\t\tthis.point_to(dir.right, shiftX);\n\t\t\tif (forward) {\n\t\t\t\tdx -= shiftX;\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t} else {\n\t\t\t\tdx -= 2 * shiftX;\n\t\t\t\tvar sign = dy > 0 ? 1 : -1;\n\n\t\t\t\tthis.point_to(dir.down, sign * (xy.row_height / 2));\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, sign * ( Math.abs(dy) - (xy.row_height / 2)));\n\t\t\t\tthis.point_to(dir.right, shiftX);\n\t\t\t}\n\n\t\t} else if (!lineType.from_start && !lineType.to_start) {\n\t\t\tthis.point_to(dir.right, shiftX);\n\t\t\tif (forward) {\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t} else {\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t}\n\t\t\tthis.point_to(dir.left, shiftX);\n\t\t} else if (lineType.from_start && !lineType.to_start) {\n\n\t\t\tforward = (pt.e_x > (pt.x - 2 * shiftX));\n\t\t\tthis.point_to(dir.left, shiftX);\n\n\t\t\tif (!forward) {\n\t\t\t\tdx += shiftX;\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t} else {\n\t\t\t\tdx += 2 * shiftX;\n\t\t\t\tvar sign = dy > 0 ? 1 : -1;\n\t\t\t\tthis.point_to(dir.down, sign * (xy.row_height / 2));\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, sign * ( Math.abs(dy) - (xy.row_height / 2)));\n\t\t\t\tthis.point_to(dir.left, shiftX);\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.path;\n\t},\n\tget_line_type: function(link, config){\n\t\tvar types = config.links;\n\t\tvar from_start = false, to_start = false;\n\t\tif (link.type == types.start_to_start) {\n\t\t\tfrom_start = to_start = true;\n\t\t} else if (link.type == types.finish_to_finish) {\n\t\t\tfrom_start = to_start = false;\n\t\t} else if (link.type == types.finish_to_start) {\n\t\t\tfrom_start = false;\n\t\t\tto_start = true;\n\t\t} else if (link.type == types.start_to_finish) {\n\t\t\tfrom_start = true;\n\t\t\tto_start = false;\n\t\t} else {\n\t\t\tgantt.assert(false, \"Invalid link type\");\n\t\t}\n\n\t\tif(config.rtl){\n\t\t\tfrom_start = !from_start;\n\t\t\tto_start = !to_start;\n\t\t}\n\n\t\treturn {from_start: from_start, to_start: to_start};\n\t},\n\n\tget_endpoint: function (link, view) {\n\t\tvar config = view.$getConfig();\n\n\t\tvar lineType = this.get_line_type(link, config);\n\t\tvar from_start = lineType.from_start,\n\t\t\tto_start = lineType.to_start;\n\n\t\tvar source = gantt.getTask(link.source);\n\t\tvar target = gantt.getTask(link.target);\n\n\t\tvar from = getMilestonePosition(source, view),\n\t\t\tto = getMilestonePosition(target, view);\n\n\t\treturn {\n\t\t\tx: from_start ? from.left : (from.left + from.width),\n\t\t\te_x: to_start ? to.left : (to.left + to.width),\n\t\t\ty: from.top,\n\t\t\te_y: to.top\n\t\t};\n\t}\n};\n\nfunction getMilestonePosition(task, view){\n\tvar config = view.$getConfig();\n\tvar pos = view.getItemPosition(task);\n\tif(gantt.getTaskType(task.type) == config.types.milestone){\n\t\tvar milestoneHeight = gantt.getTaskHeight();\n\t\tvar milestoneWidth = Math.sqrt(2*milestoneHeight*milestoneHeight);\n\t\tpos.left -= milestoneWidth / 2;\n\t\tpos.width = milestoneWidth;\n\t}\n\treturn pos;\n}\n\nreturn smartRender(\n\t_render_link_element,\n\tfunction(){},\n\tisLinkInViewPort,\n\tgantt.config.smart_rendering && !isLegacyRender(gantt)\n\t);\n}\n\nmodule.exports = createLinkRender;","var smartRender = require(\"./smart_render_wrapper\");\nvar isRowInViewPort = require(\"./viewport/task_row_checker\");\nvar isLegacyRender = require(\"./is_legacy_smart_render\");\nfunction getIndexRange(scale, viewportLeft, viewPortRight){\n\tvar firstCellIndex = 0;\n\tvar lastCellIndex = scale.left.length - 1;\n\tfor(var i = 0; i < scale.left.length; i++){\n\t\tvar left = scale.left[i];\n\t\tif(left < viewportLeft){\n\t\t\tfirstCellIndex = i;\n\t\t}\n\t\tif(left > viewPortRight){\n\t\t\tlastCellIndex = i;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn {\n\t\tstart: firstCellIndex,\n\t\tend: lastCellIndex\n\t};\n}\n\nfunction createTaskBgRender(gantt){\n\tvar renderedCells = {};\n\tvar visibleCells = {};\n\n\tfunction isRendered(item, columnIndex){\n\t\tif(renderedCells[item.id][columnIndex] && renderedCells[item.id][columnIndex].parentNode){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction detachRenderedCell(itemId, columnIndex){\n\t\tif(renderedCells[itemId] && renderedCells[itemId][columnIndex] &&\n\t\t\trenderedCells[itemId][columnIndex].parentNode\n\t\t\t){\n\t\t\t\trenderedCells[itemId][columnIndex].parentNode.removeChild(renderedCells[itemId][columnIndex]);\n\t\t\t}\n\t}\n\n\tfunction getCellTemplate(view){\n\t\tvar templates = view.$getTemplates();\n\t\tvar cssTemplate;\n\t\tif (typeof templates.task_cell_class !== \"undefined\") {\n\t\t\tcssTemplate = templates.task_cell_class;\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tvar log = console.warn || console.log;\n\t\t\tlog('gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.');\n\t\t} else {\n\t\t\tcssTemplate = templates.timeline_cell_class;\n\t\t}\n\t\treturn cssTemplate;\n\t}\n\n\tfunction renderCells(item, view, engine, viewPort){\n\t\tvar config = view.$getConfig();\n\t\tvar cfg = view.getScale();\n\t\tvar count = cfg.count;\n\t\tvar cssTemplate = getCellTemplate(view);\n\n\t\tif (config.show_task_cells) {\n\t\t\tif(!renderedCells[item.id]){\n\t\t\t\trenderedCells[item.id] = {};\n\t\t\t}\n\t\t\tif(!visibleCells[item.id]){\n\t\t\t\tvisibleCells[item.id] = {};\n\t\t\t}\n\n\t\t\tvar range = getIndexRange(cfg, viewPort.x, viewPort.x_end);\n\n\t\t\tvar row = engine.rendered[item.id];\n\n\t\t\tfor(var i in visibleCells[item.id]){\n\t\t\t\tvar index = visibleCells[item.id][i];\n\n\t\t\t\tif(Number(index) < range.start || Number(index) > range.end){\n\t\t\t\t\tdetachRenderedCell(item.id, index);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvisibleCells[item.id][columnIndex] = {};\n\t\t\n\t\t\t// TODO: do not iterate all cell, only ones in the viewport and once that are already rendered\n\t\t\tfor (var columnIndex = range.start; columnIndex <= range.end; columnIndex++) {\n\t\t\t\tvar cell = renderOneCell(cfg, columnIndex, item, viewPort, count, cssTemplate, config);\n\t\t\t\tif(!cell && isRendered(item, columnIndex)){\n\t\t\t\t\tdetachRenderedCell(item.id, columnIndex);\n\t\t\t\t}else if (cell && !cell.parentNode){\n\t\t\t\t\trow.appendChild(cell);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isColumnVisible(columnIndex, scale, viewPort){\n\t\tvar width = scale.width[columnIndex];\n\t\tif(width <= 0){\n\t\t\treturn false;\n\t\t}\n\t\tif(!gantt.config.smart_rendering || isLegacyRender(gantt)){\n\t\t\treturn true;\n\t\t}\n\t\tvar cellLeftCoord = scale.left[columnIndex] - width;\n\t\tvar cellRightCoord = scale.left[columnIndex] + width;\n\t\treturn (cellLeftCoord <= viewPort.x_end && cellRightCoord >= viewPort.x);//do not render skipped columns\n\t}\n\n\tfunction renderOneCell(scale, columnIndex, item, viewPort, count, cssTemplate, config){\n\t\tvar width = scale.width[columnIndex],\n\t\t\tcssclass = \"\";\n\n\t\tif (isColumnVisible(columnIndex, scale, viewPort)) {//do not render skipped columns\n\t\t\t\n\t\t\tvar cssTemplateContent = cssTemplate(item, scale.trace_x[columnIndex]);\n\n\t\t\tif(config.static_background){\n\t\t\t\t// if cell render in static background is not allowed, or if it's a blank cell\n\t\t\t\tif(!(config.static_background_cells && cssTemplateContent)){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(renderedCells[item.id][columnIndex]){\n\t\t\t\tvisibleCells[item.id][columnIndex] = columnIndex;\n\t\t\t\treturn renderedCells[item.id][columnIndex];\n\t\t\t}\n\t\t\tvar cell = document.createElement(\"div\");\n\t\t\tcell.style.width = (width) + \"px\";\n\n\t\t\tcssclass = \"gantt_task_cell\" + (columnIndex == count - 1 ? \" gantt_last_cell\" : \"\");\n\t\t\tif (cssTemplateContent) {\n\t\t\t\tcssclass += \" \" + cssTemplateContent;\n\t\t\t}\n\t\t\tcell.className = cssclass;\n\n\t\t\tif(gantt.config.smart_rendering){\n\t\t\t\tcell.style.position = \"absolute\";\n\t\t\t\tcell.style.left = scale.left[columnIndex] + \"px\";\n\t\t\t\trenderedCells[item.id][columnIndex] = cell;\n\t\t\t\tvisibleCells[item.id][columnIndex] = columnIndex;\n\t\t\t}\n\t\t\treturn cell;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction _render_bg_line(item, view, viewPort) {\n\t\tvar config = view.$getConfig(),\n\t\t\ttemplates = view.$getTemplates();\n\t\tvar cfg = view.getScale();\n\t\tvar count = cfg.count;\n\n\t\tif(config.static_background && !config.static_background_cells){\n\t\t\treturn null;\n\t\t}\n\n\t\tvar row = document.createElement(\"div\");\n\n\t\tvar cellTemplate = getCellTemplate(view);\n\n\t\tvar range = getIndexRange(cfg, viewPort.x, viewPort.x_end);\n\n\t\tif(!config.smart_rendering || isLegacyRender(gantt)){\n\t\t\trange = {\n\t\t\t\tstart: 0,\n\t\t\t\tend: count - 1\n\t\t\t};\n\t\t}\n\t\tif (config.show_task_cells) {\n\t\t\trenderedCells[item.id] = {};\n\t\t\tvisibleCells[item.id] = {};\n\t\t\tfor (var columnIndex = range.start; columnIndex <= range.end; columnIndex++) {\n\t\t\t\tvar cell = renderOneCell(cfg, columnIndex, item, viewPort, count, cellTemplate, config);\n\t\t\t\tif(cell){\n\t\t\t\t\trow.appendChild(cell);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar odd = gantt.getGlobalTaskIndex(item.id) % 2 !== 0;\n\t\tvar cssTemplate = templates.task_row_class(item.start_date, item.end_date, item);\n\t\tvar css = \"gantt_task_row\" + (odd ? \" odd\" : \"\") + (cssTemplate ? ' ' + cssTemplate : '');\n\n\t\tvar store = view.$config.rowStore;\n\t\tif(store.isSelected(item.id)) {\n\t\t\tcss += \" gantt_selected\";\n\t\t}\n\n\t\trow.className = css;\n\n\t\tif (config.smart_rendering) {\n\t\t\trow.style.position = \"absolute\";\n\t\t\trow.style.top = view.getItemTop(item.id) + \"px\";\n\t\t\trow.style.width = \"100%\";\n\t\t}\n\t\trow.style.height = (config.row_height) + \"px\";\n\n\t\tif(view.$config.item_attribute){\n\t\t\trow.setAttribute(view.$config.item_attribute, item.id);\n\t\t}\n\n\t\treturn row;\n\t}\n\n\treturn smartRender(\n\t\t_render_bg_line,\n\t\trenderCells,\n\t\tisRowInViewPort,\n\t\tgantt.config.smart_rendering && !isLegacyRender(gantt)\n\t);\n}\n\nmodule.exports = createTaskBgRender;\n","var smartRender = require(\"./smart_render_wrapper\");\nvar isBarInViewPort = require(\"./viewport/task_bar_checker\");\nvar createBaseBarRender = require(\"./task_bar_render\");\nvar isLegacyRender = require(\"./is_legacy_smart_render\");\nfunction createTaskRenderer(gantt){\n\tvar defaultRender = createBaseBarRender(gantt);\n\n\tfunction renderSplitTask(task, timeline) {\n\t\tif (gantt.isSplitTask(task) && ((gantt.config.open_split_tasks && !task.$open) || !gantt.config.open_split_tasks)) {\n\t\t\tvar el = document.createElement('div'),\n\t\t\t\tsizes = gantt.getTaskPosition(task);\n\n\t\t\tvar sub_tasks = gantt.getChildren(task.id);\n\n\n\t\t\tfor (var i = 0; i < sub_tasks.length; i++) {\n\t\t\t\tvar child = gantt.getTask(sub_tasks[i]);\n\n\t\t\t\tvar element = defaultRender(child, timeline);\n\t\t\t\tif(!element)\n\t\t\t\t\tcontinue;\n\n\t\t\t\tvar padding = Math.floor((gantt.config.row_height - sizes.height) / 2);\n\n\t\t\t\telement.style.top = (sizes.top + padding) + \"px\";\n\t\t\t\telement.className += \" gantt_split_child\";\n\n\t\t\t\tel.appendChild(element);\n\t\t\t}\n\t\t\treturn el;\n\t\t}\n\t\treturn false;\n\t}\n\n\treturn smartRender(\n\t\trenderSplitTask,\n\t\tfunction(){},\n\t\tisBarInViewPort,\n\t\tgantt.config.smart_rendering && !isLegacyRender(gantt)\n\t);\n}\n\nmodule.exports = createTaskRenderer;","var smartRender = require(\"./smart_render_wrapper\");\nvar isBarInViewPort = require(\"./viewport/task_bar_checker\");\nvar createBaseBarRender = require(\"./task_bar_render\");\nvar isLegacyRender = require(\"./is_legacy_smart_render\");\nmodule.exports = function createTaskRenderer(gantt){\n\tvar defaultRender = createBaseBarRender(gantt);\n\n\treturn smartRender(\n\t\tdefaultRender,\n\t\tfunction(){},\n\t\tisBarInViewPort,\n\t\tgantt.config.smart_rendering && !isLegacyRender(gantt)\n\t);\n};","module.exports = function (gantt) {\n\treturn function processTaskDateProperties(item, mapTo, mode) {\n\t\tif (mode == \"keepDates\") {\n\t\t\tkeepDatesOnEdit(item, mapTo);\n\t\t} else if (mode == \"keepDuration\") {\n\t\t\tkeepDurationOnEdit(item, mapTo);\n\t\t} else {\n\t\t\tdefaultActionOnEdit(item, mapTo);\n\t\t}\n\t};\n\n\t// resize task\n\t// resize task when start/end/duration changes\n\tfunction keepDatesOnEdit(item, mapTo) {\n\t\tif (mapTo == \"duration\") {\n\t\t\titem.end_date = gantt.calculateEndDate(item);\n\t\t} else if (mapTo == \"end_date\" || mapTo == \"start_date\") {\n\t\t\titem.duration = gantt.calculateDuration(item);\n\t\t}\n\t}\n\n\t// move task(before 6.2)\n\t// move task when start/end dates changes\n\t// resize task when duration changes\n\tfunction keepDurationOnEdit(item, mapTo) {\n\t\tif (mapTo == \"end_date\") {\n\t\t\titem.start_date = gantt.calculateEndDate({\n\t\t\t\tstart_date: item.end_date,\n\t\t\t\tduration: -item.duration,\n\t\t\t\ttask: item\n\t\t\t}\n\t\t\t);\n\t\t} else if (mapTo == \"start_date\" || mapTo == \"duration\") {\n\t\t\titem.end_date = gantt.calculateEndDate(item);\n\t\t}\n\t}\n\n\t// default behavior\n\t// move task when start date changes\n\t// resize task when end date/duration changes\n\tfunction defaultActionOnEdit(item, mapTo) {\n\t\tif (mapTo == \"start_date\" || mapTo == \"duration\") {\n\t\t\titem.end_date = gantt.calculateEndDate(item);\n\t\t} else if (mapTo == \"end_date\") {\n\t\t\titem.duration = gantt.calculateDuration(item);\n\t\t}\n\t}\n};","module.exports = function (gantt) {\n\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction PredecessorEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(PredecessorEditor, BaseEditor);\n\n\tfunction parseInputString(value, config) {\n\t\tvar predecessors = (value || \"\").split(config.delimiter || \",\");\n\t\tfor (var i = 0; i < predecessors.length; i++) {\n\t\t\tvar val = predecessors[i].trim();\n\t\t\tif (val) {\n\t\t\t\tpredecessors[i] = val;\n\t\t\t} else {\n\t\t\t\tpredecessors.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\tpredecessors.sort();\n\t\treturn predecessors;\n\t}\n\n\tfunction formatPredecessors(task, config, gantt) {\n\t\tvar links = task.$target;\n\t\tvar labels = [];\n\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\tvar link = gantt.getLink(links[i]);\n\t\t\tvar pred = gantt.getTask(link.source);\n\t\t\tlabels.push(gantt.getWBSCode(pred));\n\t\t}\n\t\treturn labels.join((config.delimiter || \",\") + \" \");\n\t}\n\n\tfunction getSelectedLinks(taskId, predecessorCodes) {\n\t\tvar links = [];\n\t\tpredecessorCodes.forEach(function (code) {\n\t\t\tvar predecessor = gantt.getTaskByWBSCode(code);\n\t\t\tif (predecessor) {\n\t\t\t\tvar link = {\n\t\t\t\t\tsource: predecessor.id,\n\t\t\t\t\ttarget: taskId,\n\t\t\t\t\ttype: gantt.config.links.finish_to_start,\n\t\t\t\t\tlag: 0\n\t\t\t\t};\n\t\t\t\tif (gantt.isLinkAllowed(link)) {\n\t\t\t\t\tlinks.push(link);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn links;\n\t}\n\n\tfunction getLinksDiff(task, predecessorCodes) {\n\t\tvar selectedLinks = getSelectedLinks(task.id, predecessorCodes);\n\t\tvar existingLinksSearch = {};\n\t\ttask.$target.forEach(function (linkId) {\n\t\t\tvar link = gantt.getLink(linkId);\n\t\t\texistingLinksSearch[link.source + \"_\" + link.target] = link.id;\n\t\t});\n\n\t\tvar linksToAdd = [];\n\t\tselectedLinks.forEach(function (link) {\n\t\t\tvar linkKey = link.source + \"_\" + link.target;\n\t\t\tif (!existingLinksSearch[linkKey]) {\n\t\t\t\tlinksToAdd.push(link);\n\t\t\t} else {\n\t\t\t\tdelete existingLinksSearch[linkKey];\n\t\t\t}\n\t\t});\n\n\t\tvar linksToDelete = [];\n\t\tfor (var i in existingLinksSearch) {\n\t\t\tlinksToDelete.push(existingLinksSearch[i]);\n\t\t}\n\n\t\treturn {\n\t\t\tadd: linksToAdd,\n\t\t\tremove: linksToDelete\n\t\t};\n\t}\n\n\tutils.mixin(PredecessorEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar html = \"<div><input type='text' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\thide: function () {\n\t\t},\n\t\tset_value: function (value, id, column, node) {\n\t\t\tthis.get_input(node).value = formatPredecessors(value, column.editor, gantt);\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\treturn parseInputString((this.get_input(node).value || \"\"), column.editor);\n\t\t},\n\t\tsave: function (id, column, node) {\n\t\t\tvar task = gantt.getTask(id);\n\n\t\t\tvar linksDiff = getLinksDiff(task, this.get_value(id, column, node));\n\n\t\t\tif (linksDiff.add.length || linksDiff.remove.length) {\n\t\t\t\tgantt.batchUpdate(function () {\n\t\t\t\t\tlinksDiff.add.forEach(function (link) {\n\t\t\t\t\t\tgantt.addLink(link);\n\t\t\t\t\t});\n\t\t\t\t\tlinksDiff.remove.forEach(function (linkId) {\n\t\t\t\t\t\tgantt.deleteLink(linkId);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (gantt.autoSchedule)\n\t\t\t\t\t\tgantt.autoSchedule();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tis_changed: function (value, id, column, node) {\n\t\t\tvar inputPredecessors = this.get_value(id, column, node);\n\t\t\tvar taskPredecessors = parseInputString(formatPredecessors(value, column.editor, gantt), column.editor);\n\n\t\t\treturn inputPredecessors.join() !== taskPredecessors.join();\n\t\t}\n\t}, true);\n\n\treturn PredecessorEditor;\n};","module.exports = function (gantt) {\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tvar html5DateFormat = \"%Y-%m-%d\";\n\n\tvar dateToStr = null;\n\tvar strToDate = null;\n\n\tfunction init() {\n\t\tif (!dateToStr) {\n\t\t\tdateToStr = gantt.date.date_to_str(html5DateFormat);\n\t\t}\n\t\tif (!strToDate) {\n\t\t\tstrToDate = gantt.date.str_to_date(html5DateFormat);\n\t\t}\n\t}\n\n\tfunction DateEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\n\t\treturn self;\n\t}\n\n\t__extends(DateEditor, BaseEditor);\n\n\tutils.mixin(DateEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\n\t\t\tinit();\n\t\t\tvar minValue = dateToStr(config.min || gantt.getState().min_date);\n\t\t\tvar maxValue = dateToStr(config.max || gantt.getState().max_date);\n\n\t\t\tvar html = \"<div style='width:140px'><input type='date' min='\" + minValue + \"' max='\" + maxValue + \"' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\tset_value: function (value, id, column, node) {\n\t\t\tif (value && value.getFullYear) {\n\t\t\t\tthis.get_input(node).value = dateToStr(value);\n\t\t\t} else {\n\t\t\t\tthis.get_input(node).value = value;\n\t\t\t}\n\t\t},\n\t\tis_valid: function (value, id, column, node) {\n\t\t\tif (!value || isNaN(value.getTime()))\n\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\tvar parsed;\n\t\t\ttry {\n\t\t\t\tparsed = strToDate(this.get_input(node).value || \"\");\n\t\t\t} catch (e) {\n\t\t\t\tparsed = null;// return null will cancel changes\n\t\t\t}\n\n\t\t\treturn parsed;\n\t\t}\n\t}, true);\n\n\treturn DateEditor;\n};\n","module.exports = function(gantt) {\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction SelectEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(SelectEditor, BaseEditor);\n\n\tutils.mixin(SelectEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar html = \"<div><select name='\" + column.name + \"'>\";\n\t\t\tvar optionsHtml = [],\n\t\t\t\toptions = config.options || [];\n\n\t\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\t\toptionsHtml.push(\"<option value='\" + config.options[i].key + \"'>\" + options[i].label + \"</option>\");\n\t\t\t}\n\n\t\t\thtml += optionsHtml.join(\"\") + \"</select></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\tget_input: function (node) {\n\t\t\treturn node.querySelector(\"select\");\n\t\t}\n\t}, true);\n\n\treturn SelectEditor;\n};","module.exports = function (gantt) {\n\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction NumberEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(NumberEditor, BaseEditor);\n\n\tutils.mixin(NumberEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar min = config.min || 0,\n\t\t\t\tmax = config.max || 100;\n\n\t\t\tvar html = \"<div><input type='number' min='\" + min + \"' max='\" + max + \"' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\treturn this.get_input(node).value || \"\";\n\t\t},\n\t\tis_valid: function (value, id, column, node) {\n\t\t\treturn !isNaN(parseInt(value, 10));\n\t\t}\n\t}, true);\n\n\treturn NumberEditor;\n};","module.exports = function(gantt) {\n\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction TextEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(TextEditor, BaseEditor);\n\n\tutils.mixin(TextEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar html = \"<div><input type='text' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t}\n\t}, true);\n\n\treturn TextEditor;\n};","module.exports = {\n\tinit: function(controller, grid){\n\t\tvar self = controller;\n\t\tvar gantt = grid.$gantt;\n\n\t\tvar onBlurDelay = null;\n\t\tvar keyNav = gantt.ext.keyboardNavigation;\n\t\tkeyNav.attachEvent(\"onBeforeFocus\", function (node) {\n\t\t\tvar activeCell = controller.locateCell(node);\n\t\t\tclearTimeout(onBlurDelay);\n\t\t\tif (activeCell) {\n\t\t\t\tvar columnName = activeCell.columnName;\n\t\t\t\tvar id = activeCell.id;\n\n\t\t\t\tvar editorState = self.getState();\n\t\t\t\tif(self.isVisible()){\n\t\t\t\t\tif(editorState.id == id && editorState.columnName === columnName) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tkeyNav.attachEvent(\"onFocus\", function (node) {\n\t\t\tvar activeCell = controller.locateCell(node);\n\t\t\tvar state = controller.getState();\n\t\t\tclearTimeout(onBlurDelay);\n\t\t\tif (activeCell && !(activeCell.id == state.id && activeCell.columnName == state.columnName)) {\n\t\t\t\tif(self.isVisible()){\n\t\t\t\t\tself.save();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tcontroller.attachEvent(\"onHide\", function(){\n\t\t\tclearTimeout(onBlurDelay);\n\t\t});\n\n\t\tkeyNav.attachEvent(\"onBlur\", function () {\n\t\t\tonBlurDelay = setTimeout(function(){\n\t\t\t\tself.save();\n\t\t\t});\n\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onTaskDblClick\", function(id,e){\n\t\t\t// block lightbox on double click inside editor\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\t\t\tif(cell && controller.isVisible() && cell.columnName == state.columnName){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onTaskClick\", function (id, e) {\n\t\t\tif(gantt._is_icon_open_click(e))\n\t\t\t\treturn true;\n\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\n\t\t\tif (cell && controller.getEditorConfig(cell.columnName)) {\n\t\t\t\tif(controller.isVisible() && state.id == cell.id && state.columnName == cell.columnName){\n\t\t\t\t\t// do nothing if editor is already active in this cell\n\t\t\t\t}else{\n\t\t\t\t\tcontroller.startEdit(cell.id, cell.columnName);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tgantt.attachEvent(\"onEmptyClick\", function () {\n\t\t\tself.save();\n\t\t\treturn true;\n\t\t});\n\n\t\tkeyNav.attachEvent(\"onKeyDown\", function(command, e){\n\t\t\tvar activeCell = controller.locateCell(e.target);\n\t\t\tvar hasEditor = activeCell ? controller.getEditorConfig(activeCell.columnName) : false;\n\n\t\t\tvar state = controller.getState();\n\t\t\tvar keyboard = gantt.constants.KEY_CODES;\n\t\t\tvar keyCode = e.keyCode;\n\t\t\tvar preventKeyNav = false;\n\n\t\t\tswitch (keyCode){\n\t\t\t\tcase keyboard.ENTER:\n\t\t\t\t\tif(controller.isVisible()){\n\t\t\t\t\t\tcontroller.save();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}else if(hasEditor && !(e.ctrlKey || e.metaKey || e.shiftKey)){\n\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.ESC:\n\t\t\t\t\tif(controller.isVisible()){\n\t\t\t\t\t\tcontroller.hide();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.UP:\n\t\t\t\tcase keyboard.DOWN:\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.LEFT:\n\t\t\t\tcase keyboard.RIGHT:\n\t\t\t\t\tif(state.editorType === \"date\"){\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.SPACE:\n\t\t\t\t\tif(controller.isVisible()){\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(hasEditor && !controller.isVisible()){\n\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.DELETE:\n\t\t\t\t\tif(hasEditor && !controller.isVisible()){\n\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.TAB:\n\t\t\t\t\tif(controller.isVisible()){\n\n\t\t\t\t\t\tif(e.shiftKey){\n\t\t\t\t\t\t\tcontroller.editPrevCell(true);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcontroller.editNextCell(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar newState = controller.getState();\n\t\t\t\t\t\tif(newState.id){\n\t\t\t\t\t\t\tkeyNav.focus({type:\"taskCell\", id: newState.id, column:newState.columnName});\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif(controller.isVisible())\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\telse{\n\n\t\t\t\t\t\t// start editing on character key\n\t\t\t\t\t\tif((keyCode >= 48 && keyCode <= 57) || // [0-9]\n\t\t\t\t\t\t\t(keyCode > 95 && keyCode < 112) || // numpad\n\t\t\t\t\t\t\t(keyCode >= 64 && keyCode <= 91) || // [a-z]\n\t\t\t\t\t\t\t(keyCode > 185 && keyCode < 193) || //;=-,etc\n\t\t\t\t\t\t\t(keyCode > 218  && keyCode < 223)\n\t\t\t\t\t\t){\n\t\t\t\t\t\t\tvar modifiers = command.modifiers;\n\n\t\t\t\t\t\t\tvar anyModifier = modifiers.alt || modifiers.ctrl || modifiers.meta || modifiers.shift;\n\t\t\t\t\t\t\tif(modifiers.alt){\n\t\t\t\t\t\t\t\t// don't start editing on alt+key\n\t\t\t\t\t\t\t}else if (anyModifier && keyNav.getCommandHandler(command, \"taskCell\")){\n\t\t\t\t\t\t\t\t// don't start editing if command already have a keyboard shortcut\n\t\t\t\t\t\t\t}else if(hasEditor && !controller.isVisible()){\n\t\t\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (preventKeyNav){\n\t\t\t\treturn false;\n\t\t\t} else{\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t});\n\t},\n\tonShow: function(controller, placeholder, grid){},\n\tonHide: function(controller, placeholder, grid){\n\t\tvar gantt = grid.$gantt;\n\t\tgantt.focus();\n\n\t},\n\tdestroy: function(){}\n};\n\n","module.exports = {\n\tinit: function (controller, grid) {\n\t\tvar gantt = grid.$gantt;\n\n\t\tgantt.attachEvent(\"onTaskClick\", function (id, e) {\n\t\t\tif (gantt._is_icon_open_click(e))\n\t\t\t\treturn true;\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\n\t\t\tif (cell && controller.getEditorConfig(cell.columnName)) {\n\t\t\t\tif (controller.isVisible() && state.id == cell.id && state.columnName == cell.columnName) {\n\t\t\t\t\t// do nothing if editor is already active in this cell\n\t\t\t\t} else {\n\t\t\t\t\tcontroller.startEdit(cell.id, cell.columnName);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onEmptyClick\", function () {\n\t\t\tif (controller.isVisible() && controller.isChanged()) {\n\t\t\t\tcontroller.save();\n\t\t\t} else {\n\t\t\t\tcontroller.hide();\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onTaskDblClick\", function (id, e) {\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\t\t\tif (cell && controller.isVisible() && cell.columnName == state.columnName) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t},\n\n\tonShow: function (controller, placeholder, grid) {\n\t\tif (grid.$getConfig().keyboard_navigation) {\n\t\t\t// keyboard navigation extension will handle arrows if enabled\n\t\t\treturn;\n\t\t}\n\t\tvar gantt = grid.$gantt;\n\t\tplaceholder.onkeydown = function (e) {\n\t\t\te = e || window.event;\n\n\t\t\tvar keyboard = gantt.constants.KEY_CODES;\n\t\t\tif (e.defaultPrevented || (e.shiftKey && e.keyCode != keyboard.TAB)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar shouldPrevent = true;\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase gantt.keys.edit_save:\n\t\t\t\t\tcontroller.save();\n\t\t\t\t\tbreak;\n\t\t\t\tcase gantt.keys.edit_cancel:\n\t\t\t\t\tcontroller.hide();\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.TAB:\n\t\t\t\t\tif (e.shiftKey) {\n\t\t\t\t\t\tcontroller.editPrevCell(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontroller.editNextCell(true);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tshouldPrevent = false;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (shouldPrevent) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t};\n\t},\n\tonHide: function () {\n\n\t},\n\n\tdestroy: function () {\n\n\t}\n};\n\n","var defaultMapping = require(\"./keyboard_mappings/default\");\nvar keyNavMappings = require(\"./keyboard_mappings/keyboard_navigation\");\n\nmodule.exports = function(gantt){\n\n\tvar mapping = null;\n\n\treturn {\n\t\tsetMapping: function(map){\n\t\t\tmapping = map;\n\t\t},\n\t\tgetMapping: function(){\n\n\t\t\tif(mapping){\n\t\t\t\treturn mapping;\n\t\t\t}else if(gantt.config.keyboard_navigation_cells){\n\t\t\t\treturn keyNavMappings;\n\t\t\t}else{\n\t\t\t\treturn defaultMapping;\n\t\t\t}\n\t\t}\n\t};\n};\n","var getKeyboardMapping = require(\"./keyboard_mappings\");\nvar textEditorFactory = require(\"./editors/text\"),\n\tnumberEditorFactory = require(\"./editors/number\"),\n\tselectEditorFactory = require(\"./editors/select\"),\n\tdateEditorFactory = require(\"./editors/date\"),\n\tpredecessorEditorFactory = require(\"./editors/predecessor\");\nvar utils = require(\"../../../../utils/utils\");\nvar domHelpers = require(\"../../../../utils/dom_helpers\");\nvar eventable = require(\"../../../../utils/eventable\");\nvar linkedPropertiesProcessor = require(\"./linked_properties\");\n\nfunction initConfigs(gantt){\n\tgantt.config.editor_types = {\n\t\ttext: new (textEditorFactory(gantt))(),\n\t\tnumber: new (numberEditorFactory(gantt))(),\n\t\tselect: new (selectEditorFactory(gantt))(),\n\t\tdate: new (dateEditorFactory(gantt))(),\n\t\tpredecessor: new (predecessorEditorFactory(gantt))()\n\t};\n}\n\nfunction create(gantt){\n\tvar keyboardMapping = getKeyboardMapping(gantt);\n\n\tvar eventBus = {};\n\teventable(eventBus);\n\n\tfunction createGridEditors(grid) {\n\n\t\tfunction _getGridCellFromNode(node){\n\t\t\tif(!domHelpers.isChildOf(node, grid.$grid)){\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar row = domHelpers.locateAttribute(node, grid.$config.item_attribute);\n\t\t\tvar cell = domHelpers.locateAttribute(node, \"data-column-name\");\n\t\t\tif(cell){\n\t\t\t\tvar columnName = cell.getAttribute(\"data-column-name\");\n\t\t\t\tvar id = row.getAttribute(grid.$config.item_attribute);\n\t\t\t\treturn {\n\t\t\t\t\tid: id,\n\t\t\t\t\tcolumnName: columnName\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfunction _getEditorPosition(itemId, columnName) {\n\t\t\tvar top = grid.getItemTop(itemId);\n\t\t\tvar height = grid.getItemHeight(itemId);\n\t\t\tvar cols = grid.getGridColumns();\n\t\t\tvar left = 0,\n\t\t\t\twidth = 0;\n\n\t\t\tfor (var i = 0; i < cols.length; i++) {\n\t\t\t\tif (cols[i].name == columnName) {\n\t\t\t\t\twidth = cols[i].width;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tleft += cols[i].width;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttop: top,\n\t\t\t\tleft: left,\n\t\t\t\theight: height,\n\t\t\t\twidth: width\n\t\t\t};\n\t\t}\n\n\t\tfunction findVisibleIndex(grid, columnName) {\n\t\t\tvar columns = grid.getGridColumns();\n\t\t\tfor (var i = 0; i < columns.length; i++){\n\t\t\t\tif(columns[i].name == columnName){\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\tfunction _createPlaceholder(itemId, columnName) {\n\t\t\tvar pos = _getEditorPosition(itemId, columnName);\n\t\t\tvar el = document.createElement(\"div\");\n\t\t\tel.className = \"gantt_grid_editor_placeholder\";\n\t\t\tel.setAttribute(grid.$config.item_attribute, itemId);\n\t\t\tel.setAttribute(\"data-column-name\", columnName);\n\n\t\t\tvar visibleIndex = findVisibleIndex(grid, columnName);\n\t\t\tel.setAttribute(\"data-column-index\", visibleIndex);\n\n\t\t\tel.style.cssText = [\n\t\t\t\t\"top:\" + pos.top + \"px\",\n\t\t\t\t\"left:\" + pos.left + \"px\",\n\t\t\t\t\"width:\" + pos.width + \"px\",\n\t\t\t\t\"height:\" + pos.height + \"px\"\n\t\t\t].join(\";\");\n\n\t\t\treturn el;\n\t\t}\n\n\t\tvar updateTaskDateProperties = linkedPropertiesProcessor(gantt);\n\n\t\tvar handlers = [];\n\t\tvar store = null;\n\t\tvar controller = {\n\t\t\t_itemId: null,\n\t\t\t_columnName: null,\n\t\t\t_editor: null,\n\t\t\t_editorType: null,\n\t\t\t_placeholder: null,\n\n\t\t\tlocateCell: _getGridCellFromNode,\n\t\t\tgetEditorConfig: function (columnName) {\n\t\t\t\tvar column = grid.getColumn(columnName);\n\t\t\t\treturn column.editor;\n\t\t\t},\n\n\t\t\tinit: function () {\n\t\t\t\tvar mapping = keyboardMapping.getMapping();\n\t\t\t\tif(mapping.init){\n\t\t\t\t\tmapping.init(this, grid);\n\t\t\t\t}\n\n\t\t\t\tstore = grid.$gantt.getDatastore(grid.$config.bind);\n\n\t\t\t\tvar self = this;\n\n\t\t\t\thandlers.push(store.attachEvent(\"onIdChange\", function(oldId, newId){\n\t\t\t\t\tif(self._itemId == oldId){\n\t\t\t\t\t\tself._itemId = newId;\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t\thandlers.push(store.attachEvent(\"onStoreUpdated\", function(){\n\t\t\t\t\tif(grid.$gantt.getState(\"batchUpdate\").batch_update){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(self.isVisible() && !store.isVisible(self._itemId)){\n\t\t\t\t\t\tself.hide();\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\tthis.init = function(){};\n\t\t\t},\n\n\t\t\tgetState: function(){\n\t\t\t\treturn {\n\t\t\t\t\teditor: this._editor,\n\t\t\t\t\teditorType: this._editorType,\n\t\t\t\t\tplaceholder: this._placeholder,\n\t\t\t\t\tid: this._itemId,\n\t\t\t\t\tcolumnName: this._columnName\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tstartEdit: function(itemId, columnName) {\n\t\t\t\tif (this.isVisible()) {\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\n\t\t\t\tif(!store.exists(itemId)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar editorState = {id: itemId, columnName: columnName};\n\t\t\t\tif (gantt.isReadonly(store.getItem(itemId))) {\n\t\t\t\t\tthis.callEvent(\"onEditPrevent\", [editorState]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.callEvent(\"onBeforeEditStart\", [editorState]) === false) {\n\t\t\t\t\tthis.callEvent(\"onEditPrevent\", [editorState]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.show(editorState.id, editorState.columnName);\n\t\t\t\tthis.setValue();\n\n\t\t\t\tthis.callEvent(\"onEditStart\", [editorState]);\n\t\t\t},\n\t\t\tisVisible: function(){\n\t\t\t\treturn !!(this._editor && domHelpers.isChildOf(this._placeholder, document.body));\n\t\t\t},\n\t\t\tshow: function (itemId, columnName) {\n\t\t\t\tif (this.isVisible()) {\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\t\t\t\tvar editorState = {id: itemId, columnName: columnName};\n\n\t\t\t\tvar column = grid.getColumn(editorState.columnName);\n\t\t\t\tvar editorConfig = this.getEditorConfig(column.name);\n\t\t\t\tif(!editorConfig)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar editor = grid.$getConfig().editor_types[editorConfig.type];\n\n\t\t\t\tvar placeholder = _createPlaceholder(editorState.id, editorState.columnName);\n\t\t\t\tgrid.$grid_data.appendChild(placeholder);\n\t\t\t\teditor.show(editorState.id, column, editorConfig, placeholder);\n\t\t\t\tthis._editor = editor;\n\t\t\t\tthis._placeholder = placeholder;\n\t\t\t\tthis._itemId = editorState.id;\n\t\t\t\tthis._columnName = editorState.columnName;\n\t\t\t\tthis._editorType = editorConfig.type;\n\n\t\t\t\tvar mapping = keyboardMapping.getMapping();\n\t\t\t\tif(mapping.onShow){\n\t\t\t\t\tmapping.onShow(this, placeholder, grid);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tsetValue: function () {\n\t\t\t\tvar state = this.getState();\n\t\t\t\tvar itemId = state.id,\n\t\t\t\t\tcolumnName = state.columnName;\n\n\t\t\t\tvar column = grid.getColumn(columnName);\n\t\t\t\tvar item = store.getItem(itemId);\n\t\t\t\tvar editorConfig = this.getEditorConfig(columnName);\n\n\t\t\t\tif(!editorConfig)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar value = item[editorConfig.map_to];\n\t\t\t\tif(editorConfig.map_to == \"auto\"){\n\t\t\t\t\tvalue = store.getItem(itemId);\n\t\t\t\t}\n\n\t\t\t\tthis._editor.set_value(value, itemId, column, this._placeholder);\n\t\t\t\tthis.focus();\n\t\t\t},\n\n\t\t\tfocus: function(){\n\t\t\t\tthis._editor.focus(this._placeholder);\n\t\t\t},\n\n\t\t\tgetValue: function () {\n\t\t\t\tvar column = grid.getColumn(this._columnName);\n\t\t\t\treturn this._editor.get_value(this._itemId, column, this._placeholder);\n\t\t\t},\n\n\t\t\t_getItemValue: function() {\n\t\t\t\tvar editorConfig = this.getEditorConfig(this._columnName);\n\n\t\t\t\tif(!editorConfig)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar item = gantt.getTask(this._itemId);\n\t\t\t\tvar value = item[editorConfig.map_to];\n\t\t\t\tif(editorConfig.map_to == \"auto\"){\n\t\t\t\t\tvalue = store.getItem(this._itemId);\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t},\n\n\t\t\tisChanged: function(){\n\n\t\t\t\tvar column = grid.getColumn(this._columnName);\n\n\t\t\t\tvar value = this._getItemValue();\n\n\t\t\t\treturn this._editor.is_changed(value, this._itemId, column, this._placeholder);\n\t\t\t},\n\n\t\t\thide: function () {\n\t\t\t\tif(!this._itemId)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar itemId = this._itemId,\n\t\t\t\t\tcolumnName = this._columnName;\n\n\t\t\t\tvar mapping = keyboardMapping.getMapping();\n\t\t\t\tif(mapping.onHide){\n\t\t\t\t\tmapping.onHide(this, this._placeholder, grid);\n\t\t\t\t}\n\n\t\t\t\tthis._itemId = null;\n\t\t\t\tthis._columnName = null;\n\t\t\t\tthis._editorType = null;\n\t\t\t\tif (!this._placeholder) return;\n\n\t\t\t\tif (this._editor) {\n\t\t\t\t\tthis._editor.hide(this._placeholder);\n\t\t\t\t}\n\t\t\t\tthis._editor = null;\n\t\t\t\tif (this._placeholder.parentNode) {\n\t\t\t\t\tthis._placeholder.parentNode.removeChild(this._placeholder);\n\t\t\t\t}\n\t\t\t\tthis._placeholder = null;\n\n\t\t\t\tthis.callEvent(\"onEditEnd\", [{id: itemId, columnName: columnName}]);\n\t\t\t},\n\t\t\tsave: function () {\n\t\t\t\tif(!(this.isVisible() && store.exists(this._itemId) && this.isChanged())) {\n\t\t\t\t\tthis.hide();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar itemId = this._itemId,\n\t\t\t\t\tcolumnName = this._columnName;\n\n\t\t\t\tif(!store.exists(itemId)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar item = store.getItem(itemId);\n\t\t\t\tvar editorConfig = this.getEditorConfig(columnName);\n\t\t\t\tvar editorState = {\n\t\t\t\t\tid: itemId,\n\t\t\t\t\tcolumnName: columnName,\n\t\t\t\t\tnewValue: this.getValue(),\n\t\t\t\t\toldValue: this._getItemValue()\n\t\t\t\t};\n\t\t\t\tif (this.callEvent(\"onBeforeSave\", [editorState]) !== false) {\n\t\t\t\t\tif (this._editor.is_valid(editorState.newValue, editorState.id, editorState.columnName, this._placeholder)) {\n\n\t\t\t\t\t\tvar mapTo = editorConfig.map_to;\n\t\t\t\t\t\tvar value = editorState.newValue;\n\t\t\t\t\t\tif (mapTo != \"auto\") {\n\t\t\t\t\t\t\titem[mapTo] = value;\n\t\t\t\t\t\t\tupdateTaskDateProperties(item, mapTo, gantt.config.inline_editors_date_processing);\n\n\t\t\t\t\t\t\tstore.updateItem(itemId);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._editor.save(itemId, grid.getColumn(columnName), this._placeholder);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.callEvent(\"onSave\", [editorState]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.hide();\n\t\t\t},\n\n\t\t\t_findEditableCell: function findEditableCell(start, direction){\n\t\t\t\tvar nextIndex = start;\n\t\t\t\tvar columns = grid.getGridColumns();\n\t\t\t\tvar nextColumn = columns[nextIndex];\n\n\t\t\t\tvar columnName = nextColumn ? nextColumn.name : null;\n\t\t\t\tif(columnName){\n\t\t\t\t\twhile(columnName && !this.getEditorConfig(columnName)){\n\t\t\t\t\t\tcolumnName = this._findEditableCell(start + direction, direction);\n\t\t\t\t\t}\n\t\t\t\t\treturn columnName;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tgetNextCell: function moveCell(dir){\n\t\t\t\treturn this._findEditableCell(grid.getColumnIndex(this._columnName) + dir, dir);\n\t\t\t},\n\n\t\t\tgetFirstCell: function getFirstCell(){\n\t\t\t\treturn this._findEditableCell(0, 1);\n\t\t\t},\n\n\t\t\tgetLastCell: function getLastCell(){\n\t\t\t\treturn this._findEditableCell(grid.getGridColumns().length - 1, -1);\n\t\t\t},\n\n\t\t\teditNextCell: function nextCell(canChangeRow){\n\t\t\t\tvar cell = this.getNextCell(1);\n\t\t\t\tif(cell){\n\t\t\t\t\tvar nextColumn = this.getNextCell(1);\n\t\t\t\t\tif(nextColumn && this.getEditorConfig(nextColumn)){\n\t\t\t\t\t\tthis.startEdit(this._itemId, nextColumn);\n\t\t\t\t\t}\n\t\t\t\t}else if(canChangeRow && this.moveRow(1)){\n\t\t\t\t\tvar task = this.moveRow(1);\n\t\t\t\t\tcell = this.getFirstCell();\n\t\t\t\t\tif(cell && this.getEditorConfig(cell)){\n\t\t\t\t\t\tthis.startEdit(task, cell);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\teditPrevCell: function prevCell(canChangeRow){\n\t\t\t\tvar cell = this.getNextCell(-1);\n\t\t\t\tif(cell){\n\t\t\t\t\tvar nextColumn = this.getNextCell(-1);\n\t\t\t\t\tif(nextColumn && this.getEditorConfig(nextColumn)){\n\t\t\t\t\t\tthis.startEdit(this._itemId, nextColumn);\n\t\t\t\t\t}\n\t\t\t\t}else if(canChangeRow && this.moveRow(-1)){\n\t\t\t\t\tvar task = this.moveRow(-1);\n\t\t\t\t\tcell = this.getLastCell();\n\t\t\t\t\tif(cell && this.getEditorConfig(cell)){\n\t\t\t\t\t\tthis.startEdit(task, cell);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tmoveRow: function moveRow(dir) {\n\t\t\t\tvar moveTask = dir > 0 ? gantt.getNext : gantt.getPrev;\n\t\t\t\tmoveTask = gantt.bind(moveTask, gantt);\n\n\t\t\t\tvar nextItem = moveTask(this._itemId);\n\t\t\t\t// skip readonly rows\n\t\t\t\twhile (gantt.isTaskExists(nextItem) && gantt.isReadonly(gantt.getTask(nextItem))) {\n\t\t\t\t\tnextItem = moveTask(nextItem);\n\t\t\t\t}\n\t\t\t\treturn nextItem;\n\t\t\t},\n\n\t\t\teditNextRow: function nextRow(){\n\t\t\t\tvar row = this.getNextCell(1);\n\t\t\t\tif(row){\n\t\t\t\t\tthis.startEdit(row, this._columnName);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\teditPrevRow: function prevRow(){\n\t\t\t\tvar row = this.getNextCell(-1);\n\t\t\t\tif(row){\n\t\t\t\t\tthis.startEdit(row, this._columnName);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdestructor: function(){\n\t\t\t\thandlers.forEach(function(handlerId){\n\t\t\t\t\tstore.detachEvent(handlerId);\n\t\t\t\t});\n\t\t\t\tstore = null;\n\t\t\t\tthis.hide();\n\t\t\t\tthis.detachAllEvents();\n\t\t\t}\n\t\t};\n\n\t\tutils.mixin(controller, keyboardMapping);\n\t\tutils.mixin(controller, eventBus);\n\n\t\treturn controller;\n\t}\n\n\n\tvar inlineEditController = {\n\t\tinit: initConfigs,\n\t\tcreateEditors: createGridEditors\n\t};\n\n\tutils.mixin(inlineEditController, keyboardMapping);\n\tutils.mixin(inlineEditController, eventBus);\n\n\treturn inlineEditController;\n}\n\n\n\n\nmodule.exports = create;","function createResizer(gantt, grid){\n\treturn {\n\t\tinit: function(){},\n\t\tdoOnRender: function(){}\n\t};\n}\n\nmodule.exports = createResizer;","var createStaticBgHelper = function(){\n\treturn {\n\t\trender: function () { },\n\t\tdestroy: function () { }\n\t};\n};\n\nmodule.exports = {\n\tcreate: function(){\n\t\treturn createStaticBgHelper();\n\t}\n};\n\n","var __extends = require(\"../../../utils/extends\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\tenv = require(\"../../../utils/env\"),\n\tCell = require(\"./cell\");\n\nvar ScrollbarCell = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ScrollbarCell, _super);\n\tfunction ScrollbarCell(parent, config, factory, gantt) {\n\n\t\tvar _this = _super.apply(this, arguments) || this;\n\t\tthis.$config = utils.mixin(config, {scroll: \"x\"});\n\t\t_this._scrollHorizontalHandler = utils.bind(_this._scrollHorizontalHandler, _this);\n\t\t_this._scrollVerticalHandler = utils.bind(_this._scrollVerticalHandler, _this);\n\t\t_this._outerScrollVerticalHandler = utils.bind(_this._outerScrollVerticalHandler, _this);\n\t\t_this._outerScrollHorizontalHandler = utils.bind(_this._outerScrollHorizontalHandler, _this);\n\t\t_this._mouseWheelHandler = utils.bind(_this._mouseWheelHandler, _this);\n\n\t\tthis.$config.hidden = true;\n\t\tvar size = gantt.config.scroll_size;\n\n\t\tif(gantt.env.isIE){\n\t\t\t// full element height/width must be bigger than just a browser scrollbar,\n\t\t\t// otherwise the scrollbar element won't be scrolled on click\n\t\t\tsize += 1;\n\t\t}\n\n\t\tif(this._isHorizontal()){\n\t\t\t_this.$config.height = size;\n\t\t\t_this.$parent.$config.height = size;\n\t\t}else{\n\t\t\t_this.$config.width = size;\n\t\t\t_this.$parent.$config.width = size;\n\t\t}\n\n\t\tthis.$config.scrollPosition = 0;\n\n\t\t_this.$name = \"scroller\";\n\t\treturn _this;\n\t}\n\n\tScrollbarCell.prototype.init = function(container){\n\t\tcontainer.innerHTML = this.$toHTML();\n\t\tthis.$view = container.firstChild;\n\n\t\tif(!this.$view){\n\t\t\tthis.init();\n\t\t}\n\t\tif(this._isVertical()){\n\t\t\tthis._initVertical();\n\t\t}else{\n\t\t\tthis._initHorizontal();\n\t\t}\n\t\tthis._initMouseWheel();\n\t\tthis._initLinkedViews();\n\t};\n\n\tScrollbarCell.prototype.$toHTML = function () {\n\t\tvar className = this._isHorizontal() ? \"gantt_hor_scroll\" : \"gantt_ver_scroll\";\n\t\treturn \"<div class='gantt_layout_cell \"+className+\"'><div style='\"+(this._isHorizontal() ? \"width:2000px\" : \"height:2000px\")+\"'></div></div>\";\n\t};\n\n\tScrollbarCell.prototype._getRootParent = function(){\n\t\tvar parent = this.$parent;\n\t\twhile(parent && parent.$parent){\n\t\t\tparent = parent.$parent;\n\t\t}\n\t\tif(parent){\n\t\t\treturn parent;\n\t\t}\n\t};\n\n\n\tfunction eachCell(root, res){\n\t\tres.push(root);\n\t\tif(root.$cells){\n\t\t\tfor(var i = 0; i < root.$cells.length; i++){\n\t\t\t\teachCell(root.$cells[i], res);\n\t\t\t}\n\t\t}\n\t}\n\tScrollbarCell.prototype._eachView = function(){\n\t\tvar res = [];\n\t\teachCell(this._getRootParent(), res);\n\t\treturn res;\n\t};\n\n\tScrollbarCell.prototype._getLinkedViews = function(){\n\t\tvar views = this._eachView();\n\t\tvar res = [];\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\tif(views[i].$config && ((this._isVertical() && views[i].$config.scrollY == this.$id) || (this._isHorizontal() && views[i].$config.scrollX == this.$id)) ){\n\t\t\t\tres.push(views[i]);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\n\n\tScrollbarCell.prototype._initHorizontal = function(){\n\t\tthis.$scroll_hor = this.$view;\n\t\tthis.$domEvents.attach(this.$view, \"scroll\", this._scrollHorizontalHandler);\n\n\t};\n\n\tScrollbarCell.prototype._initLinkedViews = function(){\n\t\tvar views = this._getLinkedViews();\n\t\tvar css = this._isVertical() ?\"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical\" : \"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal\";\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\t//views[i].$config.css = [views[i].$config.css || \"\", css].join(\" \");\n\t\t\tdomHelpers.addClassName(views[i].$view || views[i].getNode(), css);\n\t\t}\n\t};\n\n\tScrollbarCell.prototype._initVertical = function(){\n\t\tthis.$scroll_ver = this.$view;\n\t\tthis.$domEvents.attach(this.$view, \"scroll\", this._scrollVerticalHandler);\n\t};\n\n\tScrollbarCell.prototype._updateLinkedViews = function(){\n\t};\n\n\tScrollbarCell.prototype._initMouseWheel = function(){\n\t\tvar ff = env.isFF;\n\t\tif (ff)\n\t\t\tthis.$domEvents.attach(this._getRootParent().$view, \"wheel\", this._mouseWheelHandler);\n\t\telse\n\t\t\tthis.$domEvents.attach(this._getRootParent().$view, \"mousewheel\", this._mouseWheelHandler);\n\t};\n\n\n\n\n\tScrollbarCell.prototype.scrollHorizontally = function(left){\n\t\tif(this._scrolling) return;\n\t\tthis._scrolling = true;\n\n\t\tthis.$scroll_hor.scrollLeft = left;\n\t\tthis.$config.codeScrollLeft = left;\n\t\tleft = this.$scroll_hor.scrollLeft;\n\n\t\tvar views = this._getLinkedViews();\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\tif(views[i].scrollTo){\n\t\t\t\tviews[i].scrollTo(left, undefined);\n\t\t\t}\n\t\t}\n\t\tvar oldSize = this.$config.scrollPosition;\n\t\tthis.$config.scrollPosition = left;\n\t\tthis.callEvent(\"onScroll\", [oldSize, left, this.$config.scroll]);\n\t\tthis._scrolling = false;\n\t};\n\tScrollbarCell.prototype.scrollVertically = function(top){\n\t\tif(this._scrolling) return;\n\t\tthis._scrolling = true;\n\n\t\tthis.$scroll_ver.scrollTop = top;\n\t\ttop = this.$scroll_ver.scrollTop;\n\n\t\tvar views = this._getLinkedViews();\n\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\tif(views[i].scrollTo){\n\t\t\t\tviews[i].scrollTo(undefined, top);\n\t\t\t}\n\t\t}\n\t\tvar oldSize = this.$config.scrollPosition;\n\t\tthis.$config.scrollPosition = top;\n\t\tthis.callEvent(\"onScroll\", [oldSize, top, this.$config.scroll]);\n\t\tthis._scrolling = false;\n\t};\n\n\tScrollbarCell.prototype._isVertical = function(){\n\t\treturn this.$config.scroll == \"y\";\n\t};\n\tScrollbarCell.prototype._isHorizontal = function(){\n\t\treturn this.$config.scroll == \"x\";\n\t};\n\tScrollbarCell.prototype._scrollHorizontalHandler = function (e) {\n\t\tif(this._isVertical() || this._scrolling){\n\t\t\treturn;\n\t\t}\n\n\t\t//in safari we can catch previous onscroll after setting new value from mouse-wheel event\n\t\t//set delay to prevent value drifiting\n\t\tif ((new Date()) - ( this._wheel_time || 0 ) < 100) return true;\n\t\tif (this.$gantt._touch_scroll_active) return;\n\t\tvar left = this.$scroll_hor.scrollLeft;\n\n\t\tthis.scrollHorizontally(left);\n\n\t\tthis._oldLeft = this.$scroll_hor.scrollLeft;\n\t};\n\tScrollbarCell.prototype._outerScrollHorizontalHandler = function(e){\n\t\tif(this._isVertical()){\n\t\t\treturn;\n\t\t}\n\t};\n\n\tScrollbarCell.prototype.show = function(){\n\t\tthis.$parent.show();\n\t};\n\tScrollbarCell.prototype.hide = function(){\n\t\tthis.$parent.hide();\n\t};\n\n\tScrollbarCell.prototype._getScrollSize = function(){\n\t\tvar scrollSize = 0;\n\t\tvar outerSize = 0;\n\t\tvar isHorizontal = this._isHorizontal();\n\n\t\tvar linked = this._getLinkedViews();\n\t\tvar view;\n\t\tvar scrollProperty = isHorizontal ? \"scrollWidth\" : \"scrollHeight\",\n\t\t\tinnerSizeProperty = isHorizontal ? \"contentX\" : \"contentY\";\n\t\tvar outerProperty = isHorizontal ? \"x\" : \"y\";\n\t\tvar offset = this._getScrollOffset();\n\n\t\tfor(var i = 0; i < linked.length; i++){\n\t\t\tview = linked[i];\n\t\t\tif(!(view && view.$content && view.$content.getSize && !view.$config.hidden)) continue;\n\n\t\t\tvar sizes = view.$content.getSize();\n\t\t\tvar cellScrollSize;\n\t\t\tif(sizes.hasOwnProperty(scrollProperty)){\n\t\t\t\tcellScrollSize = sizes[scrollProperty];\n\t\t\t}else{\n\t\t\t\tcellScrollSize = sizes[innerSizeProperty];\n\t\t\t}\n\n\t\t\tif(offset){\n\t\t\t\t// precalculated vertical/horizontal offsets of scrollbar to emulate 4.x look\n\t\t\t\tif(sizes[innerSizeProperty] > sizes[outerProperty] && sizes[innerSizeProperty] > scrollSize && (cellScrollSize > (sizes[outerProperty] - offset + 2))){\n\t\t\t\t\tscrollSize = cellScrollSize + (isHorizontal ? 0 : 2);\n\t\t\t\t\touterSize = sizes[outerProperty];\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tvar nonScrollableSize = Math.max(sizes[innerSizeProperty] - cellScrollSize, 0);\n\t\t\t\tvar scrollableViewPortSize = Math.max(sizes[outerProperty] - nonScrollableSize, 0);\n\t\t\t\tcellScrollSize = cellScrollSize + nonScrollableSize;\n\n\t\t\t\tif(cellScrollSize > scrollableViewPortSize && (cellScrollSize > scrollSize) ){\n\t\t\t\t\t//|| (cellScrollSize === scrollSize && sizes[outerProperty] < outerSize) // same scroll width but smaller scrollable view port\n\n\t\t\t\t\tscrollSize = cellScrollSize;\n\t\t\t\t\touterSize = sizes[outerProperty];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\touterScroll: outerSize,\n\t\t\tinnerScroll: scrollSize\n\t\t};\n\t};\n\n\tScrollbarCell.prototype.scroll = function(position){\n\t\tif(this._isHorizontal()){\n\t\t\tthis.scrollHorizontally(position);\n\t\t}else{\n\t\t\tthis.scrollVertically(position);\n\t\t}\n\t};\n\n\tScrollbarCell.prototype.getScrollState = function(){\n\t\treturn {\n\t\t\tvisible: this.isVisible(),\n\t\t\tdirection: this.$config.scroll,\n\t\t\tsize: this.$config.outerSize,\n\t\t\tscrollSize: this.$config.scrollSize || 0,\n\t\t\tposition: this.$config.scrollPosition || 0\n\t\t};\n\t};\n\n\tScrollbarCell.prototype.setSize = function(width, height){\n\t\t_super.prototype.setSize.apply(this, arguments);\n\n\t\tvar scrollSizes = this._getScrollSize();\n\n\t\tvar ownSize = (this._isVertical() ? height : width) - this._getScrollOffset() + (this._isHorizontal() ? 1 : 0);\n\n\t\tif(scrollSizes.innerScroll && ownSize > scrollSizes.outerScroll){\n\t\t\tscrollSizes.innerScroll += (ownSize - scrollSizes.outerScroll);\n\t\t}\n\t\tthis.$config.scrollSize = scrollSizes.innerScroll;\n\n\t\tthis.$config.width = width;\n\t\tthis.$config.height = height;\n\t\tthis._setScrollSize(scrollSizes.innerScroll);\n\t};\n\n\tScrollbarCell.prototype.isVisible = function(){\n\t\treturn !!(this.$parent && this.$parent.$view.parentNode);\n\t};\n\n\tScrollbarCell.prototype.shouldShow = function(){\n\t\tvar scrollSizes = this._getScrollSize();\n\t\tif(!scrollSizes.innerScroll && (this.$parent && this.$parent.$view.parentNode)){\n\t\t\treturn false;\n\t\t}else if(scrollSizes.innerScroll && !(this.$parent && this.$parent.$view.parentNode)){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tScrollbarCell.prototype.shouldHide = function(){\n\t\tvar scrollSizes = this._getScrollSize();\n\t\tif(!scrollSizes.innerScroll && (this.$parent && this.$parent.$view.parentNode)){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t};\n\n\n\tScrollbarCell.prototype.toggleVisibility = function(){\n\t\tif(this.shouldHide()){\n\t\t\tthis.hide();\n\t\t}else if(this.shouldShow()){\n\t\t\tthis.show();\n\t\t}\n\t};\n\t\n\tScrollbarCell.prototype._getScaleOffset = function(view){\n\t\tvar offset = 0;\n\t\tif(view && (view.$config.view == \"timeline\" || view.$config.view == \"grid\")){\n\t\t\toffset = view.$content.$getConfig().scale_height;\n\t\t}\n\t\treturn offset;\n\t};\n\n\tScrollbarCell.prototype._getScrollOffset = function(){\n\t\tvar offset = 0;\n\t\tif(this._isVertical()){\n\t\t\tvar parentLayout = this.$parent.$parent;\n\t\t\toffset = Math.max(\n\t\t\t\tthis._getScaleOffset(parentLayout.getPrevSibling(this.$parent.$id)),\n\t\t\t\tthis._getScaleOffset(parentLayout.getNextSibling(this.$parent.$id))\n\t\t\t\t);\n\t\t}else{\n\t\t\tvar linked = this._getLinkedViews();\n\n\t\t\tfor (var i = 0; i < linked.length; i++) {\n\t\t\t\tvar view = linked[i],\n\t\t\t\t\tvparent = view.$parent;\n\t\t\t\tvar cells = vparent.$cells;\n\n\t\t\t\tvar last = cells[cells.length - 1];\n\n\t\t\t\tif (last && last.$config.view == \"scrollbar\" && last.$config.hidden === false) {\n\t\t\t\t\toffset = last.$config.width;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\treturn offset || 0;\n\t};\n\n\tScrollbarCell.prototype._setScrollSize = function(size){\n\t\tvar property = this._isHorizontal() ? \"width\" : \"height\";\n\t\tvar scrollbar = this._isHorizontal() ? this.$scroll_hor : this.$scroll_ver;\n\n\t\tvar offset = this._getScrollOffset();\n\n\t\tvar node = scrollbar.firstChild;\n\n\t\tif(offset){\n\t\t\tif(this._isVertical()){\n\n\t\t\t\tthis.$config.outerSize = (this.$config.height - offset + 3);\n\t\t\t\tscrollbar.style.height = this.$config.outerSize + \"px\";\n\t\t\t\tscrollbar.style.top = (offset-1) + \"px\";\n\t\t\t\tdomHelpers.addClassName(scrollbar, this.$parent._borders.top);\n\t\t\t\tdomHelpers.addClassName(scrollbar.parentNode, \"gantt_task_vscroll\");\n\t\t\t}else{\n\t\t\t\tthis.$config.outerSize = (this.$config.width - offset + 1);\n\t\t\t\tscrollbar.style.width = this.$config.outerSize + \"px\";\n\t\t\t\t//domHelpers.addClassName(scrollbar, this.$parent._borders.right);\n\t\t\t}\n\t\t}else{\n\t\t\tscrollbar.style.top = \"auto\";\n\t\t\tdomHelpers.removeClassName(scrollbar, this.$parent._borders.top);\n\t\t\tdomHelpers.removeClassName(scrollbar.parentNode, \"gantt_task_vscroll\");\n\t\t\tthis.$config.outerSize = this.$config.height;\n\t\t}\n\n\t\tnode.style[property] = size + \"px\";\n\t};\n\n\tScrollbarCell.prototype._scrollVerticalHandler = function (e) {\n\t\tif(this._scrollHorizontalHandler() || this._scrolling){\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.$gantt._touch_scroll_active) return;\n\t\tvar top = this.$scroll_ver.scrollTop;\n\t\tvar prev = this._oldTop;\n\t\tif(top == prev) return;\n\n\t\tthis.scrollVertically(top);\n\n\t\tthis._oldTop = this.$scroll_ver.scrollTop;\n\n\t};\n\tScrollbarCell.prototype._outerScrollVerticalHandler = function(e){\n\t\tif(this._scrollHorizontalHandler()){\n\t\t\treturn;\n\t\t}\n\t};\n\n\tScrollbarCell.prototype._checkWheelTarget = function(targetNode){\n\t\tvar connectedViews = this._getLinkedViews().concat(this);\n\n\t\tfor(var i = 0; i < connectedViews.length; i++){\n\t\t\tvar node = connectedViews[i].$view;\n\t\t\tif(domHelpers.isChildOf(targetNode, node)){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tScrollbarCell.prototype._mouseWheelHandler = function(e){\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(!this._checkWheelTarget(target))\n\t\t\treturn;\n\n\t\tthis._wheel_time = new Date();\n\n\t\tvar res = {};\n\t\tvar ff = env.isFF;\n\t\tvar wx = ff ? (e.deltaX*-20) : e.wheelDeltaX*2;\n\t\tvar wy = ff ? (e.deltaY*-40) : e.wheelDelta;\n\n\t\tif(e.shiftKey && !(e.deltaX || e.wheelDeltaX)){\n\t\t\t// shift+mousewheel for horizontal scroll\n\t\t\twx = wy*2;\n\t\t\twy = 0;\n\t\t}\n\n\t\tif (wx && Math.abs(wx) > Math.abs(wy)){\n\t\t\tif(this._isVertical()){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(res.x) return true;//no horisontal scroll, must not block scrolling\n\t\t\tif(!this.$scroll_hor || !this.$scroll_hor.offsetWidth) return true;\n\n\t\t\tvar dir  = wx/-40;\n\t\t\tvar oldLeft = this._oldLeft;\n\t\t\tvar left = oldLeft+dir*30;\n\t\t\tthis.scrollHorizontally(left);\n\t\t\tthis.$scroll_hor.scrollLeft = left;\n\t\t\t// not block scroll if position hasn't changed\n\t\t\tif(oldLeft == this.$scroll_hor.scrollLeft){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tthis._oldLeft = this.$scroll_hor.scrollLeft;\n\t\t} else {\n\t\t\tif(this._isHorizontal()){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(res.y) return true;//no vertical scroll, must not block scrolling\n\t\t\tif(!this.$scroll_ver || !this.$scroll_ver.offsetHeight) return true;\n\n\t\t\tvar dir  = wy/-40;\n\t\t\tif (typeof wy == \"undefined\")\n\t\t\t\tdir = e.detail;\n\n\t\t\tvar oldTop = this._oldTop;\n\t\t\tvar top = this.$scroll_ver.scrollTop+dir*30;\n\n\t\t\t//if(!this.$gantt.config.prevent_default_scroll &&\n\t\t\t//\t(this.$gantt._cached_scroll_pos && ((this.$gantt._cached_scroll_pos.y == top) || (this.$gantt._cached_scroll_pos.y <= 0 && top <= 0)))) return true;\n\n\n\t\t\tthis.scrollVertically(top);\n\t\t\tthis.$scroll_ver.scrollTop = top;\n\n\t\t\t// not block scroll if position hasn't changed\n\t\t\tif(oldTop == this.$scroll_ver.scrollTop){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tthis._oldTop = this.$scroll_ver.scrollTop;\n\t\t}\n\n\t\tif (e.preventDefault)\n\t\t\te.preventDefault();\n\t\te.cancelBubble=true;\n\t\treturn false;\n\t};\n\n\treturn ScrollbarCell;\n})(Cell);\n\nmodule.exports = ScrollbarCell;","module.exports = null;","var __extends = require(\"../../../utils/extends\"),\n\tutils = require(\"../../../utils/utils\"),\n\tCell = require(\"./cell\");\n\nvar ViewCell = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ViewCell, _super);\n\tfunction ViewCell(parent, config, factory) {\n\n\t\tvar _this = _super.apply(this, arguments) || this;\n\n\t\tif(config.view){\n\t\t\tif(config.id){\n\t\t\t\t// pass id to the nested view\n\t\t\t\tthis.$id = utils.uid();\n\t\t\t}\n\t\t\tvar childConfig = utils.copy(config);\n\t\t\tdelete childConfig.config;\n\t\t\tdelete childConfig.templates;\n\n\t\t\tthis.$content = this.$factory.createView(config.view, this, childConfig, this);\n\t\t\tif(!this.$content)\n\t\t\t\treturn false;\n\t\t}\n\n\t\t_this.$name = \"viewCell\";\n\t\treturn _this;\n\t}\n\n\tViewCell.prototype.destructor = function(){\n\t\tthis.clear();\n\t\t_super.prototype.destructor.call(this);\n\t};\n\n\tViewCell.prototype.clear = function(){\n\n\t\tthis.$initialized = false;\n\n\t\t// call destructor\n\t\tif (this.$content){\n\t\t\tvar method = this.$content.unload || this.$content.destructor;\n\t\t\tif (method){\n\t\t\t\tmethod.call(this.$content);\n\t\t\t}\n\t\t}\n\n\t\t_super.prototype.clear.call(this);\n\n\t};\n\n\tViewCell.prototype.scrollTo = function(left, top){\n\n\t\tif(this.$content && this.$content.scrollTo){\n\t\t\tthis.$content.scrollTo(left, top);\n\t\t}else{\n\t\t\t_super.prototype.scrollTo.call(this, left, top);\n\t\t}\n\t};\n\n\tViewCell.prototype._setContentSize = function(x, y){\n\t\tvar borders = this._getBorderSizes();\n\t\tvar outerX = x + borders.horizontal;\n\t\tvar outerY = y + borders.vertical;\n\t\tthis.$config.width = outerX;\n\t\tthis.$config.height = outerY;\n\t};\n\n\tViewCell.prototype.setSize = function(x, y){\n\t\t_super.prototype.setSize.call(this, x, y);\n\n\t\tif(!this.$preResize && this.$content) {\n\t\t\tif (!this.$initialized) {\n\t\t\t\tthis.$initialized = true;\n\t\t\t\tvar header = this.$view.childNodes[0];\n\t\t\t\tvar content = this.$view.childNodes[1];\n\t\t\t\tif(!content) content = header;\n\n\t\t\t\t/*if(this.$content.$config){\n\t\t\t\t\tthis.$content.$config.width = this.$lastSize.contentX;\n\t\t\t\t\tthis.$content.$config.height = this.$lastSize.contentY;\n\t\t\t\t}*/\n\t\t\t\tthis.$content.init(content);\n\t\t\t}\n\t\t}\n\t};\n\n\tViewCell.prototype.setContentSize = function(){\n\t\tif(!this.$preResize && this.$content) {\n\t\t\tif (this.$initialized) {\n\t\t\t\tthis.$content.setSize(this.$lastSize.contentX, this.$lastSize.contentY);\n\t\t\t}\n\t\t}\n\t};\n\n\n\tViewCell.prototype.getContentSize = function(){\n\t\tvar size = _super.prototype.getContentSize.call(this);\n\n\t\tif(this.$content && this.$initialized){\n\t\t\tvar childSize = this.$content.getSize();\n\t\t\tsize.width = childSize.contentX === undefined ? childSize.width : childSize.contentX;\n\t\t\tsize.height = childSize.contentY === undefined ? childSize.height : childSize.contentY;\n\t\t}\n\n\t\tvar borders = this._getBorderSizes();\n\t\tsize.width += borders.horizontal;\n\t\tsize.height += borders.vertical;\n\n\t\treturn size;\n\t};\n\n\treturn ViewCell;\n}(Cell));\n\nmodule.exports = ViewCell;","var __extends = require(\"../../../utils/extends\"),\n\tLayout = require(\"./layout\"),\n\tCell = require(\"./cell\");\n\nvar ViewLayout = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ViewLayout, _super);\n\tfunction ViewLayout(parent, config, factory) {\n\t\tvar _this = _super.apply(this, arguments) || this;\n\t\tfor (var i = 0; i < _this.$cells.length; i++) {\n\t\t\t_this.$cells[i].$config.hidden = (i !== 0);\n\t\t}\n\t\t_this.$cell = _this.$cells[0];\n\t\t_this.$name = \"viewLayout\";\n\n\t\treturn _this;\n\t}\n\tViewLayout.prototype.cell = function (id) {\n\t\tvar cell = _super.prototype.cell.call(this, id);\n\t\tif (!cell.$view) {\n\t\t\tthis.$fill(null, this);\n\t\t}\n\t\treturn cell;\n\t};\n\tViewLayout.prototype.moveView = function (view) {\n\t\tvar body = this.$view;\n\t\tif (this.$cell) {\n\t\t\tthis.$cell.$config.hidden = true;\n\t\t\tbody.removeChild(this.$cell.$view);\n\t\t}\n\t\tthis.$cell = view;\n\t\tbody.appendChild(view.$view);\n\t};\n\tViewLayout.prototype.setSize = function (x, y) {\n\t\tCell.prototype.setSize.call(this, x, y);\n\t};\n\n\tViewLayout.prototype.setContentSize = function(){\n\t\tvar size = this.$lastSize;\n\t\tthis.$cell.setSize(size.contentX, size.contentY);\n\t};\n\n\tViewLayout.prototype.getSize = function () {\n\t\tvar sizes = _super.prototype.getSize.call(this);\n\t\tif (this.$cell) {\n\t\t\tvar cellSize = this.$cell.getSize();\n\t\t\tif (this.$config.byMaxSize) {\n\t\t\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\t\t\tvar otherCell = this.$cells[i].getSize();\n\t\t\t\t\tfor (var cell in cellSize) {\n\t\t\t\t\t\tcellSize[cell] = Math.max(cellSize[cell], otherCell[cell]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var size in sizes) {\n\t\t\t\tsizes[size] = sizes[size] || cellSize[size];\n\t\t\t}\n\t\t\tsizes.gravity = Math.max(sizes.gravity, cellSize.gravity);\n\t\t}\n\t\treturn sizes;\n\t};\n\treturn ViewLayout;\n}(Layout));\n\nmodule.exports = ViewLayout;","var rendererFactory = function(gantt){\n\tvar services = gantt.$services;\n\n\t//hash of dom elements is needed to redraw single bar/link\n\tvar task_area_pulls = {},\n\t\ttask_area_renderers = {};\n\n\tfunction getRenderer(id, layer, node) {\n\n\t\tif (task_area_renderers[id])\n\t\t\treturn task_area_renderers[id];\n\n\t\tif (!layer.renderer)\n\t\t\tgantt.assert(false, \"Invalid renderer call\");\n\n\t\tvar renderMethod = null;\n\t\tvar updateMethod = null;\n\n\t\tif(typeof layer.renderer === \"function\"){\n\t\t\trenderMethod = layer.renderer;\n\t\t}else{\n\t\t\trenderMethod = layer.renderer.render;\n\t\t\tupdateMethod = layer.renderer.update;\n\t\t}\n\n\t\tvar renderOne = function(item, viewPort){\n\t\t\tvar rendererViewPort = viewPort;\n\t\t\tif(!rendererViewPort && layer.getViewPort){\n\t\t\t\trendererViewPort = layer.getViewPort();\n\t\t\t}\n\t\t\treturn renderMethod.call(this, item, layer.host, rendererViewPort || null);\n\t\t};\n\n\t\tvar filter = layer.filter;\n\n\t\tif (node)\n\t\t\tnode.setAttribute(services.config().layer_attribute, true);\n\n\t\ttask_area_renderers[id] = {\n\t\t\trender_item: function (item, container, viewPort) {\n\t\t\t\tcontainer = container || node;\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tif (!filter(item)) {\n\t\t\t\t\t\tthis.remove_item(item.id);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar dom = renderOne.call(gantt, item, viewPort);\n\t\t\t\tthis.append(item, dom, container);\n\n\t\t\t},\n\n\t\t\tclear: function (container) {\n\n\t\t\t\tthis.rendered = task_area_pulls[id] = {};\n\t\t\t\tif(!layer.append)\n\t\t\t\t\tthis.clear_container(container);\n\t\t\t},\n\t\t\tclear_container: function (container) {\n\t\t\t\tcontainer = container || node;\n\t\t\t\tif (container)\n\t\t\t\t\tcontainer.innerHTML = \"\";\n\t\t\t},\n\t\t\trender_items: function (items, container) {\n\t\t\t\tcontainer = container || node;\n\n\t\t\t\tvar buffer = document.createDocumentFragment();\n\t\t\t\tthis.clear(container);\n\t\t\t\tvar viewPort = null;\n\t\t\t\tif(layer.getViewPort){\n\t\t\t\t\tviewPort = layer.getViewPort();\n\t\t\t\t}\n\t\t\t\tfor (var i = 0, vis = items.length; i < vis; i++) {\n\t\t\t\t\tthis.render_item(items[i], buffer, viewPort);\n\t\t\t\t}\n\n\t\t\t\tcontainer.appendChild(buffer, container);\n\t\t\t},\n\t\t\tupdate_items: function (items, container) {\n\t\t\t\tcontainer = container || node;\n\t\t\t\tif(!updateMethod){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar buffer = document.createDocumentFragment();\n\t\t\t\tvar viewPort = null;\n\t\t\t\tif(layer.getViewPort){\n\t\t\t\t\tviewPort = layer.getViewPort();\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, vis = items.length; i < vis; i++) {\n\t\t\t\t\tvar item = items[i];\n\t\t\t\t\tvar itemNode = this.rendered[item.id];\n\t\t\t\t\tif (itemNode && itemNode.parentNode) {\n\t\t\t\t\t\tupdateMethod.call(gantt, item, layer.host, this, viewPort);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.render_item(items[i], buffer, viewPort);\n\t\t\t\t\t}\n\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tif(buffer.childNodes.length){\n\t\t\t\t\tcontainer.appendChild(buffer, container);\n\t\t\t\t}\n\t\t\t},\n\t\t\tappend: function (item, node, container) {\n\t\t\t\tif (!node) {\n\t\t\t\t\tif (this.rendered[item.id]) {\n\t\t\t\t\t\tthis.remove_item(item.id);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.rendered[item.id] && this.rendered[item.id].parentNode) {\n\t\t\t\t\tthis.replace_item(item.id, node);\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.appendChild(node);\n\t\t\t\t}\n\t\t\t\tthis.rendered[item.id] = node;\n\n\t\t\t},\n\t\t\treplace_item: function (item_id, newNode) {\n\t\t\t\tvar item = this.rendered[item_id];\n\t\t\t\tif (item && item.parentNode) {\n\t\t\t\t\titem.parentNode.replaceChild(newNode, item);\n\t\t\t\t}\n\t\t\t\tthis.rendered[item_id] = newNode;\n\t\t\t},\n\t\t\tremove_item: function (item_id) {\n\t\t\t\tthis.hide(item_id);\n\t\t\t\tdelete this.rendered[item_id];\n\t\t\t},\n\t\t\thide: function (item_id) {\n\t\t\t\tvar item = this.rendered[item_id];\n\t\t\t\tif (item && item.parentNode) {\n\t\t\t\t\titem.parentNode.removeChild(item);\n\t\t\t\t}\n\t\t\t},\n\t\t\trestore: function (item) {\n\t\t\t\tvar dom = this.rendered[item.id];\n\t\t\t\tif (dom) {\n\t\t\t\t\tif (!dom.parentNode) {\n\t\t\t\t\t\tthis.append(item, dom, node);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.render_item(item, node);\n\t\t\t\t}\n\t\t\t},\n\t\t\tchange_id: function (oldid, newid) {\n\t\t\t\tthis.rendered[newid] = this.rendered[oldid];\n\t\t\t\tdelete this.rendered[oldid];\n\t\t\t},\n\t\t\trendered: task_area_pulls[id],\n\t\t\tnode: node,\n\t\t\tdestructor: function () {\n\t\t\t\tthis.clear();\n\t\t\t\tdelete task_area_renderers[id];\n\t\t\t\tdelete task_area_pulls[id];\n\t\t\t}\n\t\t};\n\n\t\treturn task_area_renderers[id];\n\t}\n\n\n\tfunction clearRenderers() {\n\t\tfor (var i in task_area_renderers) {\n\t\t\tgetRenderer(i).destructor();\n\t\t}\n\t}\n\n\treturn {\n\t\tgetRenderer: getRenderer,\n\t\tclearRenderers: clearRenderers\n\t};\n\n};\n\nmodule.exports = rendererFactory;","var renderFactoryProvider = require(\"./render_factory\");\nvar utils = require(\"../../../utils/utils\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\"),\n\tisLegacyRender = require(\"./is_legacy_smart_render\");\n\nvar layerFactory = function(gantt){\n\n\tvar renderFactory = renderFactoryProvider(gantt);\n\treturn {\n\tcreateGroup: function (get_container, rel_root, defaultFilters) {\n\n\t\tvar renderGroup = {\n\t\t\ttempCollection: [],\n\t\t\trenderers: {},\n\t\t\tcontainer: get_container,\n\t\t\tfilters: [],\n\t\t\tgetLayers: function () {\n\t\t\t\tthis._add();// add pending layers\n\n\t\t\t\tvar res = [];\n\t\t\t\tfor (var i in this.renderers) {\n\t\t\t\t\tres.push(this.renderers[i]);\n\t\t\t\t}\n\t\t\t\treturn res;\n\t\t\t},\n\t\t\tgetLayer: function (id) {\n\t\t\t\treturn this.renderers[id];\n\t\t\t},\n\t\t\t_add: function (layer) {\n\t\t\t\tif (layer) {\n\t\t\t\t\tlayer.id = layer.id || utils.uid();\n\t\t\t\t\tthis.tempCollection.push(layer);\n\t\t\t\t}\n\n\t\t\t\tvar container = this.container();\n\n\t\t\t\tvar pending = this.tempCollection;\n\t\t\t\tfor (var i = 0; i < pending.length; i++) {\n\t\t\t\t\tlayer = pending[i];\n\n\t\t\t\t\tif (!this.container() && !(layer && layer.container && domHelpers.isChildOf(layer.container, document.body))) continue;\n\n\t\t\t\t\tvar node = layer.container,\n\t\t\t\t\t\tid = layer.id,\n\t\t\t\t\t\ttopmost = layer.topmost;\n\t\t\t\t\tif (!node.parentNode) {\n\t\t\t\t\t\t//insert on top or below the tasks\n\t\t\t\t\t\tif (topmost) {\n\t\t\t\t\t\t\tcontainer.appendChild(node);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar rel = rel_root ? rel_root() : container.firstChild;\n\t\t\t\t\t\t\tif (rel)\n\t\t\t\t\t\t\t\tcontainer.insertBefore(node, rel);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tcontainer.appendChild(node);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.renderers[id] = renderFactory.getRenderer(\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tlayer,\n\t\t\t\t\t\tnode\n\t\t\t\t\t);\n\t\t\t\t\tthis.tempCollection.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t},\n\t\t\taddLayer: function (config) {\n\t\t\t\t//config = prepareConfig(config);\n\t\t\t\tif(config){\n\t\t\t\t\tif(typeof config == \"function\"){\n\t\t\t\t\t\tconfig = {renderer: config};\n\t\t\t\t\t}\n\n\t\t\t\t\tif(config.filter === undefined){\n\t\t\t\t\t\tconfig.filter = mergeFilters(defaultFilters || []);\n\t\t\t\t\t}else if(config.filter instanceof Array){\n\t\t\t\t\t\tconfig.filter.push(defaultFilters);\n\t\t\t\t\t\tconfig.filter = mergeFilters(config.filter);\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!config.container){\n\t\t\t\t\t\tconfig.container = document.createElement(\"div\");\n\t\t\t\t\t}\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tconfig.requestUpdate = function(){\n\t\t\t\t\t\tif(gantt.config.smart_rendering && !isLegacyRender(gantt)){\n\t\t\t\t\t\t\tif(self.renderers[config.id]){\n\t\t\t\t\t\t\t\tself.onUpdateRequest(self.renderers[config.id]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tthis._add(config);\n\t\t\t\treturn (config ? config.id : undefined);\n\t\t\t},\n\t\t\tonUpdateRequest: function(layer){\n\n\t\t\t},\n\n\t\t\teachLayer: function(code){\n\t\t\t\tfor (var i in this.renderers) {\n\t\t\t\t\tcode(this.renderers[i]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tremoveLayer: function (id) {\n\t\t\t\tif(!this.renderers[id])\n\t\t\t\t\treturn;\n\t\t\t\tthis.renderers[id].destructor();\n\t\t\t\tdelete this.renderers[id];\n\t\t\t},\n\t\t\tclear: function () {\n\t\t\t\tfor (var i in this.renderers) {\n\t\t\t\t\tthis.renderers[i].destructor();\n\t\t\t\t}\n\t\t\t\tthis.renderers = {};\n\t\t\t}//,\n\t\t\t//prepareConfig: prepareConfig\n\t\t};\n\n\t\tgantt.attachEvent(\"onDestroy\", function(){\n\t\t\trenderGroup.clear();\n\t\t\trenderGroup = null;\n\t\t});\n\n\t\treturn renderGroup;\n\t}\n};};\n\n\nfunction mergeFilters(filter_methods){\n\tif(!(filter_methods instanceof Array)){\n\t\tfilter_methods = Array.prototype.slice.call(arguments, 0);\n\t}\n\n\treturn function(obj){\n\t\tvar res = true;\n\t\tfor(var i = 0, len = filter_methods.length; i < len; i++){\n\t\t\tvar filter_method = filter_methods[i];\n\t\t\tif(filter_method){\n\t\t\t\tres = res && (filter_method(obj.id, obj) !== false);\n\t\t\t}\n\t\t}\n\n\t\treturn res;\n\t};\n}\n\n\nmodule.exports = layerFactory;\n","var createLayerFactory = require(\"./render/layer_engine\");\n\nvar createLayerEngine = function(gantt){\n\tvar factory = createLayerFactory(gantt);\n\treturn {\n\t\tgetDataRender: function(name){\n\t\t\treturn gantt.$services.getService(\"layer:\" + name) || null;\n\t\t},\n\t\tcreateDataRender: function(config){\n\t\t\tvar name = config.name,\n\t\t\t\tdefaultContainer = config.defaultContainer,\n\t\t\t\tpreviusSiblingContainer = config.defaultContainerSibling;\n\n\t\t\tvar layers = factory.createGroup(\n\t\t\t\tdefaultContainer,\n\t\t\t\tpreviusSiblingContainer,\n\t\t\t\tfunction(itemId, item){\n\t\t\t\t\tif(layers.filters){\n\t\t\t\t\t\tfor(var i = 0; i < layers.filters.length; i++){\n\t\t\t\t\t\t\tif(layers.filters[i](itemId, item) === false){\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tgantt.$services.setService(\"layer:\" + name, function(){\n\t\t\t\treturn layers;\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onGanttReady\", function () {\n\t\t\t\tlayers.addLayer();// init layers on start\n\t\t\t});\n\n\t\t\treturn layers;\n\t\t},\n\t\tinit: function(){\n\t\t\tvar taskLayers = this.createDataRender({\n\t\t\t\tname: \"task\",\n\t\t\t\tdefaultContainer: function(){\n\t\t\t\t\tif(gantt.$task_data){\n\t\t\t\t\t\treturn gantt.$task_data;\n\t\t\t\t\t}else if(gantt.$ui.getView(\"timeline\")){\n\t\t\t\t\t\treturn gantt.$ui.getView(\"timeline\").$task_data;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdefaultContainerSibling: function(){\n\t\t\t\t\tif(gantt.$task_links){\n\t\t\t\t\t\treturn gantt.$task_links;\n\t\t\t\t\t}else if(gantt.$ui.getView(\"timeline\")){\n\t\t\t\t\t\treturn gantt.$ui.getView(\"timeline\").$task_links;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilter: function(item){\n\n\t\t\t\t}\n\t\t\t}, gantt);\n\n\t\t\tvar linkLayers = this.createDataRender({\n\t\t\t\tname: \"link\",\n\t\t\t\tdefaultContainer: function(){\n\t\t\t\t\tif(gantt.$task_data){\n\t\t\t\t\t\treturn gantt.$task_data;\n\t\t\t\t\t}else if(gantt.$ui.getView(\"timeline\")){\n\t\t\t\t\t\treturn gantt.$ui.getView(\"timeline\").$task_data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, gantt);\n\n\t\t\treturn {\n\t\t\t\taddTaskLayer: function(config){\n\t\t\t\t\treturn taskLayers.addLayer(config);\n\t\t\t\t},\n\n\t\t\t\t/*getTaskLayer: function(id){\n\t\t\t\t\treturn taskLayers.getLayer(id);\n\t\t\t\t},*/\n\n\t\t\t\t_getTaskLayers: function(){\n\t\t\t\t\treturn taskLayers.getLayers();\n\t\t\t\t},\n\t\t\t\tremoveTaskLayer: function(id){\n\t\t\t\t\ttaskLayers.removeLayer(id);\n\t\t\t\t},\n\t\t\t\t/*eachTaskLayer: function(code){\n\t\t\t\t\ttaskLayers.eachLayer(code);\n\t\t\t\t},*/\n\t\t\t\t_clearTaskLayers: function(){\n\t\t\t\t\ttaskLayers.clear();\n\t\t\t\t},\n\t\t\t\taddLinkLayer: function(config){\n\t\t\t\t\treturn linkLayers.addLayer(config);\n\t\t\t\t},\n\t\t\t\t/*getLinkLayer: function(id){\n\t\t\t\t\treturn linkLayers.getLayer(id);\n\t\t\t\t},*/\n\t\t\t\t_getLinkLayers: function(){\n\t\t\t\t\treturn linkLayers.getLayers();\n\t\t\t\t},\n\t\t\t\tremoveLinkLayer: function(id){\n\t\t\t\t\tlinkLayers.removeLayer(id);\n\t\t\t\t},\n\t\t\t\t/*eachLinkLayer: function(code){\n\t\t\t\t\tlinkLayers.eachLayer(code);\n\t\t\t\t},*/\n\t\t\t\t_clearLinkLayers: function(){\n\t\t\t\t\tlinkLayers.clear();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n};\n\nmodule.exports = createLayerEngine;","var domHelpers = require(\"../../utils/dom_helpers\");\n\nvar createMouseHandler = (function(domHelpers) {\n\treturn function (gantt) {\n\t\tvar eventHandlers = {\n\t\t\t\"click\": {},\n\t\t\t\"doubleclick\": {},\n\t\t\t\"contextMenu\": {}\n\t\t};\n\n\t\tfunction addEventTarget(event, className, handler, root) {\n\t\t\tif(!eventHandlers[event][className]){\n\t\t\t\teventHandlers[event][className] = [];\n\t\t\t}\n\n\t\t\teventHandlers[event][className].push({\n\t\t\t\thandler: handler,\n\t\t\t\troot: root\n\t\t\t});\n\t\t}\n\n\t\tfunction callHandler(eventName, className, root, args) {\n\t\t\tvar handlers = eventHandlers[eventName][className];\n\t\t\tif(handlers){\n\t\t\t\tfor(var i = 0; i < handlers.length; i++){\n\t\t\t\t\tif(!(root || handlers[i].root) || handlers[i].root === root){\n\t\t\t\t\t\thandlers[i].handler.apply(this, args);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction onClick(e) {\n\t\t\te = e || window.event;\n\t\t\tvar id = gantt.locate(e);\n\n\t\t\tvar handlers = findEventHandlers(e, eventHandlers.click);\n\t\t\tvar res = true;\n\t\t\tif (id !== null) {\n\t\t\t\tres = !gantt.checkEvent(\"onTaskClick\") || gantt.callEvent(\"onTaskClick\", [id, e]);\n\t\t\t} else {\n\t\t\t\tgantt.callEvent(\"onEmptyClick\", [e]);\n\t\t\t}\n\n\t\t\tif (res) {\n\t\t\t\tvar default_action = callEventHandlers(handlers, e, id);\n\t\t\t\tif (!default_action)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (id && gantt.getTask(id) && gantt.config.select_task && !gantt.config.multiselect) {\n\t\t\t\t\tgantt.selectTask(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction onContextMenu(e) {\n\t\t\te = e || window.event;\n\t\t\tvar src = e.target || e.srcElement,\n\t\t\t\ttaskId = gantt.locate(src),\n\t\t\t\tlinkId = gantt.locate(src, gantt.config.link_attribute);\n\n\t\t\tvar res = !gantt.checkEvent(\"onContextMenu\") || gantt.callEvent(\"onContextMenu\", [taskId, linkId, e]);\n\t\t\tif (!res) {\n\t\t\t\tif (e.preventDefault)\n\t\t\t\t\te.preventDefault();\n\t\t\t\telse\n\t\t\t\t\te.returnValue = false;\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\n\t\tfunction findEventHandlers(e, hash){\n\t\t\tvar trg = e.target || e.srcElement;\n\t\t\tvar handlers = [];\n\t\t\twhile (trg) {\n\t\t\t\tvar css = domHelpers.getClassName(trg);\n\t\t\t\tif (css) {\n\t\t\t\t\tcss = css.split(\" \");\n\t\t\t\t\tfor (var i = 0; i < css.length; i++) {\n\t\t\t\t\t\tif (!css[i]) continue;\n\t\t\t\t\t\tif (hash[css[i]]) {\n\t\t\t\t\t\t\tvar delegateHandlers = hash[css[i]];\n\n\t\t\t\t\t\t\tfor(var h = 0; h < delegateHandlers.length; h++){\n\t\t\t\t\t\t\t\tif(delegateHandlers[h].root){\n\t\t\t\t\t\t\t\t\tif(!domHelpers.isChildOf(trg, delegateHandlers[h].root)){\n\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\thandlers.push(delegateHandlers[h].handler);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttrg = trg.parentNode;\n\t\t\t}\n\t\t\treturn handlers;\n\t\t}\n\n\t\tfunction callEventHandlers(handlers, e, id){\n\t\t\tvar res = true;\n\n\t\t\tfor(var i = 0; i < handlers.length; i++){\n\t\t\t\tvar handlerResult =  handlers[i].call(gantt, e, id, e.target || e.srcElement);\n\t\t\t\tres = res && !(typeof handlerResult != \"undefined\" && handlerResult !== true);\n\t\t\t}\n\n\t\t\treturn res;\n\t\t}\n\n\n\t\tfunction onDoubleClick(e) {\n\t\t\te = e || window.event;\n\t\t\tvar id = gantt.locate(e);\n\n\t\t\tvar handlers = findEventHandlers(e, eventHandlers.doubleclick);\n\t\t\t// when doubleclick fired not on task, id === null\n\t\t\tvar res = !gantt.checkEvent(\"onTaskDblClick\") || id === null || gantt.callEvent(\"onTaskDblClick\", [id, e]);\n\t\t\tif (res) {\n\t\t\t\tvar default_action = callEventHandlers(handlers, e, id);\n\t\t\t\tif (!default_action)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (id !== null && gantt.getTask(id)) {\n\t\t\t\t\tif (res && gantt.config.details_on_dblclick) {\n\t\t\t\t\t\tgantt.showLightbox(id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction onMouseMove(e) {\n\t\t\tif (gantt.checkEvent(\"onMouseMove\")) {\n\t\t\t\tvar id = gantt.locate(e);\n\t\t\t\tgantt._last_move_event = e;\n\t\t\t\tgantt.callEvent(\"onMouseMove\", [id, e]);\n\t\t\t}\n\t\t}\n\n\t\tfunction detach(eventName, className, handler, root) {\n\t\t\tif (eventHandlers[eventName] && eventHandlers[eventName][className]) {\n\t\t\t\tvar handlers = eventHandlers[eventName];\n\t\t\t\tvar elementHandlers = handlers[className];\n\t\t\t\tfor(var i = 0; i < elementHandlers.length; i++){\n\t\t\t\t\tif(elementHandlers[i].root == root){\n\t\t\t\t\t\telementHandlers.splice(i, 1);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!elementHandlers.length){\n\t\t\t\t\tdelete handlers[className];\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tvar domEvents = gantt._createDomEventScope();\n\n\t\tfunction reset(node){\n\n\t\t\tdomEvents.detachAll();\n\n\t\t\tif(node){\n\t\t\t\tdomEvents.attach(node, \"click\", onClick);\n\t\t\t\tdomEvents.attach(node, \"dblclick\", onDoubleClick);\n\t\t\t\tdomEvents.attach(node, \"mousemove\", onMouseMove);\n\t\t\t\tdomEvents.attach(node, \"contextmenu\", onContextMenu);\n\t\t\t}\n\t\t}\n\n\n\n\t\treturn {\n\t\t\treset: reset,\n\t\t\tglobal: function(event, classname, handler){\n\t\t\t\taddEventTarget(event, classname, handler, null);\n\t\t\t},\n\t\t\tdelegate: addEventTarget,\n\t\t\tdetach: detach,\n\t\t\tcallHandler: callHandler,\n\t\t\tonDoubleClick: onDoubleClick,\n\t\t\tonMouseMove: onMouseMove,\n\t\t\tonContextMenu: onContextMenu,\n\t\t\tonClick: onClick,\n\t\t\tdestructor: function(){\n\t\t\t\treset();\n\t\t\t\teventHandlers = null;\n\t\t\t\tdomEvents = null;\n\t\t\t}\n\n\t\t};\n\t};\n\n})(domHelpers);\n\n\nmodule.exports = {\n\tinit:createMouseHandler\n};","var utils = require(\"../../utils/utils\");\n\nfunction ViewSettings(config){\n\tutils.mixin(this, config, true);\n}\n\n\nfunction extendSettings (store, parentSettings){\n\tvar own = this.$config[store];\n\n\tif(own){\n\t\tif(own instanceof ViewSettings){\n\t\t\treturn own;\n\t\t}else{\n\t\t\tViewSettings.prototype = parentSettings;\n\t\t\tthis.$config[store] = new ViewSettings(own);\n\t\t\treturn this.$config[store];\n\t\t}\n\t}else{\n\t\treturn parentSettings;\n\t}\n}\n\nvar configurable = function(parentView){\n\tvar parentConfig,\n\t\tparentTemplates;\n\n\treturn {\n\t\t$getConfig: function(){\n\t\t\tif(!parentConfig){\n\t\t\t\tparentConfig = parentView ? parentView.$getConfig() : this.$gantt.config;\n\t\t\t}\n\t\t\tif(!this.$config.config){\n\t\t\t\treturn parentConfig;\n\t\t\t}else{\n\t\t\t\treturn extendSettings.call(this, \"config\", parentConfig);\n\t\t\t}\n\t\t},\n\t\t$getTemplates: function(){\n\t\t\tif(!parentTemplates){\n\t\t\t\tparentTemplates = parentView ? parentView.$getTemplates() : this.$gantt.templates;\n\t\t\t}\n\t\t\tif(!this.$config.templates){\n\t\t\t\treturn parentTemplates;\n\t\t\t}else{\n\t\t\t\treturn extendSettings.call(this, \"templates\", parentTemplates);\n\t\t\t}\n\t\t}\n\t};\n};\n\nmodule.exports = function(obj, parent){\n\tutils.mixin(obj, configurable(parent));\n};","var utils = require(\"../../utils/utils\"),\n\tconfigurable = require(\"./configurable\");\n\nvar uiFactory = function createFactory(gantt){\n\tvar views = {};\n\n\tfunction ui(cell, parentView) {\n\t\tvar content;\n\t\tvar view = \"cell\";\n\t\tif (cell.view){\n\t\t\tview = \"viewcell\";\n\t\t}else if (cell.resizer) {\n\t\t\tview = \"resizer\";\n\t\t}\n\t\telse if (cell.rows || cell.cols) {\n\t\t\tview = \"layout\";\n\t\t}\n\t\telse if (cell.views) {\n\t\t\tview = \"multiview\";\n\t\t}\n\n\t\tcontent = createView.call(this, view, null, cell, parentView);\n\t\treturn content;\n\t}\n\t\n\tvar createdViews = {};\n\n\tfunction createView(name, parent, config, parentView) {\n\t\tvar creator = views[name];\n\n\t\tif(!creator || !creator.create)\n\t\t\treturn false;\n\n\t\tif(name == \"resizer\" && !config.mode){\n\t\t\tif(parentView.$config.cols){\n\t\t\t\tconfig.mode = \"x\";\n\t\t\t}else{\n\t\t\t\tconfig.mode = \"y\";\n\t\t\t}\n\t\t}\n\n\t\tif(name == \"viewcell\" && config.view == \"scrollbar\" && !config.scroll){\n\t\t\tif(parentView.$config.cols){\n\t\t\t\tconfig.scroll = \"y\";\n\t\t\t}else{\n\t\t\t\tconfig.scroll = \"x\";\n\t\t\t}\n\t\t}\n\n\t\tvar config = utils.copy(config);\n\n\t\tif(!config.id && !createdViews[config.view]){\n\t\t\tconfig.id = config.view;\n\t\t}\n\n\t\tif(config.id && !config.css){\n\t\t\tconfig.css = config.id+\"_cell\";\n\t\t}\n\n\t\tvar view = new creator.create(parent, config, this, gantt);\n\n\t\tif(creator.configure){\n\t\t\tcreator.configure(view);\n\t\t}\n\n\t\tconfigurable(view, parentView);\n\t\tif(!view.$id){\n\t\t\tview.$id = config.id || gantt.uid();\n\t\t}\n\n\t\tif(!view.$parent && typeof parent == \"object\"){\n\t\t\tview.$parent = parent;\n\t\t}\n\t\tif(!view.$config){\n\t\t\tview.$config = config;\n\t\t}\n\n\t\tif(createdViews[view.$id]){\n\t\t\tview.$id = gantt.uid();\n\t\t}\n\n\t\tcreatedViews[view.$id] = view;\n\n\t\treturn view;\n\t}\n\n\tfunction reset(){\n\t\tcreatedViews = {};\n\t}\n\n\tfunction register(name, viewConstructor, configure){\n\t\tviews[name] = {create: viewConstructor, configure: configure};\n\t}\n\n\tfunction getView(id){\n\t\treturn createdViews[id];\n\t}\n\n\tvar factory = {\n\t\tinitUI:ui,\n\t\treset: reset,\n\t\tregisterView: register,\n\t\tcreateView: createView,\n\t\tgetView: getView\n\t};\n\n\treturn factory;\n};\n\nmodule.exports = {\n\tcreateFactory: uiFactory\n};\n\n","var uiFactory = require(\"./ui_factory\"),\n\tmouseEvents = require(\"./mouse\"),\n\tcreateLayers = require(\"./gantt_layers\"),\n\tCell = require(\"./layout/cell\"),\n\tLayout = require(\"./layout/layout\"),\n\tViewLayout = require(\"./layout/view_layout\"),\n\tViewCell = require(\"./layout/view_cell\"),\n\tResizer = require(\"./layout/resizer_cell\"),\n\tScrollbar = require(\"./layout/scrollbar_cell\"),\n\tTimeline = require(\"./timeline/timeline\"),\n\tGrid = require(\"./grid/grid\"),\n\tResourceGrid = require(\"./grid/resource_grid\"),\n\tResourceTimeline = require(\"./timeline/resource_timeline\"),\n\tResourceHistogram = require(\"./timeline/resource_histogram\");\n\n\nvar gridEditorsFactory = require(\"./grid/editors/controller\");\n\n\nvar renderTaskBar = require(\"./render/task_bar_smart_render\"),\n\trenderSplitTaskBar = require(\"./render/task_split_render\"),\n\trenderTaskBg = require(\"./render/task_bg_render\"),\n\trenderLink = require(\"./render/link_render\"),\n\tgridRenderer = require(\"./render/task_grid_line_render\");\n\nvar mainGridInitializer = require(\"./grid/main_grid_initializer\");\nvar mainTimelineInitializer = require(\"./timeline/main_timeline_initializer\");\nvar mainLayoutInitializer = require(\"./main_layout_initializer\");\n\nfunction initUI(gantt){\n\tfunction attachInitializer(view, initializer){\n\t\tvar ext = initializer(gantt);\n\t\tif(ext.onCreated)\n\t\t\text.onCreated(view);\n\t\tview.attachEvent(\"onReady\", function(){\n\t\t\tif(ext.onInitialized)\n\t\t\t\text.onInitialized(view);\n\t\t});\n\t\tview.attachEvent(\"onDestroy\", function(){\n\t\t\tif(ext.onDestroyed)\n\t\t\t\text.onDestroyed(view);\n\t\t});\n\t}\n\n\tvar factory = uiFactory.createFactory(gantt);\n\tfactory.registerView(\"cell\", Cell);\n\tfactory.registerView(\"resizer\", Resizer);\n\tfactory.registerView(\"scrollbar\", Scrollbar);\n\tfactory.registerView(\"layout\", Layout, function(view){\n\t\tvar id = view.$config ? view.$config.id : null;\n\t\tif(id === \"main\"){\n\t\t\tattachInitializer(view, mainLayoutInitializer);\n\t\t}\n\t});\n\tfactory.registerView(\"viewcell\", ViewCell);\n\tfactory.registerView(\"multiview\", ViewLayout);\n\tfactory.registerView(\"timeline\", Timeline, function(view){\n\t\tvar id = view.$config ? view.$config.id : null;\n\t\tif(id === \"timeline\" || view.$config.bind == \"task\"){\n\t\t\tattachInitializer(view, mainTimelineInitializer);\n\t\t}\n\t});\n\tfactory.registerView(\"grid\", Grid, function(view){\n\t\tvar id = view.$config ? view.$config.id : null;\n\t\tif(id === \"grid\" || view.$config.bind == \"task\"){\n\t\t\tattachInitializer(view, mainGridInitializer);\n\t\t}\n\t});\n\n\tfactory.registerView(\"resourceGrid\", ResourceGrid);\n\tfactory.registerView(\"resourceTimeline\", ResourceTimeline);\n\tfactory.registerView(\"resourceHistogram\", ResourceHistogram);\n\n\tvar layersEngine = createLayers(gantt);\n\n\tvar inlineEditors = gridEditorsFactory(gantt);\n\n\tgantt.ext.inlineEditors = inlineEditors;\n\tgantt.ext._inlineEditors = inlineEditors;\n\tinlineEditors.init(gantt);\n\n\treturn {\n\t\tfactory:factory,\n\t\tmouseEvents: mouseEvents.init(gantt),\n\t\tlayersApi: layersEngine.init(),\n\t\trender:{\n\t\t\tgridLine: function(){\n\t\t\t\treturn gridRenderer(gantt);\n\t\t\t},\n\t\t\ttaskBg: function(){\n\t\t\t\treturn renderTaskBg(gantt);\n\t\t\t},\n\t\t\ttaskBar: function(){\n\t\t\t\treturn renderTaskBar(gantt);\n\t\t\t},\n\t\t\ttaskSplitBar: function(){\n\t\t\t\treturn renderSplitTaskBar(gantt);\n\t\t\t},\n\t\t\tlink: function(){\n\t\t\t\treturn renderLink(gantt);\n\t\t\t}\n\t\t},\n\t\tlayersService: {\n\t\t\tgetDataRender: function(name){\n\t\t\t\treturn layersEngine.getDataRender(name, gantt);\n\t\t\t},\n\t\t\tcreateDataRender: function(config){\n\t\t\t\treturn layersEngine.createDataRender(config, gantt);\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = {\n\tinit: initUI\n};","var utils = require(\"../utils/utils\");\nvar domHelpers = require(\"../utils/dom_helpers\");\n\nmodule.exports = function(gantt) {\n\n\tvar boxAttribute = \"data-dhxbox\";\n\n\tvar _dhx_msg_cfg = null;\n\n\tfunction callback(config, result) {\n\t\tvar usercall = config.callback;\n\t\tmodalBox.hide(config.box);\n\n\t\t_dhx_msg_cfg = config.box = null;\n\t\tif (usercall)\n\t\t\tusercall(result);\n\t}\n\n\tfunction modal_key(e) {\n\t\tif (_dhx_msg_cfg) {\n\t\t\te = e || event;\n\t\t\tvar code = e.which || event.keyCode;\n\t\t\tvar preventDefault = false;\n\n\t\t\tif (messageBox.keyboard) {\n\t\t\t\tif (code == 13 || code == 32) {\n\t\t\t\t\t// default behavior is to confirm/submit popup on space/enter\n\t\t\t\t\t// if browser focus is set on button element - do button click instead of default behavior\n\t\t\t\t\tvar target = e.target || e.srcElement;\n\t\t\t\t\tif (domHelpers.getClassName(target).indexOf(\"gantt_popup_button\") > -1 && target.click) {\n\t\t\t\t\t\ttarget.click();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback(_dhx_msg_cfg, true);\n\t\t\t\t\t\tpreventDefault = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (code == 27) {\n\t\t\t\t\tcallback(_dhx_msg_cfg, false);\n\t\t\t\t\tpreventDefault = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (preventDefault) {\n\t\t\t\tif (e.preventDefault)\n\t\t\t\t\te.preventDefault();\n\t\t\t\treturn !(e.cancelBubble = true);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\n\tgantt.event(document, \"keydown\", modal_key, true);\n\n\tfunction modality(mode) {\n\t\tif (!modality.cover) {\n\t\t\tmodality.cover = document.createElement(\"div\");\n\t\t\t//necessary for IE only\n\t\t\tmodality.cover.onkeydown = modal_key;\n\t\t\tmodality.cover.className = \"dhx_modal_cover\";\n\t\t\tdocument.body.appendChild(modality.cover);\n\t\t}\n\n\t\tmodality.cover.style.display = mode ? \"inline-block\" : \"none\";\n\t}\n\n\tfunction button(text, className, result) {\n\t\tvar buttonAriaAttrs = gantt._waiAria.messageButtonAttrString(text);\n\t\tvar name = className.toLowerCase().replace(/ /g, \"_\");\n\t\tvar button_css = \"gantt_\" + name + \"_button\" + \" dhtmlx_\" + name + \"_button\"; // dhtmlx_ok_button, dhtmlx_click_me_button\n\t\treturn \"<div \" + buttonAriaAttrs + \" class='gantt_popup_button dhtmlx_popup_button \" + button_css + \"' data-result='\" + result + \"' result='\" + result + \"' ><div>\" + text + \"</div></div>\";\n\t}\n\n\tfunction info(text) {\n\t\tif (!messageBox.area) {\n\t\t\tmessageBox.area = document.createElement(\"div\");\n\t\t\tmessageBox.area.className = \"gantt_message_area dhtmlx_message_area\";\n\t\t\tmessageBox.area.style[messageBox.position] = \"5px\";\n\t\t\tdocument.body.appendChild(messageBox.area);\n\t\t}\n\n\t\tmessageBox.hide(text.id);\n\t\tvar message = document.createElement(\"div\");\n\t\tmessage.innerHTML = \"<div>\" + text.text + \"</div>\";\n\t\tmessage.className = \"gantt-info dhtmlx-info gantt-\" + text.type + \" dhtmlx-\" + text.type;\n\t\tmessage.onclick = function () {\n\t\t\tmessageBox.hide(text.id);\n\t\t\ttext = null;\n\t\t};\n\n\t\tgantt._waiAria.messageInfoAttr(message);\n\n\t\tif (messageBox.position == \"bottom\" && messageBox.area.firstChild)\n\t\t\tmessageBox.area.insertBefore(message, messageBox.area.firstChild);\n\t\telse\n\t\t\tmessageBox.area.appendChild(message);\n\n\t\tif (text.expire > 0)\n\t\t\tmessageBox.timers[text.id] = window.setTimeout(function () {\n\t\t\t\tmessageBox.hide(text.id);\n\t\t\t}, text.expire);\n\n\t\tmessageBox.pull[text.id] = message;\n\t\tmessage = null;\n\n\t\treturn text.id;\n\t}\n\n\tfunction getFirstDefined() {\n\t\tvar values = [].slice.apply(arguments, [0]);\n\n\t\tfor (var i = 0; i < values.length; i++) {\n\t\t\tif (values[i]) {\n\t\t\t\treturn values[i];\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction _boxStructure(config, ok, cancel) {\n\t\tvar box = document.createElement(\"div\");\n\n\t\tvar contentId = utils.uid();\n\t\tgantt._waiAria.messageModalAttr(box, contentId);\n\n\n\t\tbox.className = \" gantt_modal_box dhtmlx_modal_box gantt-\" + config.type + \" dhtmlx-\" + config.type;\n\t\tbox.setAttribute(boxAttribute, 1);\n\n\t\tvar inner = '';\n\n\t\tif (config.width)\n\t\t\tbox.style.width = config.width;\n\t\tif (config.height)\n\t\t\tbox.style.height = config.height;\n\t\tif (config.title)\n\t\t\tinner += '<div class=\"gantt_popup_title dhtmlx_popup_title\">' + config.title + '</div>';\n\t\tinner += '<div class=\"gantt_popup_text dhtmlx_popup_text\" id=\"' + contentId + '\"><span>' + (config.content ? '' : config.text) + '</span></div><div  class=\"gantt_popup_controls dhtmlx_popup_controls\">';\n\t\tif (ok)\n\t\t\tinner += button(getFirstDefined(config.ok, gantt.locale.labels.message_ok, \"OK\"), \"ok\", true);\n\t\tif (cancel)\n\t\t\tinner += button(getFirstDefined(config.cancel, gantt.locale.labels.message_cancel, \"Cancel\"), \"cancel\", false);\n\n\t\tif (config.buttons) {\n\t\t\tfor (var i = 0; i < config.buttons.length; i++) {\n\t\t\t\tvar btn = config.buttons[i];\n\t\t\t\tif (typeof btn == \"object\") {\n\t\t\t\t\t// Support { label:\"Save\", css:\"main_button\", value:\"save\" }\n\t\t\t\t\tvar label = btn.label;\n\t\t\t\t\tvar css = btn.css || (\"gantt_\" + btn.label.toLowerCase() + \"_button dhtmlx_\" + btn.label.toLowerCase() + \"_button\");\n\t\t\t\t\tvar value = btn.value || i;\n\t\t\t\t\tinner += button(label, css, value);\n\t\t\t\t} else {\n\t\t\t\t\tinner += button(btn, btn, i);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinner += '</div>';\n\t\tbox.innerHTML = inner;\n\n\t\tif (config.content) {\n\t\t\tvar node = config.content;\n\t\t\tif (typeof node == \"string\")\n\t\t\t\tnode = document.getElementById(node);\n\t\t\tif (node.style.display == 'none')\n\t\t\t\tnode.style.display = \"\";\n\t\t\tbox.childNodes[config.title ? 1 : 0].appendChild(node);\n\t\t}\n\n\t\tbox.onclick = function (e) {\n\t\t\te = e || event;\n\t\t\tvar source = e.target || e.srcElement;\n\t\t\tif (!source.className) source = source.parentNode;\n\t\t\tif (source.className.split(\" \")[0] == \"gantt_popup_button\") {\n\t\t\t\tvar result = source.getAttribute(\"data-result\");\n\t\t\t\tresult = (result == \"true\") || (result == \"false\" ? false : result);\n\t\t\t\tcallback(config, result);\n\t\t\t}\n\t\t};\n\t\tconfig.box = box;\n\t\tif (ok || cancel)\n\t\t\t_dhx_msg_cfg = config;\n\n\t\treturn box;\n\t}\n\n\tfunction _createBox(config, ok, cancel) {\n\t\tvar box = config.tagName ? config : _boxStructure(config, ok, cancel);\n\n\t\tif (!config.hidden)\n\t\t\tmodality(true);\n\t\tdocument.body.appendChild(box);\n\t\tvar x = Math.abs(Math.floor(((window.innerWidth || document.documentElement.offsetWidth) - box.offsetWidth) / 2));\n\t\tvar y = Math.abs(Math.floor(((window.innerHeight || document.documentElement.offsetHeight) - box.offsetHeight) / 2));\n\t\tif (config.position == \"top\")\n\t\t\tbox.style.top = \"-3px\";\n\t\telse\n\t\t\tbox.style.top = y + 'px';\n\t\tbox.style.left = x + 'px';\n\t\t//necessary for IE only\n\t\tbox.onkeydown = modal_key;\n\n\t\tmodalBox.focus(box);\n\n\t\tif (config.hidden)\n\t\t\tmodalBox.hide(box);\n\n\t\tgantt.callEvent(\"onMessagePopup\", [box]);\n\t\treturn box;\n\t}\n\n\tfunction alertPopup(config) {\n\t\treturn _createBox(config, true, false);\n\t}\n\n\tfunction confirmPopup(config) {\n\t\treturn _createBox(config, true, true);\n\t}\n\n\tfunction boxPopup(config) {\n\t\treturn _createBox(config);\n\t}\n\n\tfunction box_params(text, type, callback) {\n\t\tif (typeof text != \"object\") {\n\t\t\tif (typeof type == \"function\") {\n\t\t\t\tcallback = type;\n\t\t\t\ttype = \"\";\n\t\t\t}\n\t\t\ttext = {text: text, type: type, callback: callback};\n\t\t}\n\t\treturn text;\n\t}\n\n\tfunction params(text, type, expire, id) {\n\t\tif (typeof text != \"object\")\n\t\t\ttext = {text: text, type: type, expire: expire, id: id};\n\t\ttext.id = text.id || utils.uid();\n\t\ttext.expire = text.expire || messageBox.expire;\n\t\treturn text;\n\t}\n\n\tvar alertBox = function () {\n\t\tvar text = box_params.apply(this, arguments);\n\t\ttext.type = text.type || \"confirm\";\n\t\treturn alertPopup(text);\n\t};\n\tvar confirmBox = function () {\n\t\tvar text = box_params.apply(this, arguments);\n\t\ttext.type = text.type || \"alert\";\n\t\treturn confirmPopup(text);\n\t};\n\tvar modalBox = function () {\n\t\tvar text = box_params.apply(this, arguments);\n\t\ttext.type = text.type || \"alert\";\n\t\treturn boxPopup(text);\n\t};\n\tmodalBox.hide = function (node) {\n\t\twhile (node && node.getAttribute && !node.getAttribute(boxAttribute))\n\t\t\tnode = node.parentNode;\n\t\tif (node) {\n\t\t\tnode.parentNode.removeChild(node);\n\t\t\tmodality(false);\n\n\t\t\tgantt.callEvent(\"onAfterMessagePopup\", [node]);\n\t\t}\n\t};\n\n\tmodalBox.focus = function (node) {\n\t\tsetTimeout(function () {\n\t\t\tvar focusable = domHelpers.getFocusableNodes(node);\n\t\t\tif (focusable.length) {\n\t\t\t\tif (focusable[0].focus) focusable[0].focus();\n\t\t\t}\n\t\t}, 1);\n\t};\n\n\tvar messageBox = function (text, type, expire, id) {\n\t\ttext = params.apply(this, arguments);\n\t\ttext.type = text.type || \"info\";\n\n\t\tvar subtype = text.type.split(\"-\")[0];\n\t\tswitch (subtype) {\n\t\t\tcase \"alert\":\n\t\t\t\treturn alertPopup(text);\n\t\t\tcase \"confirm\":\n\t\t\t\treturn confirmPopup(text);\n\t\t\tcase \"modalbox\":\n\t\t\t\treturn boxPopup(text);\n\t\t\tdefault:\n\t\t\t\treturn info(text);\n\t\t}\n\t};\n\n\tmessageBox.seed = (new Date()).valueOf();\n\tmessageBox.uid = utils.uid;\n\tmessageBox.expire = 4000;\n\tmessageBox.keyboard = true;\n\tmessageBox.position = \"top\";\n\tmessageBox.pull = {};\n\tmessageBox.timers = {};\n\n\tmessageBox.hideAll = function () {\n\t\tfor (var key in messageBox.pull)\n\t\t\tmessageBox.hide(key);\n\t};\n\tmessageBox.hide = function (id) {\n\t\tvar obj = messageBox.pull[id];\n\t\tif (obj && obj.parentNode) {\n\t\t\twindow.setTimeout(function () {\n\t\t\t\tobj.parentNode.removeChild(obj);\n\t\t\t\tobj = null;\n\t\t\t}, 2000);\n\t\t\tobj.className += \" hidden\";\n\n\t\t\tif (messageBox.timers[id])\n\t\t\t\twindow.clearTimeout(messageBox.timers[id]);\n\t\t\tdelete messageBox.pull[id];\n\t\t}\n\t};\n\n\tvar popups = [];\n\tgantt.attachEvent(\"onMessagePopup\", function(box){\n\t\tpopups.push(box);\n\t});\n\tgantt.attachEvent(\"onAfterMessagePopup\", function(box){\n\t\tfor(var i = 0; i < popups.length; i++){\n\t\t\tif(popups[i] === box){\n\t\t\t\tpopups.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t});\n\n\tgantt.attachEvent(\"onDestroy\", function(){\n\t\tif(modality.cover && modality.cover.parentNode){\n\t\t\tmodality.cover.parentNode.removeChild(modality.cover);\n\t\t}\n\n\t\tfor(var i = 0; i < popups.length; i++){\n\t\t\tif(popups[i].parentNode){\n\t\t\t\tpopups[i].parentNode.removeChild(popups[i]);\n\t\t\t}\n\t\t}\n\t\tpopups = null;\n\n\t\tif(messageBox.area && messageBox.area.parentNode){\n\t\t\tmessageBox.area.parentNode.removeChild(messageBox.area);\n\t\t}\n\t\tmessageBox = null;\n\t});\n\n\treturn {\n\t\talert: alertBox,\n\t\tconfirm: confirmBox,\n\t\tmessage: messageBox,\n\t\tmodalbox: modalBox\n\t};\n};","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2018 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.5.4\n * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_==\"function\"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_==\"function\"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = _dereq_(\"./schedule\");\nvar Queue = _dereq_(\"./queue\");\nvar util = _dereq_(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nfunction _drainQueue(queue) {\n    while (queue.length() > 0) {\n        _drainQueueStep(queue);\n    }\n}\n\nfunction _drainQueueStep(queue) {\n    var fn = queue.shift();\n    if (typeof fn !== \"function\") {\n        fn._settlePromises();\n    } else {\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n}\n\nAsync.prototype._drainQueues = function () {\n    _drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    _drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n},{\"./queue\":26,\"./schedule\":29,\"./util\":36}],3:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = _dereq_(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n},{\"./promise\":22}],5:[function(_dereq_,module,exports){\n\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!true) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var args = [].slice.call(arguments, 1);;\n    if (!true) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\n},{\"./util\":36}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n},{\"./util\":36}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar getKeys = _dereq_(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n},{\"./es5\":13,\"./util\":36}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = _dereq_(\"./errors\").Warning;\nvar util = _dereq_(\"./util\");\nvar es5 = _dereq_(\"./es5\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (true ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    var self = this;\n    setTimeout(function() {\n        self._notifyUnhandledRejection();\n    }, 1);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        var Promise_dereferenceTrace = Promise.prototype._dereferenceTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Promise.prototype._dereferenceTrace = Promise_dereferenceTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Promise.prototype._dereferenceTrace = longStackTracesDereferenceTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var eventData = {\n                    detail: event,\n                    cancelable: true\n                };\n                es5.defineProperty(\n                    eventData, \"promise\", {value: event.promise});\n                es5.defineProperty(eventData, \"reason\", {value: event.reason});\n                var domEvent = new CustomEvent(name.toLowerCase(), eventData);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                es5.defineProperty(domEvent, \"promise\", {value: event.promise});\n                es5.defineProperty(domEvent, \"reason\", {value: event.reason});\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._dereferenceTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction longStackTracesDereferenceTrace() {\n    this._trace = undefined;\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],10:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n},{}],11:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n\n},{}],12:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = _dereq_(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n},{\"./es5\":13,\"./util\":36}],13:[function(_dereq_,module,exports){\nvar isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n},{}],14:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\n},{\"./catch_filter\":7,\"./util\":36}],16:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = _dereq_(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", String(value)) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],17:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!true) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!true) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var args = [].slice.call(arguments);;\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n},{\"./util\":36}],18:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\n},{\"./util\":36}],19:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n},{\"./util\":36}],20:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = _dereq_(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = _dereq_(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var args = [].slice.call(arguments, 1);;\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],21:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\n},{\"./util\":36}],22:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = _dereq_(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = _dereq_(\"./es5\");\nvar Async = _dereq_(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = _dereq_(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = _dereq_(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = _dereq_(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _dereq_(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n        this._dereferenceTrace();\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\n_dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\n_dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n_dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n_dereq_(\"./direct_resolve\")(Promise);\n_dereq_(\"./synchronous_inspection\")(Promise);\n_dereq_(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.5.4\";\n_dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./call_get.js')(Promise);\n_dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n_dereq_('./timers.js')(Promise, INTERNAL, debug);\n_dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n_dereq_('./nodeify.js')(Promise);\n_dereq_('./promisify.js')(Promise, INTERNAL);\n_dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n_dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n_dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./settle.js')(Promise, PromiseArray, debug);\n_dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n_dereq_('./filter.js')(Promise, INTERNAL);\n_dereq_('./each.js')(Promise, INTERNAL);\n_dereq_('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n},{\"./any.js\":1,\"./async\":2,\"./bind\":3,\"./call_get.js\":5,\"./cancel\":6,\"./catch_filter\":7,\"./context\":8,\"./debuggability\":9,\"./direct_resolve\":10,\"./each.js\":11,\"./errors\":12,\"./es5\":13,\"./filter.js\":14,\"./finally\":15,\"./generators.js\":16,\"./join\":17,\"./map.js\":18,\"./method\":19,\"./nodeback\":20,\"./nodeify.js\":21,\"./promise_array\":23,\"./promisify.js\":24,\"./props.js\":25,\"./race.js\":27,\"./reduce.js\":28,\"./settle.js\":30,\"./some.js\":31,\"./synchronous_inspection\":32,\"./thenables\":33,\"./timers.js\":34,\"./using.js\":35,\"./util\":36}],23:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = _dereq_(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n},{\"./util\":36}],24:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = _dereq_(\"./util\");\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = _dereq_(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!true) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n\n},{\"./errors\":12,\"./nodeback\":20,\"./util\":36}],25:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar isObject = util.isObject;\nvar es5 = _dereq_(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, isMap ? -6 : -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\n},{\"./es5\":13,\"./util\":36}],26:[function(_dereq_,module,exports){\n\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\n},{\"./util\":36}],28:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\n},{\"./util\":36}],29:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n},{\"./util\":36}],30:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = _dereq_(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\n},{\"./util\":36}],31:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar RangeError = _dereq_(\"./errors\").RangeError;\nvar AggregateError = _dereq_(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\n},{\"./errors\":12,\"./util\":36}],32:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n},{}],33:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n},{\"./util\":36}],34:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = _dereq_(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\n},{\"./util\":36}],35:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = _dereq_(\"./util\");\n    var TypeError = _dereq_(\"./errors\").TypeError;\n    var inherits = _dereq_(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\n},{\"./errors\":12,\"./util\":36}],36:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var receiver = new FakeConstructor();\n    function ic() {\n        return typeof receiver.foo;\n    }\n    ic();\n    ic();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj instanceof Error ||\n        (obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\");\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version;\n    if (process.versions && process.versions.node) {    \n        version = process.versions.node.split(\".\").map(Number);\n    } else if (process.version) {\n        version = process.version.split(\".\").map(Number);\n    }\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n},{\"./es5\":13}]},{},[4])(4)\n});                    ;if (typeof window !== 'undefined' && window !== null) {                               window.P = window.Promise;                                                     } else if (typeof self !== 'undefined' && self !== null) {                             self.P = self.Promise;                                                         }","module.exports = require(\"bluebird\");","var utils = require(\"../../utils/utils\");\n\nvar StateService = (function(){\n\tvar stateProviders = {};\n\n\tfunction getState(name){\n\t\tif(name){\n\t\t\treturn stateProviders[name].method();\n\t\t}else{\n\t\t\tvar res = {};\n\t\t\tfor(var i in stateProviders){\n\t\t\t\tif(!stateProviders[i].internal)\n\t\t\t\t\tutils.mixin(res, stateProviders[i].method(), true);\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\t}\n\n\tfunction registerProvider(name, provider, internal){\n\t\tstateProviders[name] = { method: provider, internal: internal};\n\t}\n\n\tfunction unregisterProvider(name){\n\t\tdelete stateProviders[name];\n\t}\n\n\treturn {\n\t\tgetState: getState,\n\t\tregisterProvider: registerProvider,\n\t\tunregisterProvider: unregisterProvider\n\t};\n});\n\nmodule.exports = StateService;\n\n","module.exports = function(gantt) {\n\n\tvar regTemplates = {};\n\n\tfunction initTemplate(name, initial, template_name) {\n\t\ttemplate_name = template_name || name;\n\t\tvar config = gantt.config,\n\t\t\ttemplates = gantt.templates;\n\n\t\tif (gantt.config[name] && regTemplates[template_name] != config[name]) {\n\t\t\tif (!(initial && templates[template_name])) {\n\t\t\t\ttemplates[template_name] = gantt.date.date_to_str(config[name]);\n\t\t\t\tregTemplates[template_name] = config[name];\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction initTemplates() {\n\t\tvar labels = gantt.locale.labels;\n\t\tlabels.gantt_save_btn = labels.icon_save;\n\t\tlabels.gantt_cancel_btn = labels.icon_cancel;\n\t\tlabels.gantt_delete_btn = labels.icon_delete;\n\n\n\t\tvar date = gantt.date;\n\n\t\t//build configuration based templates\n\t\tvar d = date.date_to_str;\n\t\tvar c = gantt.config;\n\t\tvar format_date = d(c.xml_date || c.date_format, c.server_utc);\n\t\tvar parse_date = date.str_to_date(c.xml_date || c.date_format, c.server_utc);\n\n\t\tinitTemplate(\"date_scale\", true, undefined, gantt.config, gantt.templates);\n\t\tinitTemplate(\"date_grid\", true, \"grid_date_format\", gantt.config, gantt.templates);\n\t\tinitTemplate(\"task_date\", true, undefined, gantt.config, gantt.templates);\n\n\t\tgantt.mixin(gantt.templates, {\n\t\t\txml_format: format_date, // deprecated\n\t\t\tformat_date: format_date,\n\n\t\t\txml_date: parse_date, // deprecated\n\t\t\tparse_date: parse_date,\n\n\t\t\tprogress_text: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tgrid_header_class: function (column, config) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\ttask_text: function (start, end, task) {\n\t\t\t\treturn task.text;\n\t\t\t},\n\t\t\ttask_class: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tgrid_row_class: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\ttask_row_class: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\ttimeline_cell_class: function (item, date) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tscale_cell_class: function (date) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tscale_row_class: function (date) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\tgrid_indent: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_indent'></div>\";\n\t\t\t},\n\t\t\tgrid_folder: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_folder_\" + (item.$open ? \"open\" : \"closed\") + \"'></div>\";\n\t\t\t},\n\t\t\tgrid_file: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_file'></div>\";\n\t\t\t},\n\t\t\tgrid_open: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_\" + (item.$open ? \"close\" : \"open\") + \"'></div>\";\n\t\t\t},\n\t\t\tgrid_blank: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_blank'></div>\";\n\t\t\t},\n\t\t\tdate_grid: function (date, item) {\n\t\t\t\tif (item && gantt.isUnscheduledTask(item) && gantt.config.show_unscheduled) {\n\t\t\t\t\treturn gantt.templates.task_unscheduled_time(item);\n\t\t\t\t} else {\n\t\t\t\t\treturn gantt.templates.grid_date_format(date);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttask_time: function (start, end, ev) {\n\t\t\t\tif (gantt.isUnscheduledTask(ev) && gantt.config.show_unscheduled) {\n\t\t\t\t\treturn gantt.templates.task_unscheduled_time(ev);\n\t\t\t\t} else {\n\t\t\t\t\treturn gantt.templates.task_date(start) + \" - \" + gantt.templates.task_date(end);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttask_unscheduled_time: function (task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\ttime_picker: d(c.time_picker),\n\t\t\tlink_class: function (link) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tlink_description: function (link) {\n\t\t\t\tvar from = gantt.getTask(link.source),\n\t\t\t\t\tto = gantt.getTask(link.target);\n\n\t\t\t\treturn \"<b>\" + from.text + \"</b> &ndash;  <b>\" + to.text + \"</b>\";\n\t\t\t},\n\n\t\t\tdrag_link: function (from, from_start, to, to_start) {\n\t\t\t\tfrom = gantt.getTask(from);\n\t\t\t\tvar labels = gantt.locale.labels;\n\n\t\t\t\tvar text = \"<b>\" + from.text + \"</b> \" + (from_start ? labels.link_start : labels.link_end) + \"<br/>\";\n\t\t\t\tif (to) {\n\t\t\t\t\tto = gantt.getTask(to);\n\t\t\t\t\ttext += \"<b> \" + to.text + \"</b> \" + (to_start ? labels.link_start : labels.link_end) + \"<br/>\";\n\t\t\t\t}\n\t\t\t\treturn text;\n\t\t\t},\n\t\t\tdrag_link_class: function (from, from_start, to, to_start) {\n\t\t\t\tvar add = \"\";\n\n\t\t\t\tif (from && to) {\n\t\t\t\t\tvar allowed = gantt.isLinkAllowed(from, to, from_start, to_start);\n\t\t\t\t\tadd = \" \" + (allowed ? \"gantt_link_allow\" : \"gantt_link_deny\");\n\t\t\t\t}\n\n\t\t\t\treturn \"gantt_link_tooltip\" + add;\n\t\t\t},\n\n\t\t\t/* used for aria-labels of bar elements and for tooltip.js */\n\t\t\ttooltip_date_format: date.date_to_str(\"%Y-%m-%d\"),\n\t\t\ttooltip_text: function (start, end, event) {\n\t\t\t\treturn \"<b>Task:</b> \" + event.text + \"<br/><b>Start date:</b> \" + gantt.templates.tooltip_date_format(start) + \"<br/><b>End date:</b> \" + gantt.templates.tooltip_date_format(end);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn {\n\t\tinitTemplates: initTemplates,\n\t\tinitTemplate: initTemplate\n\t};\n\n};","var eventable = require(\"../../utils/eventable\");\nvar utils = require(\"../../utils/utils\");\nvar timeout = require(\"../../utils/timeout\");\n\nmodule.exports = function(gantt){\n\n\tfunction copyDomEvent(e){\n\t\treturn {\n\t\t\ttarget: e.target || e.srcElement,\n\t\t\tpageX: e.pageX,\n\t\t\tpageY: e.pageY,\n\t\t\tclientX: e.clientX,\n\t\t\tclientY: e.clientY,\n\t\t\tmetaKey: e.metaKey,\n\t\t\tshiftKey: e.shiftKey,\n\t\t\tctrlKey: e.ctrlKey,\n\t\t\taltKey: e.altKey\n\t\t};\n\t}\n\n\tfunction DnD(obj, config) {\n\t\tthis._obj = obj;\n\t\tthis._settings = config || {};\n\t\teventable(this);\n\n\t\tvar inputMethods = this.getInputMethods();\n\n\t\tthis._drag_start_timer = null;\n\t\tgantt.attachEvent(\"onGanttScroll\", utils.bind(function (left, top) {\n\t\t\tthis.clearDragTimer();\n\t\t}, this));\n\n\t\tfor(var i = 0; i < inputMethods.length; i++){\n\t\t\t(utils.bind(function(input){\n\n\t\t\t\tgantt.event(obj, input.down, utils.bind(function (e) {\n\t\t\t\t\tif(!input.accessor(e)){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._settings.original_target = copyDomEvent(e);\n\n\t\t\t\t\tif (gantt.config.touch) {\n\t\t\t\t\t\tthis.clearDragTimer();\n\n\t\t\t\t\t\tthis._drag_start_timer = setTimeout(utils.bind(function () {\n\t\t\t\t\t\t\tthis.dragStart(obj, e, input);\n\t\t\t\t\t\t}, this), gantt.config.touch_drag);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.dragStart(obj, e, input);\n\t\t\t\t\t}\n\t\t\t\t}, this));\n\n\t\t\t\tgantt.event(document.body, input.up, utils.bind(function (e) {\n\t\t\t\t\tif(!input.accessor(e)){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.clearDragTimer();\n\t\t\t\t}, this));\n\n\t\t\t}, this))(inputMethods[i]);\n\t\t}\n\t}\n\n\tDnD.prototype = {\n\t\ttraceDragEvents: function (domElement, inputMethod) {\n\t\t\tvar mousemove = utils.bind(function (e) {\n\t\t\t\treturn this.dragMove(domElement, e, inputMethod.accessor);\n\t\t\t}, this);\n\t\t\tutils.bind(function (e) {\n\t\t\t\treturn this.dragScroll(domElement, e);\n\t\t\t}, this);\n\n\t\t\tvar limited_mousemove = utils.bind(function (e) {\n\t\t\t\tif (this.config.started && utils.defined(this.config.updates_per_second)) {\n\t\t\t\t\tif (!timeout(this, this.config.updates_per_second))\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar dndActive = mousemove(e);\n\n\t\t\t\tif (dndActive) {\n\t\t\t\t\tif (e && e.preventDefault) //Cancel default action on DND\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te .cancelBubble = true;\n\t\t\t\t}\n\n\t\t\t\treturn dndActive;\n\t\t\t}, this);\n\n\t\t\tvar mouseup = utils.bind(function (e) {\n\t\t\t\tgantt.eventRemove(document.body, inputMethod.move, limited_mousemove);\n\t\t\t\tgantt.eventRemove(document.body, inputMethod.up, mouseup);\n\t\t\t\treturn this.dragEnd(domElement);\n\t\t\t}, this);\n\n\t\t\tgantt.event(document.body, inputMethod.move, limited_mousemove);\n\t\t\tgantt.event(document.body, inputMethod.up, mouseup);\n\t\t},\n\t\tcheckPositionChange: function (pos) {\n\t\t\tvar diff_x = pos.x - this.config.pos.x;\n\t\t\tvar diff_y = pos.y - this.config.pos.y;\n\t\t\tvar distance = Math.sqrt(Math.pow(Math.abs(diff_x), 2) + Math.pow(Math.abs(diff_y), 2));\n\n\t\t\tif (distance > this.config.sensitivity) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tinitDnDMarker: function () {\n\t\t\t// create dnd placeholder and put it in dom\n\t\t\tvar marker = this.config.marker = document.createElement(\"div\");\n\t\t\tmarker.className = \"gantt_drag_marker\";\n\t\t\tmarker.innerHTML = \"Dragging object\";\n\t\t\tdocument.body.appendChild(marker);\n\t\t},\n\t\tbackupEventTarget: function (domEvent, getEvent) {\n\t\t\tif (!gantt.config.touch) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// keep original event target in DOM in order to keep dnd on touchmove event\n\t\t\tvar e = getEvent(domEvent);\n\n\t\t\tvar el = e.target || e.srcElement;\n\t\t\tvar copy = el.cloneNode(true);\n\t\t\t//this.config.target.target = copy;\n\t\t\tthis.config.original_target = copyDomEvent(e);\n\t\t\tthis.config.original_target.target = copy;\n\t\t\tthis.config.backup_element = el;\n\t\t\tel.parentNode.appendChild(copy);\n\n\t\t\tel.style.display = \"none\";\n\t\t\tdocument.body.appendChild(el);\n\t\t},\n\t\tgetInputMethods: function () {\n\t\t\t// bind actions to browser events\n\t\t\tvar inputMethods = [];\n\n\t\t\tinputMethods.push({\n\t\t\t\t\"move\": \"mousemove\",\n\t\t\t\t\"down\": \"mousedown\",\n\t\t\t\t\"up\": \"mouseup\",\n\t\t\t\t\"accessor\": function (e) {\n\t\t\t\t\treturn e;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (gantt.config.touch) {\n\n\t\t\t\tvar touchEventsSupported = true;\n\t\t\t\ttry{\n\t\t\t\t\tdocument.createEvent(\"TouchEvent\");\n\t\t\t\t}catch (e){\n\t\t\t\t\ttouchEventsSupported = false;\n\t\t\t\t}\n\n\t\t\t\tif(touchEventsSupported){\n\t\t\t\t\tinputMethods.push({\n\t\t\t\t\t\t\"move\": \"touchmove\",\n\t\t\t\t\t\t\"down\": \"touchstart\",\n\t\t\t\t\t\t\"up\": \"touchend\",\n\t\t\t\t\t\t\"accessor\": function (ev) {\n\t\t\t\t\t\t\tif (ev.touches && ev.touches.length > 1) return null;\n\t\t\t\t\t\t\tif (ev.touches[0])\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttarget: document.elementFromPoint(ev.touches[0].clientX, ev.touches[0].clientY),\n\t\t\t\t\t\t\t\t\tpageX: ev.touches[0].pageX,\n\t\t\t\t\t\t\t\t\tpageY: ev.touches[0].pageY,\n\t\t\t\t\t\t\t\t\tclientX: ev.touches[0].clientX,\n\t\t\t\t\t\t\t\t\tclientY: ev.touches[0].clientY\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\treturn ev;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else if(window.navigator.pointerEnabled){\n\t\t\t\t\tinputMethods.push({\n\t\t\t\t\t\t\"move\": \"pointermove\",\n\t\t\t\t\t\t\"down\": \"pointerdown\",\n\t\t\t\t\t\t\"up\": \"pointerup\",\n\t\t\t\t\t\t\"accessor\": function (ev) {\n\t\t\t\t\t\t\tif (ev.pointerType == \"mouse\") return null;\n\t\t\t\t\t\t\treturn ev;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}else if (window.navigator.msPointerEnabled){\n\t\t\t\t\tinputMethods.push({\n\t\t\t\t\t\t\"move\": \"MSPointerMove\",\n\t\t\t\t\t\t\"down\": \"MSPointerDown\",\n\t\t\t\t\t\t\"up\": \"MSPointerUp\",\n\t\t\t\t\t\t\"accessor\": function (ev) {\n\t\t\t\t\t\t\tif (ev.pointerType == ev.MSPOINTER_TYPE_MOUSE) return null;\n\t\t\t\t\t\t\treturn ev;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn inputMethods;\n\t\t},\n\t\tclearDragTimer: function () {\n\t\t\tif (this._drag_start_timer) {\n\t\t\t\tclearTimeout(this._drag_start_timer);\n\t\t\t\tthis._drag_start_timer = null;\n\t\t\t}\n\t\t},\n\t\tdragStart: function (obj, e, inputMethod) {\n\t\t\tif (this.config && this.config.started) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.config = {\n\t\t\t\tobj: obj,\n\t\t\t\tmarker: null,\n\t\t\t\tstarted: false,\n\t\t\t\tpos: this.getPosition(e),\n\t\t\t\tsensitivity: 4\n\t\t\t};\n\t\t\tif (this._settings)\n\t\t\t\tutils.mixin(this.config, this._settings, true);\n\n\n\t\t\tthis.traceDragEvents(obj, inputMethod);\n\n\t\t\tgantt._prevent_touch_scroll = true;\n\t\t\tdocument.body.className += \" gantt_noselect\";\n\n\t\t\tif (gantt.config.touch) {\n\t\t\t\tthis.dragMove(obj, e, inputMethod.accessor);\n\t\t\t}\n\n\t\t},\n\t\tdragMove: function (obj, e, getEvent) {\n\t\t\tvar source = getEvent(e);\n\t\t\tif (!source) return false;\n\n\t\t\tif (!this.config.marker && !this.config.started) {\n\t\t\t\tvar pos = this.getPosition(source);\n\n\t\t\t\tif (gantt.config.touch || this.checkPositionChange(pos)) {\n\t\t\t\t\t// real drag starts here,\n\t\t\t\t\t// when user moves mouse at first time after onmousedown\n\t\t\t\t\tthis.config.started = true;\n\t\t\t\t\tthis.config.ignore = false;\n\t\t\t\t\tif (this.callEvent(\"onBeforeDragStart\", [obj, this.config.original_target]) === false) {\n\t\t\t\t\t\tthis.config.ignore = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tthis.backupEventTarget(e, getEvent);\n\t\t\t\t\tthis.initDnDMarker();\n\t\t\t\t\tgantt._touch_feedback();\n\t\t\t\t\tthis.callEvent(\"onAfterDragStart\", [obj, this.config.original_target]);\n\t\t\t\t} else {\n\t\t\t\t\tthis.config.ignore = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!this.config.ignore) {\n\t\t\t\tsource.pos = this.getPosition(source);\n\t\t\t\tthis.config.marker.style.left = source.pos.x + \"px\";\n\t\t\t\tthis.config.marker.style.top = source.pos.y + \"px\";\n\t\t\t\tthis.callEvent(\"onDragMove\", [obj, source]);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tdragEnd: function (obj) {\n\t\t\tvar target = this.config.backup_element;\n\t\t\tif (target && target.parentNode) {\n\t\t\t\ttarget.parentNode.removeChild(target);\n\t\t\t}\n\t\t\tgantt._prevent_touch_scroll = false;\n\t\t\tif (this.config.marker) {\n\t\t\t\tthis.config.marker.parentNode.removeChild(this.config.marker);\n\t\t\t\tthis.config.marker = null;\n\n\t\t\t\tthis.callEvent(\"onDragEnd\", []);\n\t\t\t}\n\t\t\tthis.config.started = false;\n\t\t\tdocument.body.className = document.body.className.replace(\" gantt_noselect\", \"\");\n\t\t},\n\n\t\tgetPosition: function (e) {\n\t\t\tvar x = 0, y = 0;\n\t\t\te = e || window.event;\n\t\t\tif (e.pageX || e.pageY) {\n\t\t\t\tx = e.pageX;\n\t\t\t\ty = e.pageY;\n\t\t\t} else if (e.clientX || e.clientY) {\n\t\t\t\tx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n\t\t\t\ty = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n\t\t\t}\n\t\t\treturn {x: x, y: y};\n\t\t}\n\t};\n\n\treturn DnD;\n};\n","/*\n %d - the day as a number with a leading zero ( 01 to 31 );\n %j - the day as a number without a leading zero ( 1 to 31 );\n %D - the day as an abbreviation ( Sun to Sat );\n %l - the day as a full name ( Sunday to Saturday );\n %W - the ISO-8601 week number of the year. Weeks start on Monday; 1)\n %m - the month as a number without a leading zero ( 1 to 12 );\n %n - the month as a number with a leading zero ( 01 to 12);\n %M - the month as an abbreviation ( Jan to Dec );\n %F - the month as a full name ( January to December );\n %y - the year as a two-digit number ( 00 to 99 );\n %Y - the year as a four-digit number ( 19009999 );\n %h - the hour based on the 12-hour clock ( 00 to 11 );\n %H - the hour based on the 24-hour clock ( 00 to 23 );\n %i - the minute as a number with a leading zero ( 00 to 59 );\n %s - the second as a number without a leading zero ( 00 to 59 ); 2)\n %a - displays am (for times from midnight until noon) and pm (for times from noon until midnight);\n %A - displays AM (for times from midnight until noon) and PM (for times from noon until midnight).\n*/\n\nmodule.exports = function(gantt) {\n\tvar dateHelper = {\n\t\tinit: function () {\n\t\t\tvar locale = gantt.locale;\n\n\t\t\tvar s = locale.date.month_short;\n\t\t\tvar t = locale.date.month_short_hash = {};\n\t\t\tfor (var i = 0; i < s.length; i++)\n\t\t\t\tt[s[i]] = i;\n\n\t\t\tvar s = locale.date.month_full;\n\t\t\tvar t = locale.date.month_full_hash = {};\n\t\t\tfor (var i = 0; i < s.length; i++)\n\t\t\t\tt[s[i]] = i;\n\t\t},\n\t\tdate_part: function (date) {\n\t\t\tvar old = new Date(date);\n\t\t\tdate.setHours(0);\n\t\t\tthis.hour_start(date);\n\t\t\tif (date.getHours() && //shift to yesterday on dst\n\t\t\t\t(date.getDate() < old.getDate() || date.getMonth() < old.getMonth() || date.getFullYear() < old.getFullYear()))\n\t\t\t\tdate.setTime(date.getTime() + 60 * 60 * 1000 * (24 - date.getHours()));\n\t\t\treturn date;\n\t\t},\n\t\ttime_part: function (date) {\n\t\t\treturn (date.valueOf() / 1000 - date.getTimezoneOffset() * 60) % 86400;\n\t\t},\n\t\tweek_start: function (date) {\n\t\t\tvar shift = date.getDay();\n\t\t\tif (gantt.config.start_on_monday) {\n\t\t\t\tif (shift === 0) shift = 6;\n\t\t\t\telse shift--;\n\t\t\t}\n\t\t\treturn this.date_part(this.add(date, -1 * shift, \"day\"));\n\t\t},\n\t\tmonth_start: function (date) {\n\t\t\tdate.setDate(1);\n\t\t\treturn this.date_part(date);\n\t\t},\n\t\tquarter_start: function (date) {\n\t\t\tthis.month_start(date);\n\t\t\tvar m = date.getMonth(),\n\t\t\t\tres_month;\n\n\t\t\tif (m >= 9) {\n\t\t\t\tres_month = 9;\n\t\t\t} else if (m >= 6) {\n\t\t\t\tres_month = 6;\n\t\t\t} else if (m >= 3) {\n\t\t\t\tres_month = 3;\n\t\t\t} else {\n\t\t\t\tres_month = 0;\n\t\t\t}\n\n\t\t\tdate.setMonth(res_month);\n\t\t\treturn date;\n\t\t},\n\t\tyear_start: function (date) {\n\t\t\tdate.setMonth(0);\n\t\t\treturn this.month_start(date);\n\t\t},\n\t\tday_start: function (date) {\n\t\t\treturn this.date_part(date);\n\t\t},\n\t\thour_start: function (date) {\n\t\t\tif (date.getMinutes())\n\t\t\t\tdate.setMinutes(0);\n\t\t\tthis.minute_start(date);\n\n\t\t\treturn date;\n\t\t},\n\t\tminute_start: function (date) {\n\t\t\tif (date.getSeconds())\n\t\t\t\tdate.setSeconds(0);\n\t\t\tif (date.getMilliseconds())\n\t\t\t\tdate.setMilliseconds(0);\n\t\t\treturn date;\n\t\t},\n\t\t_add_days: function (date, inc) {\n\t\t\tvar ndate = new Date(date.valueOf());\n\n\t\t\tndate.setDate(ndate.getDate() + inc);\n\t\t\tif (inc >= 0 && (!date.getHours() && ndate.getHours()) &&//shift to yesterday on dst\n\t\t\t\t(ndate.getDate() <= date.getDate() || ndate.getMonth() < date.getMonth() || ndate.getFullYear() < date.getFullYear()))\n\t\t\t\tndate.setTime(ndate.getTime() + 60 * 60 * 1000 * (24 - ndate.getHours()));\n\t\t\treturn ndate;\n\t\t},\n\n\t\tadd: function (date, inc, mode) {\n\t\t\t/*jsl:ignore*/\n\t\t\tvar ndate = new Date(date.valueOf());\n\t\t\tswitch (mode) {\n\t\t\t\tcase \"day\":\n\t\t\t\t\tndate = this._add_days(ndate, inc);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"week\":\n\t\t\t\t\tndate = this._add_days(ndate, inc * 7);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"month\":\n\t\t\t\t\tndate.setMonth(ndate.getMonth() + inc);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"year\":\n\t\t\t\t\tndate.setYear(ndate.getFullYear() + inc);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"hour\":\n\t\t\t\t\t/*\n\t\t\t\t\t\tadding hours/minutes via setHour(getHour() + inc) gives weird result when\n\t\t\t\t\t\tadding one hour to the time before switch to a Daylight Saving time\n\n\t\t\t\t\t\texample: //Sun Mar 30 2014 01:00:00 GMT+0100 (W. Europe Standard Time)\n\t\t\t\t\t\tnew Date(2014, 02, 30, 1).setHours(2)\n\t\t\t\t\t\t>>Sun Mar 30 2014 01:00:00 GMT+0100 (W. Europe Standard Time)\n\n\t\t\t\t\t\tsetTime seems working as expected\n\t\t\t\t\t */\n\t\t\t\t\tndate.setTime(ndate.getTime() + inc * 60 * 60 * 1000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"minute\":\n\n\t\t\t\t\tndate.setTime(ndate.getTime() + inc * 60 * 1000);\n\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn this[\"add_\" + mode](date, inc, mode);\n\t\t\t}\n\t\t\treturn ndate;\n\t\t\t/*jsl:end*/\n\t\t},\n\t\tadd_quarter: function (date, inc) {\n\t\t\treturn this.add(date, inc * 3, \"month\");\n\t\t},\n\n\t\tto_fixed: function (num) {\n\t\t\tif (num < 10) return \"0\" + num;\n\t\t\treturn num;\n\t\t},\n\t\tcopy: function (date) {\n\t\t\treturn new Date(date.valueOf());\n\t\t},\n\t\tdate_to_str: function (format, utc) {\n\t\t\tformat = format.replace(/%[a-zA-Z]/g, function (a) {\n\t\t\t\tswitch (a) {\n\t\t\t\t\tcase \"%d\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getDate())+\\\"\";\n\t\t\t\t\tcase \"%m\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed((date.getMonth()+1))+\\\"\";\n\t\t\t\t\tcase \"%j\":\n\t\t\t\t\t\treturn \"\\\"+date.getDate()+\\\"\";\n\t\t\t\t\tcase \"%n\":\n\t\t\t\t\t\treturn \"\\\"+(date.getMonth()+1)+\\\"\";\n\t\t\t\t\tcase \"%y\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getFullYear()%100)+\\\"\";\n\t\t\t\t\tcase \"%Y\":\n\t\t\t\t\t\treturn \"\\\"+date.getFullYear()+\\\"\";\n\t\t\t\t\tcase \"%D\":\n\t\t\t\t\t\treturn \"\\\"+locale.date.day_short[date.getDay()]+\\\"\";\n\t\t\t\t\tcase \"%l\":\n\t\t\t\t\t\treturn \"\\\"+locale.date.day_full[date.getDay()]+\\\"\";\n\t\t\t\t\tcase \"%M\":\n\t\t\t\t\t\treturn \"\\\"+locale.date.month_short[date.getMonth()]+\\\"\";\n\t\t\t\t\tcase \"%F\":\n\t\t\t\t\t\treturn \"\\\"+locale.date.month_full[date.getMonth()]+\\\"\";\n\t\t\t\t\tcase \"%h\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed((date.getHours()+11)%12+1)+\\\"\";\n\t\t\t\t\tcase \"%g\":\n\t\t\t\t\t\treturn \"\\\"+((date.getHours()+11)%12+1)+\\\"\";\n\t\t\t\t\tcase \"%G\":\n\t\t\t\t\t\treturn \"\\\"+date.getHours()+\\\"\";\n\t\t\t\t\tcase \"%H\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getHours())+\\\"\";\n\t\t\t\t\tcase \"%i\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getMinutes())+\\\"\";\n\t\t\t\t\tcase \"%a\":\n\t\t\t\t\t\treturn \"\\\"+(date.getHours()>11?\\\"pm\\\":\\\"am\\\")+\\\"\";\n\t\t\t\t\tcase \"%A\":\n\t\t\t\t\t\treturn \"\\\"+(date.getHours()>11?\\\"PM\\\":\\\"AM\\\")+\\\"\";\n\t\t\t\t\tcase \"%s\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getSeconds())+\\\"\";\n\t\t\t\t\tcase \"%W\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(getISOWeek(date))+\\\"\";\n\t\t\t\t\tcase \"%w\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(getWeek(date))+\\\"\";\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (utc) format = format.replace(/date\\.get/g, \"date.getUTC\");\n\t\t\tvar dateToStr = new Function(\"date\", \"to_fixed\", \"locale\", \"getISOWeek\", \"getWeek\", \"return \\\"\" + format + \"\\\";\");\n\n\t\t\treturn function (date) {\n\t\t\t\treturn dateToStr(date, dateHelper.to_fixed, gantt.locale, dateHelper.getISOWeek, dateHelper.getWeek);\n\t\t\t};\n\t\t},\n\t\tstr_to_date: function (format, utc) {\n\t\t\tvar splt = \"var temp=date.match(/[a-zA-Z]+|[0-9]+/g);\";\n\t\t\tvar mask = format.match(/%[a-zA-Z]/g);\n\t\t\tfor (var i = 0; i < mask.length; i++) {\n\t\t\t\tswitch (mask[i]) {\n\t\t\t\t\tcase \"%j\":\n\t\t\t\t\tcase \"%d\":\n\t\t\t\t\t\tsplt += \"set[2]=temp[\" + i + \"]||1;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%n\":\n\t\t\t\t\tcase \"%m\":\n\t\t\t\t\t\tsplt += \"set[1]=(temp[\" + i + \"]||1)-1;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%y\":\n\t\t\t\t\t\tsplt += \"set[0]=temp[\" + i + \"]*1+(temp[\" + i + \"]>50?1900:2000);\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%g\":\n\t\t\t\t\tcase \"%G\":\n\t\t\t\t\tcase \"%h\":\n\t\t\t\t\tcase \"%H\":\n\t\t\t\t\t\tsplt += \"set[3]=temp[\" + i + \"]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%i\":\n\t\t\t\t\t\tsplt += \"set[4]=temp[\" + i + \"]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%Y\":\n\t\t\t\t\t\tsplt += \"set[0]=temp[\" + i + \"]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%a\":\n\t\t\t\t\tcase \"%A\":\n\t\t\t\t\t\tsplt += \"set[3]=set[3]%12+((temp[\" + i + \"]||'').toLowerCase()=='am'?0:12);\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%s\":\n\t\t\t\t\t\tsplt += \"set[5]=temp[\" + i + \"]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%M\":\n\t\t\t\t\t\tsplt += \"set[1]=locale.date.month_short_hash[temp[\" + i + \"]]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%F\":\n\t\t\t\t\t\tsplt += \"set[1]=locale.date.month_full_hash[temp[\" + i + \"]]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar code = \"set[0],set[1],set[2],set[3],set[4],set[5]\";\n\t\t\tif (utc) code = \" Date.UTC(\" + code + \")\";\n\t\t\tvar strToDate = new Function(\"date\", \"locale\", \"var set=[0,0,1,0,0,0]; \" + splt + \" return new Date(\" + code + \");\");\n\n\t\t\treturn function (dateString) {\n\t\t\t\treturn strToDate(dateString, gantt.locale);\n\t\t\t};\n\t\t},\n\t\tgetISOWeek: function (ndate) {\n\t\t\treturn gantt.date._getWeekNumber(ndate, true);\n\t\t},\n\t\t_getWeekNumber: function(ndate, isoWeek){\n\t\t\tif (!ndate) return false;\n\t\t\tvar nday = ndate.getDay();\n\t\t\tif(isoWeek){\n\t\t\t\tif (nday === 0) {\n\t\t\t\t\tnday = 7;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar first_thursday = new Date(ndate.valueOf());\n\t\t\tfirst_thursday.setDate(ndate.getDate() + (4 - nday));\n\t\t\tvar year_number = first_thursday.getFullYear(); // year of the first Thursday\n\t\t\tvar ordinal_date = Math.round((first_thursday.getTime() - new Date(year_number, 0, 1).getTime()) / 86400000); //ordinal date of the first Thursday - 1 (so not really ordinal date)\n\t\t\tvar week_number = 1 + Math.floor(ordinal_date / 7);\n\t\t\treturn week_number;\n\t\t},\n\n\t\tgetWeek: function(ndate){\n\t\t\treturn gantt.date._getWeekNumber(ndate, gantt.config.start_on_monday);\n\t\t},\n\t\tgetUTCISOWeek: function (ndate) {\n\t\t\treturn gantt.date.getISOWeek(ndate);\n\t\t},\n\t\tconvert_to_utc: function (date) {\n\t\t\treturn new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());\n\t\t},\n\t\tparseDate: function (date, format) {\n\t\t\t// raw date may be of type string, number (timestamp) or something else\n\t\t\t// do not check for instanceof Date explicitly, since we may swap native date with different date implementation at some point\n\t\t\tif (date && !date.getFullYear) {\n\t\t\t\tif (typeof(format) !== \"function\") {\n\t\t\t\t\tif (typeof(format) === \"string\") {\n\t\t\t\t\t\tif (format === \"parse_date\") {\n\t\t\t\t\t\t\tformat = gantt.templates.parse_date;\n\t\t\t\t\t\t\tif (gantt.defined(gantt.templates.xml_date) && gantt.templates.parse_date !== gantt.templates.xml_date) {\n\t\t\t\t\t\t\t\tformat = gantt.templates.xml_date;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tformat = gantt.defined(gantt.templates[format]) ? gantt.templates[format] : gantt.date.str_to_date(format);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tformat = gantt.templates.xml_date !== gantt.templates.parse_date ? gantt.templates.xml_date : gantt.templates.parse_date;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (date) {\n\t\t\t\t\tdate = format(date);\n\t\t\t\t} else {\n\t\t\t\t\tdate = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn date;\n\t\t}\n\t};\n\treturn dateHelper;\n};","export default function serialize(data: object | string) {\n\tif (typeof data === \"string\" || typeof data === \"number\") {\n\t\treturn data;\n\t}\n\n\tlet result = \"\";\n\n\tfor (const key in data) {\n\t\tlet serialized = \"\";\n\t\tif (data.hasOwnProperty(key)) {\n\t\t\tif (typeof data[key] === \"string\") {\n\t\t\t\tserialized = encodeURIComponent(data[key]);\n\t\t\t} else if (typeof data[key] === \"number\") {\n\t\t\t\tserialized = data[key];\n\t\t\t} else {\n\t\t\t\tserialized = encodeURIComponent(JSON.stringify(data[key]));\n\t\t\t}\n\t\t\tserialized = key + \"=\" + serialized;\n\n\t\t\tif (result.length) {\n\t\t\t\tserialized = \"&\" + serialized;\n\t\t\t}\n\t\t\tresult += serialized;\n\t\t}\n\t}\n\treturn result;\n}\n","var env = require(\"../../utils/env\");\nvar serialize = require(\"./serialize\").default;\n\nfunction createConfig(method, args) {\n\tvar result = {\n\t\tmethod: method\n\t};\n\n\tif (args.length === 0) {\n\t\tthrow new Error(\"Arguments list of query is wrong.\");\n\t}\n\tif (args.length === 1) {\n\t\tif (typeof args[0] === \"string\") {\n\t\t\tresult.url = args[0];\n\t\t\tresult.async = true;\n\t\t} else {\n\t\t\tresult.url = args[0].url;\n\t\t\tresult.async = (args[0].async || true);\n\t\t\tresult.callback = args[0].callback;\n\t\t\tresult.headers = args[0].headers;\n\t\t}\n\t\tif (method === \"POST\" || \"PUT\") {\n\t\t\tif (args[0].data) {\n\t\t\t\tif (typeof args[0].data !== \"string\") {\n\t\t\t\t\tresult.data = serialize(args[0].data);\n\t\t\t\t} else {\n\t\t\t\t\tresult.data = args[0].data;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult.data = \"\";\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tresult.url = args[0];\n\tswitch(method) {\n\t\tcase \"GET\":\n\t\tcase \"DELETE\":\n\t\t\tresult.callback = args[1];\n\t\t\tresult.headers = args[2];\n\t\tbreak;\n\t\tcase \"POST\":\n\t\tcase \"PUT\":\n\t\t\tif (args[1]) {\n\t\t\t\tif (typeof args[1] !== \"string\") {\n\t\t\t\t\tresult.data = serialize(args[1]);\n\t\t\t\t} else {\n\t\t\t\t\tresult.data = args[1];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult.data = \"\";\n\t\t\t}\n\t\t\tresult.callback = args[2];\n\t\t\tresult.headers = args[3];\n\t\tbreak;\n\t}\n\treturn result;\n}\n\nmodule.exports = function(gantt) {\n\treturn {\n\n\t\t// if false - dhxr param will added to prevent caching on client side (default),\n\t\t// if true - do not add extra params\n\t\tcache: true,\n\n\t\t// default method for load/loadStruct, post/get allowed\n\t\t// get - since 4.1.1, this should fix 412 error for macos safari\n\t\tmethod: \"get\",\n\n\t\tparse: function(data) {\n\t\t\tif (typeof data !== \"string\") return data;\n\n\t\t\tvar obj;\n\t\t\tdata = data.replace(/^[\\s]+/,\"\");\n\t\t\tif (window.DOMParser && !env.isIE) { // ff,ie9\n\t\t\t\tobj = (new window.DOMParser()).parseFromString(data, \"text/xml\");\n\t\t\t} else if (window.ActiveXObject !== window.undefined) {\n\t\t\t\tobj = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n\t\t\t\tobj.async = \"false\";\n\t\t\t\tobj.loadXML(data);\n\t\t\t}\n\t\t\treturn obj;\n\t\t},\n\t\txmltop: function(tagname, xhr, obj) {\n\t\t\tif (typeof xhr.status == \"undefined\" || xhr.status < 400) {\n\t\t\t\tvar xml = (!xhr.responseXML) ? this.parse(xhr.responseText || xhr) : (xhr.responseXML || xhr);\n\t\t\t\tif (xml && xml.documentElement !== null && !xml.getElementsByTagName(\"parsererror\").length) {\n\t\t\t\t\treturn xml.getElementsByTagName(tagname)[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (obj !== -1) gantt.callEvent(\"onLoadXMLError\",[\"Incorrect XML\", arguments[1], obj]);\n\t\t\treturn document.createElement(\"DIV\");\n\t\t},\n\t\txpath: function(xpathExp, docObj) {\n\t\t\tif (!docObj.nodeName) docObj = docObj.responseXML || docObj;\n\t\t\tif (env.isIE) {\n\t\t\t\treturn docObj.selectNodes(xpathExp)||[];\n\t\t\t} else {\n\t\t\t\tvar rows = [];\n\t\t\t\tvar first;\n\t\t\t\tvar col = (docObj.ownerDocument||docObj).evaluate(xpathExp, docObj, null, XPathResult.ANY_TYPE, null);\n\n\t\t\t\twhile (true){\n\t\t\t\t\tfirst = col.iterateNext();\n\t\t\t\t\tif(first){\n\t\t\t\t\t\trows.push(first);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn rows;\n\t\t\t}\n\t\t},\n\t\tquery: function(config) {\n\t\t\treturn this._call(\n\t\t\t\t(config.method || \"GET\"),\n\t\t\t\tconfig.url,\n\t\t\t\tconfig.data || \"\",\n\t\t\t\t(config.async || true),\n\t\t\t\tconfig.callback,\n\t\t\t\tconfig.headers\n\t\t\t);\n\t\t},\n\t\tget: function(url, onLoad, headers) {\n\t\t\tvar config = createConfig(\"GET\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tgetSync: function(url, headers) {\n\t\t\tvar config = createConfig(\"GET\", arguments);\n\t\t\tconfig.async = false;\n\t\t\treturn this.query(config);\n\t\t},\n\t\tput: function(url, postData, onLoad, headers) {\n\t\t\tvar config = createConfig(\"PUT\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tdel: function(url, onLoad, headers) {\n\t\t\t/**\n\t\t\t * https://tools.ietf.org/html/rfc7231#section-4.3.5\n\t\t\t * A payload within a DELETE request message has no defined semantics;\n\t\t\t * sending a payload body on a DELETE request might cause some existing\n\t\t\t * implementations to reject the request.\n\t\t\t */\n\t\t\tvar config = createConfig(\"DELETE\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tpost: function(url, postData, onLoad, headers) {\n\t\t\tif (arguments.length == 1) {\n\t\t\t\tpostData = \"\";\n\t\t\t} else if (arguments.length == 2 && (typeof(postData) == \"function\" || typeof(window[postData]) == \"function\")) {\n\t\t\t\tonLoad = postData;\n\t\t\t\tpostData = \"\";\n\t\t\t}\n\t\t\tvar config = createConfig(\"POST\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tpostSync: function(url, postData, headers) {\n\t\t\tpostData = (postData === null ? \"\" : String(postData));\n\n\t\t\tvar config = createConfig(\"POST\", arguments);\n\t\t\tconfig.async = false;\n\t\t\treturn this.query(config);\n\t\t},\n\t\t_call: function(method, url, postData, async, onLoad, headers) {\n\t\t\treturn new gantt.Promise(function(resolve, reject) {\n\t\t\t\tvar t = (window.XMLHttpRequest && !env.isIE ? new XMLHttpRequest() : new window.ActiveXObject(\"Microsoft.XMLHTTP\"));\n\t\t\t\tvar isQt = (navigator.userAgent.match(/AppleWebKit/) !== null && navigator.userAgent.match(/Qt/) !== null && navigator.userAgent.match(/Safari/) !== null);\n\n\t\t\t\tif (!!async) {\n\t\t\t\t\tt.onreadystatechange = function() {\n\t\t\t\t\t\tif ((t.readyState == 4) || (isQt && t.readyState == 3)) { // what for long response and status 404?\n\t\t\t\t\t\t\tif (t.status != 200 || t.responseText === \"\")\n\t\t\t\t\t\t\t\tif (!gantt.callEvent(\"onAjaxError\", [t])) return;\n\n\t\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\t\tif (typeof(onLoad) == \"function\") {\n\t\t\t\t\t\t\t\t\tonLoad.apply(window, [{xmlDoc:t, filePath:url}]); // dhtmlx-compat, response.xmlDoc.responseXML/responseText\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresolve(t);\n\t\t\t\t\t\t\t\tif (typeof(onLoad) == \"function\") {\n\t\t\t\t\t\t\t\t\tonLoad = null;\n\t\t\t\t\t\t\t\t\tt = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (method == \"GET\" && !this.cache) {\n\t\t\t\t\turl += (url.indexOf(\"?\")>=0?\"&\":\"?\")+\"dhxr\"+new Date().getTime()+\"=1\";\n\t\t\t\t}\n\n\t\t\t\tt.open(method, url, async);\n\n\t\t\t\tif (headers){\n\t\t\t\t\tfor (var key in headers)\n\t\t\t\t\t\tt.setRequestHeader(key, headers[key]);\n\t\t\t\t} else if (method.toUpperCase() == \"POST\" || method == \"PUT\" || method == \"DELETE\") {\n\t\t\t\t\tt.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\t\t\t} else if (method == \"GET\") {\n\t\t\t\t\tpostData = null;\n\t\t\t\t}\n\n\t\t\t\tt.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n\n\t\t\t\tt.send(postData);\n\n\t\t\t\tif (!async) return {xmlDoc:t, filePath:url}; // dhtmlx-compat, response.xmlDoc.responseXML/responseText\n\t\t\t});\n\t\t},\n\t\turlSeparator: function(str){\n\t\t\tif (str.indexOf(\"?\") != -1)\n\t\t\t\treturn \"&\";\n\t\t\telse\n\t\t\t\treturn \"?\";\n\t\t}\n\t};\n};\n","type DurationUnits = \"minute\" | \"hour\" | \"day\" | \"week\" | \"month\" | \"year\";\ntype Align = \"left\" | \"center\" | \"right\";\ntype SectionType = \"textarea\"\n\t\t\t\t\t| \"time\"\n\t\t\t\t\t| \"duration\"\n\t\t\t\t\t| \"select\"\n\t\t\t\t\t| \"typeselect\"\n\t\t\t\t\t| \"parent\"\n\t\t\t\t\t| \"template\"\n\t\t\t\t\t| \"checkbox\"\n\t\t\t\t\t| \"radio\"\n\t\t\t\t\t| \"resources\"\n\t\t\t\t\t| \"constraint\";\n\ntype LightboxSection = Array<ILightboxSection\n\t| ILightboxTimeAndDurationSection\n\t| ILightboxInputControl\n\t| ILightboxSelectControl\n\t| ILightboxParentControl\n\t| ILightboxTypeselectControl>;\n\ntype LayoutView = \"grid\"\n\t| \"timeline\"\n\t| \"resizer\"\n\t| \"scrollbar\"\n\t| \"resourceGrid\"\n\t| \"resourceTimeline\";\n\ninterface IColumnItem {\n\tname: string;\n\tlabel?: string;\n\ttree?: boolean;\n\talign?: Align;\n\thide?: boolean;\n\tmax_width?: number;\n\tmin_width?: number;\n\tresize?: boolean;\n\ttemplate?: (obj: any) => string;\n\twidth?: number | \"*\";\n}\n\nexport interface IScale {\n\tcss?: () => string;\n\tdate?: string;\n\tstep: number;\n\ttemplate?: (date: Date) => string;\n\tunit: DurationUnits;\n}\n\ninterface ILightboxSection {\n\tname: string;\n\tmap_to: string;\n\ttype: SectionType;\n\theight?: number;\n\tfocus?: boolean;\n}\n\ninterface ILightboxTimeAndDurationSection extends ILightboxSection {\n\treadonly: boolean;\n\tyear_range: number[] | number;\n\tsingle_date: boolean;\n\ttime_format: string;\n}\n\ninterface ILightboxInputControl extends ILightboxSection {\n\tdefault_value?: any;\n\toptions?: Array<{key: string, label: string}>;\n}\n\ninterface ILightboxSelectControl extends ILightboxInputControl {\n\tonchange: () => boolean | undefined;\n}\n\ninterface ILightboxParentControl extends ILightboxSection {\n\tallow_root: boolean;\n\troot_label: string;\n\tsort?: (a: any, b: any) => -1 | 0 | 1;\n\tfilter?: (task: string | number | object) => boolean;\n\ttemplate?: (start: Date, end: Date, ev: object) => string;\n}\n\ninterface ILightboxTypeselectControl extends ILightboxSection {\n\tfilter?: (typeName: string) => boolean;\n}\n\n\ninterface ILayoutScrollbar {\n\tview: \"scrollbar\";\n\tscroll?: \"x\" | \"y\";\n\tid: string;\n\theight?: number;\n\twidth?: number;\n}\n\ninterface ILayoutView {\n\tview: LayoutView;\n\tid?: string;\n\tscrollX?: string;\n\tscrollY?: string;\n\tconfig?: object;\n}\n\ninterface ILayoutGrid extends ILayoutView {\n\tview: \"grid\";\n\tbind?: string;\n}\n\ninterface ILayoutTimeline extends ILayoutView {\n\tview: \"timeline\";\n\tbindLinks?: string;\n\tlayers?: any[];\n}\n\ninterface ILayoutResizer {\n\tview?: undefined;\n\tresizer: boolean;\n\twidth: number;\n}\n\ninterface ILayoutResourceGrid extends ILayoutView {\n\tview: \"resourceGrid\";\n\twidth: number;\n\tgroup: \"string\";\n}\n\ninterface ILayoutResourceTimeline extends ILayoutView {\n\tview: \"resourceTimeline\";\n\twidth: number;\n\tgroup: \"string\";\n}\n\ninterface ILayoutHtml {\n\thtml: string;\n\tcss: string;\n\twidth: number;\n}\n\ntype LayoutRow = ILayoutGrid\n\t| ILayoutTimeline\n\t| ILayoutResizer\n\t| ILayoutResourceGrid\n\t| ILayoutResourceTimeline\n\t| ILayoutHtml\n\t| ILayoutScrollbar\n\t| { cols: LayoutCol[] };\n\ntype LayoutCol = ILayoutGrid\n\t| ILayoutTimeline\n\t| ILayoutResizer\n\t| ILayoutResourceGrid\n\t| ILayoutResourceTimeline\n\t| ILayoutHtml\n\t| ILayoutScrollbar\n\t| { rows: LayoutRow[] };\n\ninterface ILayout {\n\tcss: string;\n\trows?: LayoutRow[];\n\tcols?: LayoutCol[];\n}\n\ninterface IGanttConfig {\n\tlayout: ILayout;\n\tlinks: {\n\t\tfinish_to_start: \"0\";\n\t\tstart_to_start: \"1\";\n\t\tfinish_to_finish: \"2\";\n\t\tstart_to_finish: \"3\";\n\t};\n\ttypes: {\n\t\ttask: string;\n\t\tproject: string;\n\t\tmilestone: string;\n\t};\n\tauto_types: boolean;\n\tduration_unit: DurationUnits;\n\twork_time: boolean;\n\tcorrect_work_time: boolean;\n\tskip_off_time: boolean;\n\tcascade_delete: boolean;\n\tautosize: boolean | string;\n\tautoscroll: boolean;\n\tshow_links: boolean;\n\tshow_task_cells: boolean;\n\tautosize_min_width: number;\n\tautoscroll_speed: number;\n\n\tstatic_background: boolean;\n\tstatic_background_cells: boolean;\n\tbranch_loading: boolean;\n\tbranch_loading_property: string;\n\tshow_loading: boolean;\n\tshow_chart: boolean;\n\tshow_grid: boolean;\n\tmin_duration: number;\n\tdate_format: string; // use instead xml_date\n\txml_date?: string; // deprecated\n\tstart_on_monday: boolean;\n\tserver_utc: boolean;\n\tshow_progress: boolean;\n\tfit_tasks: boolean;\n\tselect_task: boolean;\n\tscroll_on_click: boolean;\n\tsmart_rendering: boolean;\n\tpreserve_scroll: boolean;\n\treadonly: boolean;\n\n\t/*grid */\n\tdate_grid: string;\n\n\tdrag_links: boolean;\n\tdrag_progress: boolean;\n\tdrag_resize: boolean;\n\tdrag_project: boolean;\n\tdrag_move: boolean;\n\tdrag_mode: {\n\t\tresize: \"resize\",\n\t\tprogress: \"progress\",\n\t\tmove: \"move\",\n\t\tignore: \"ignore\"\n\t};\n\tround_dnd_dates: boolean;\n\tlink_wrapper_width: number;\n\troot_id: string | number;\n\n\tautofit: boolean;\n\tcolumns: IColumnItem[];\n\n\t/* scale*/\n\t/* it will be deprecated */\n\tdate_scale?: string;\n\tstep?: number;\n\tscale_unit?: DurationUnits;\n\tsubscales?: IScale[];\n\t/* it will be deprecated end */\n\n\tscales: IScale[];\n\n\tscale_offset_minimal: boolean;\n\n\tinherit_scale_class: boolean;\n\n\n\ttime_step: number;\n\tduration_step: number;\n\n\n\ttask_date: string;\n\ttime_picker: string;\n\ttask_attribute: string;\n\tlink_attribute: string;\n\tlayer_attribute: string;\n\tbuttons_left: string[];\n\t_migrate_buttons: {\n\t\tdhx_save_btn: \"gantt_save_btn\",\n\t\tdhx_cancel_btn: \"gantt_cancel_btn\",\n\t\tdhx_delete_btn: \"gantt_delete_btn\"\n\t};\n\n\tbuttons_right: string[];\n\n\n\tlightbox: {\n\t\tsections?: LightboxSection,\n\t\tproject_sections?: LightboxSection,\n\t\tmilestone_sections?: LightboxSection\n\t};\n\tdrag_lightbox: boolean;\n\tsort: boolean;\n\tdetails_on_create: boolean;\n\tdetails_on_dblclick: boolean;\n\tinitial_scroll: boolean;\n\ttask_scroll_offset: number;\n\n\torder_branch: boolean;\n\torder_branch_free: boolean;\n\n\ttask_height: number | \"full\";\n\tmin_column_width: number;\n\n\t// min width for grid column (when resizing)\n\tmin_grid_column_width: number;\n\t// name of the attribute with column index for resize element\n\tgrid_resizer_column_attribute: string;\n\t// name of the attribute with column index for resize element\n\tgrid_resizer_attribute: string;\n\n\t// grid width can be increased after the column has been resized\n\tkeep_grid_width: boolean;\n\n\t// grid width can be adjusted\n\tgrid_resize: boolean;\n\n\tshow_unscheduled: boolean;\n\treadonly_property: string;\n\teditable_property: string;\n\tcalendar_property: string;\n\tresource_calendars: object;\n\tinherit_calendar: boolean;\n\ttype_renderers: object;\n\n\topen_tree_initially: boolean;\n\toptimize_render: boolean;\n\tprevent_default_scroll: boolean;\n\tshow_errors: boolean;\n\twai_aria_attributes: boolean;\n\tsmart_scales: boolean;\n\trtl: boolean;\n\tplaceholder_task: boolean;\n}\n\nmodule.exports = () => {\n\tconst result: IGanttConfig = {\n\t\tlayout: {\n\t\t\tcss: \"gantt_container\",\n\t\t\trows: [\n\t\t\t\t{\n\t\t\t\t\tcols: [\n\t\t\t\t\t\t{view: \"grid\", scrollX: \"scrollHor\", scrollY: \"scrollVer\"},\n\t\t\t\t\t\t{resizer: true, width: 1},\n\t\t\t\t\t\t{view: \"timeline\", scrollX: \"scrollHor\", scrollY: \"scrollVer\"},\n\t\t\t\t\t\t{view: \"scrollbar\", id: \"scrollVer\"}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{view: \"scrollbar\", id: \"scrollHor\", height: 20}\n\t\t\t]\n\t\t},\n\t\tlinks: {\n\t\t\tfinish_to_start: \"0\",\n\t\t\tstart_to_start: \"1\",\n\t\t\tfinish_to_finish: \"2\",\n\t\t\tstart_to_finish: \"3\"\n\t\t},\n\t\ttypes: {\n\t\t\ttask: \"task\",\n\t\t\tproject: \"project\",\n\t\t\tmilestone: \"milestone\"\n\t\t},\n\t\tauto_types: false,\n\t\tduration_unit: \"day\",\n\t\twork_time: false,\n\t\tcorrect_work_time: false,\n\t\tskip_off_time: false,\n\n\t\tcascade_delete: true,\n\n\t\tautosize: false,\n\t\tautosize_min_width: 0,\n\t\tautoscroll: true,\n\t\tautoscroll_speed: 30,\n\n\t\tshow_links: true,\n\t\tshow_task_cells: true,\n\t\t// replace backgroung of the task area with a canvas img\n\t\tstatic_background: false,\n\t\tstatic_background_cells: true,\n\t\tbranch_loading: false,\n\t\tbranch_loading_property: \"$has_child\",\n\t\tshow_loading: false,\n\t\tshow_chart: true,\n\t\tshow_grid: true,\n\t\tmin_duration: 60 * 60 * 1000,\n\t\tdate_format: \"%d-%m-%Y %H:%i\", // use instead xml_date\n\t\txml_date: undefined, // \"%d-%m-%Y %H:%i\", // deprecated\n\t\tstart_on_monday: true,\n\t\tserver_utc: false,\n\t\tshow_progress: true,\n\t\tfit_tasks: false,\n\t\tselect_task: true,\n\t\tscroll_on_click: true,\n\t\tsmart_rendering: true,\n\t\tpreserve_scroll: true,\n\t\treadonly: false,\n\n\t\t/*grid */\n\t\tdate_grid: \"%Y-%m-%d\",\n\n\t\tdrag_links: true,\n\t\tdrag_progress: true,\n\t\tdrag_resize: true,\n\t\tdrag_project: false,\n\t\tdrag_move: true,\n\t\tdrag_mode: {\n\t\t\tresize: \"resize\",\n\t\t\tprogress: \"progress\",\n\t\t\tmove: \"move\",\n\t\t\tignore: \"ignore\"\n\t\t},\n\t\tround_dnd_dates: true,\n\t\tlink_wrapper_width: 20,\n\t\troot_id: 0,\n\n\t\tautofit: false, // grid column automatic fit grid_width config\n\t\tcolumns: [\n\t\t\t{name: \"text\", tree: true, width: \"*\", resize: true},\n\t\t\t{name: \"start_date\", align: \"center\", resize: true},\n\t\t\t{name: \"duration\", align: \"center\"},\n\t\t\t{name: \"add\", width: 44}\n\t\t],\n\n\t\t/*scale*/\n\n\t\tscale_offset_minimal: true,\n\t\tinherit_scale_class: false,\n\n\t\tscales: [\n\t\t\t{\n\t\t\t\tunit: \"day\",\n\t\t\t\tstep: 1,\n\t\t\t\tdate: \"%d %M\"\n\t\t\t}\n\t\t],\n// \t\tdate_scale: \"%d %M\",\n\n\t\ttime_step: 60,\n\t\tduration_step: 1,\n\t\ttask_date: \"%d %F %Y\",\n\t\ttime_picker: \"%H:%i\",\n\t\ttask_attribute: \"task_id\",\n\t\tlink_attribute: \"link_id\",\n\t\tlayer_attribute: \"data-layer\",\n\t\tbuttons_left: [\n\t\t\t\"gantt_save_btn\",\n\t\t\t\"gantt_cancel_btn\"\n\t\t],\n\t\t_migrate_buttons: {\n\t\t\tdhx_save_btn: \"gantt_save_btn\",\n\t\t\tdhx_cancel_btn: \"gantt_cancel_btn\",\n\t\t\tdhx_delete_btn: \"gantt_delete_btn\"\n\t\t},\n\t\tbuttons_right: [\n\t\t\t\"gantt_delete_btn\"\n\t\t],\n\t\tlightbox: {\n\t\t\tsections: [\n\t\t\t\t{name: \"description\", height: 70, map_to: \"text\", type: \"textarea\", focus: true},\n\t\t\t\t{name: \"time\", type: \"duration\", map_to: \"auto\"}\n\t\t\t],\n\t\t\tproject_sections: [\n\t\t\t\t{name: \"description\", height: 70, map_to: \"text\", type: \"textarea\", focus: true},\n\t\t\t\t{name: \"type\", type: \"typeselect\", map_to: \"type\"},\n\t\t\t\t{name: \"time\", type: \"duration\", readonly: true, map_to: \"auto\"}\n\t\t\t],\n\t\t\tmilestone_sections: [\n\t\t\t\t{name: \"description\", height: 70, map_to: \"text\", type: \"textarea\", focus: true},\n\t\t\t\t{name: \"type\", type: \"typeselect\", map_to: \"type\"},\n\t\t\t\t{name: \"time\", type: \"duration\", single_date: true, map_to: \"auto\"}\n\t\t\t]\n\t\t},\n\t\tdrag_lightbox: true,\n\t\tsort: false,\n\t\tdetails_on_create: true,\n\t\tdetails_on_dblclick: true,\n\t\tinitial_scroll: true,\n\t\ttask_scroll_offset: 100,\n\n\t\torder_branch: false,\n\t\torder_branch_free: false,\n\n\t\ttask_height: \"full\",// number px of 'full' for row height\n\t\tmin_column_width: 70,\n\n\t\t// min width for grid column (when resizing)\n\t\tmin_grid_column_width: 70,\n\t\t// name of the attribute with column index for resize element\n\t\tgrid_resizer_column_attribute: \"column_index\",\n\t\t// name of the attribute with column index for resize element\n\t\tgrid_resizer_attribute: \"grid_resizer\",\n\n\t\t// grid width can be increased after the column has been resized\n\t\tkeep_grid_width: false,\n\n\t\t// grid width can be adjusted\n\t\tgrid_resize: false,\n\n\t\tshow_unscheduled: true,\n\n\t\t//\n\t\treadonly_property: \"readonly\",\n\t\teditable_property: \"editable\",\n\t\tcalendar_property: \"calendar_id\",\n\t\tresource_calendars: {},\n\t\tinherit_calendar: false,\n\t\ttype_renderers: {},\n\n\t\topen_tree_initially: false,\n\t\toptimize_render: true,\n\t\tprevent_default_scroll: false,\n\t\tshow_errors: true,\n\t\twai_aria_attributes: true,\n\t\tsmart_scales: true,\n\t\trtl:false,\n\t\tplaceholder_task: false\n\t};\n\treturn result;\n};\n","module.exports = function(){\n\tvar services = {};\n\tfunction register (name, getter){\n\t\tservices[name] = getter;\n\t}\n\n\tfunction getService(name){\n\t\tif(!services[name]){\n\t\t\treturn null;\n\t\t}\n\t\treturn services[name]();\n\t}\n\n\tfunction dropService(name) {\n\t\tif (services[name]) {\n\t\t\tdelete services[name];\n\t\t}\n\t}\n\n\tvar servicesEnum = {\n\t\t\"config\": \"config\",\n\t\t\"templates\": \"templates\",\n\t\t\"locale\": \"locale\"\n\t};\n\n\treturn {\n\t\tservices: servicesEnum,\n\t\tsetService: register,\n\t\tgetService: getService,\n\t\tdropService: dropService,\n\t\tconfig: function(){\n\t\t\treturn this.getService(\"config\");\n\t\t},\n\t\ttemplates: function(){\n\t\t\treturn this.getService(\"templates\");\n\t\t},\n\t\tlocale: function(){\n\t\t\treturn this.getService(\"locale\");\n\t\t},\n\t\tdestructor: function(){\n\t\t\tfor(var i in services){\n\t\t\t\tif(services[i]){\n\t\t\t\t\tvar service = services[i];\n\t\t\t\t\tif(service && service.destructor){\n\t\t\t\t\t\tservice.destructor();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tservices = null;\n\t\t}\n\t};\n};\n","module.exports = function(gantt){\n\tgantt.$inject = function(module){\n\t\treturn module(this.$services);\n\t};\n};","module.exports = {\n\tKEY_CODES: {\n\t\tUP: 38,\n\t\tDOWN: 40,\n\t\tLEFT: 37,\n\t\tRIGHT: 39,\n\t\tSPACE: 32,\n\t\tENTER: 13,\n\t\tDELETE: 46,\n\t\tESC: 27,\n\t\tTAB: 9\n\t}\n};","require(\"css/skins/terrace.less\");\n\nfunction DHXGantt(){\n\tthis.constants = require(\"./../constants\");\n\tthis.version = VERSION;\n\tthis.templates = {};\n\tthis.ext = {};\n\tthis.keys = {\n\t\tedit_save: this.constants.KEY_CODES.ENTER,\n\t\tedit_cancel: this.constants.KEY_CODES.ESC\n\t};\n}\n\nmodule.exports = function() {\n\t// use a named constructor to make gantt instance discoverable in heap snapshots\n\tvar gantt = new DHXGantt();\n\n\trequire(\"./common/import\")(gantt);\n\n\tgantt.$services = gantt.$inject(require(\"./common/services\"));\n\tgantt.config = gantt.$inject(require(\"./common/config\"));\n\tgantt.ajax =  require(\"./common/ajax\")(gantt);\n\tgantt.date = require(\"./common/date\")(gantt);\n\tvar dnd = require(\"./common/dnd\")(gantt);\n\tgantt.$services.setService(\"dnd\", function(){return dnd;});\n\n\tgantt.$services.setService(\"config\", function () {\n\t\treturn gantt.config;\n\t});\n\tgantt.$services.setService(\"date\", function () {\n\t\treturn gantt.date;\n\t});\n\tgantt.$services.setService(\"locale\", function () {\n\t\treturn gantt.locale;\n\t});\n\tgantt.$services.setService(\"templates\", function () {\n\t\treturn gantt.templates;\n\t});\n\n\tvar templatesLoader = require(\"./common/templates\")(gantt);\n\tgantt.$services.setService(\"templateLoader\", function () {\n\t\treturn templatesLoader;\n\t});\n\n\tvar eventable = require(\"../utils/eventable\");\n\teventable(gantt);\n\n\tvar StateService = require(\"./common/state\");\n\tvar stateService = new StateService();\n\n\tstateService.registerProvider(\"global\", function () {\n\t\tvar res = {\n\t\t\tmin_date: gantt._min_date,\n\t\t\tmax_date: gantt._max_date,\n\t\t\tselected_task: null\n\t\t};\n\n\t\t// do not throw error if getState called from non-initialized gantt\n\t\tif(gantt.$data && gantt.$data.tasksStore){\n\t\t\tres.selected_task = gantt.$data.tasksStore.getSelectedId();\n\t\t}\n\t\treturn res;\n\t});\n\tgantt.getState = stateService.getState;\n\tgantt.$services.setService(\"state\", function () {\n\t\treturn stateService;\n\t});\n\n\tvar utils = require(\"../utils/utils\");\n\tutils.mixin(gantt, utils);\n\n\tgantt.Promise = require(\"../utils/promise\");\n\tgantt.env = require(\"../utils/env\");\n\n\tvar domHelpers = require(\"../utils/dom_helpers\");\n\tgantt.utils = {\n\t\tdom: {\n\t\t\tgetNodePosition: domHelpers.getNodePosition,\n\t\t\tgetRelativeEventPosition: domHelpers.getRelativeEventPosition,\n\t\t\tisChildOf: domHelpers.isChildOf,\n\t\t\thasClass: domHelpers.hasClass,\n\t\t\tclosest: domHelpers.closest\n\t\t}\n\t};\n\n\tvar domEvents = require(\"../utils/dom_event_scope\")();\n\tgantt.event = domEvents.attach;\n\tgantt.eventRemove = domEvents.detach;\n\tgantt._eventRemoveAll = domEvents.detachAll;\n\tgantt._createDomEventScope = domEvents.extend;\n\n\tutils.mixin(gantt, require(\"./message\")(gantt));\n\tvar uiApi = require(\"./ui/index\").init(gantt);\n\tgantt.$ui = uiApi.factory;\n\tgantt.$ui.layers = uiApi.render;\n\tgantt.$mouseEvents = uiApi.mouseEvents;\n\tgantt.$services.setService(\"mouseEvents\", function () {\n\t\treturn gantt.$mouseEvents;\n\t});\n\tgantt.mixin(gantt, uiApi.layersApi);\n\n\trequire(\"./data_task_layers\")(gantt);\n\n\tgantt.$services.setService(\"layers\", function () {\n\t\treturn uiApi.layersService;\n\t});\n\n\tvar createLayoutFacade = require(\"./facades/layout\");\n\tgantt.mixin(gantt, createLayoutFacade());\n\n\trequire(\"./datastore/datastore_hooks\")(gantt);\n\n\tvar DataProcessor = require(\"./dataprocessor\");\n\tgantt.dataProcessor = DataProcessor.DEPRECATED_api;\n\tgantt.createDataProcessor = DataProcessor.createDataProcessor;\n\n\trequire(\"./plugins\")(gantt);\n\n\trequire(\"./dynamic_loading\")(gantt);\n\trequire(\"./grid_column_api\")(gantt);\n\trequire(\"./wai_aria\")(gantt);\n\trequire(\"./tasks\")(gantt);\n\trequire(\"./load\")(gantt);\n\trequire(\"./worktime/work_time\")(gantt);\n\trequire(\"./data\")(gantt);\n\trequire(\"./lightbox\")(gantt);\n\trequire(\"./lightbox_optional_time\")(gantt);\n\trequire(\"./data_task_types\")(gantt);\n\trequire(\"./cached_functions\")(gantt);\n\trequire(\"./skin\")(gantt);\n\trequire(\"../css/skins/skyblue\")(gantt);\n\trequire(\"../css/skins/meadow\")(gantt);\n\trequire(\"../css/skins/terrace\")(gantt);\n\trequire(\"../css/skins/broadway\")(gantt);\n\trequire(\"../css/skins/material\")(gantt);\n\trequire(\"../css/skins/contrast_black\")(gantt);\n\trequire(\"../css/skins/contrast_white\")(gantt);\n\trequire(\"./touch\")(gantt);\n\trequire(\"../locale\")(gantt);\n\trequire(\"./gantt_core\")(gantt);\n\trequire(\"./destructor\")(gantt);\n\n\treturn gantt;\n};","module.exports = function(gantt){\n\n\t// no deprecated methods for now\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction deprecated(badCode, goodCode, versionDeprecated, versionDeleted) {\n\n\t\tvar formatting = gantt.env.isIE ? \"\" : \"%c\";\n\t\tversionDeprecated = versionDeprecated || \"v6.0\";\n\t\tversionDeleted = versionDeleted || \"v7.0\";\n\n\t\tvar message = [\n\t\t\tformatting, \"\\\"\", badCode, \"\\\"\",  formatting,\n\t\t\t\" has been deprecated in dhtmlxGantt \", versionDeprecated, \" and will stop working in \", versionDeleted,\". Use \",\n\t\t\tformatting, \"\\\"\", goodCode, \"\\\"\",  formatting,\n\t\t\t\" instead. \\nSee more details at http://docs.dhtmlx.com/gantt/migrating.html \"\n\t\t].join(\"\");\n\n\t\tvar log = window.console.warn || window.console.log;\n\n\t\tvar args = [message];\n\t\tif(!gantt.env.isIE){\n\t\t\targs = args.concat([\"font-weight:bold\", \"font-weight:normal\", \"font-weight:bold\", \"font-weight:normal\"]);\n\t\t}\n\n\t\tlog.apply(window.console, args);\n\t}\n\n\t// gantt.getSlack is defined inside an extension, leave it without message for now\n\n};","\n(function(){\n\nif(!gantt._markers) {\n\tgantt._markers = gantt.createDatastore({\n\t\tname: \"marker\",\n\t\tinitItem: function (marker) {\n\t\t\tmarker.id = marker.id || gantt.uid();\n\t\t\treturn marker;\n\t\t}\n\t});\n}\n\ngantt.config.show_markers = true;\n\nfunction render_marker(marker){\n\tif(!gantt.config.show_markers)\n\t\treturn false;\n\n\tif(!marker.start_date)\n\t\treturn false;\n\n\tvar state = gantt.getState();\n\tif(+marker.start_date > +state.max_date)\n\t\treturn;\n\tif(+marker.end_date && +marker.end_date < +state.min_date || +marker.start_date < +state.min_date)\n\t\treturn;\n\n\tvar div = document.createElement(\"div\");\n\n\tdiv.setAttribute(\"data-marker-id\", marker.id);\n\n\tvar css = \"gantt_marker\";\n\tif(gantt.templates.marker_class)\n\t\tcss += \" \" + gantt.templates.marker_class(marker);\n\n\tif(marker.css){\n\t\tcss += \" \" + marker.css;\n\t}\n\n\tif(marker.title){\n\t\tdiv.title = marker.title;\n\t}\n\tdiv.className = css;\n\n\tvar start = gantt.posFromDate(marker.start_date);\n\tdiv.style.left = start + \"px\";\n\tdiv.style.height = Math.max(gantt.getRowTop(gantt.getVisibleTaskCount()), 0) + \"px\";\n\tif(marker.end_date){\n\t\tvar end = gantt.posFromDate(marker.end_date);\n\t\tdiv.style.width = Math.max((end - start), 0) + \"px\";\n\n\t}\n\n\tif(marker.text){\n\t\tdiv.innerHTML = \"<div class='gantt_marker_content' >\" + marker.text + \"</div>\";\n\t}\n\n\treturn div;\n}\n\nfunction initMarkerArea(){\n\tif(!gantt.$task_data)\n\t\treturn;\n\n\tvar markerArea = document.createElement(\"div\");\n\tmarkerArea.className = \"gantt_marker_area\";\n\tgantt.$task_data.appendChild(markerArea);\n\tgantt.$marker_area = markerArea;\n}\n\ngantt.attachEvent(\"onBeforeGanttRender\", function(){\n\tif(!gantt.$marker_area)\n\t\tinitMarkerArea();\n});\n\ngantt.attachEvent(\"onGanttReady\", function(){\n\tinitMarkerArea();\n\n\tvar layers = gantt.$services.getService(\"layers\");\n\tvar markerRenderer = layers.createDataRender({\n\t\tname: \"marker\",\n\t\tdefaultContainer: function(){ return gantt.$marker_area;}\n\t});\n\tmarkerRenderer.addLayer(render_marker);\n});\n\ngantt.getMarker = function(id){\n\tif(!this._markers) return null;\n\n\treturn this._markers.getItem(id);\n};\n\ngantt.addMarker = function(marker){\n\treturn this._markers.addItem(marker);\n};\n\ngantt.deleteMarker = function(id){\n\tif(!this._markers.exists(id))\n\t\treturn false;\n\n\tthis._markers.removeItem(id);\n\treturn true;\n};\ngantt.updateMarker = function(id){\n\tthis._markers.refresh(id);\n};\n\ngantt._getMarkers = function(){\n\treturn this._markers.getItems();\n};\n\ngantt.renderMarkers = function () {\n\tthis._markers.refresh();\n};\n\n})();","import * as domHelpers from \"../../utils/dom_helpers\";\n\ndeclare var gantt: any;\n\ninterface IViewPosition{\n\ttop: number;\n\tleft: number;\n}\n\ninterface IViewBox extends IViewPosition{\n\twidth: number;\n\theight: number;\n\tbottom: number;\n\tright: number;\n}\n\nexport class Tooltip {\n\tprivate _root: HTMLElement;\n\tprivate _tooltipNode: HTMLElement;\n\n\tgetNode() : HTMLElement {\n\t\tif (!this._tooltipNode){\n\t\t\tthis._tooltipNode = document.createElement(\"div\");\n\t\t\tthis._tooltipNode.className = \"gantt_tooltip\";\n\t\t\tgantt._waiAria.tooltipAttr(this._tooltipNode);\n\t\t}\n\t\treturn this._tooltipNode;\n\t}\n\n\tsetViewport(node: HTMLElement):Tooltip{\n\t\tthis._root = node;\n\t\treturn this;\n\t}\n\n\tshow(left: number, top: number): Tooltip;\n\tshow(event: MouseEvent) : Tooltip;\n\tshow(left: number | MouseEvent, top?: number): Tooltip {\n\t\tconst container = document.body;\n\t\tconst node = this.getNode();\n\n\t\tif(!domHelpers.isChildOf(node, container)){\n\t\t\tthis.hide();\n\t\t\tcontainer.appendChild(node);\n\t\t}\n\n\t\tif(left instanceof MouseEvent){\n\t\t\tconst position = this._calculateTooltipPosition(left);\n\t\t\ttop = position.top;\n\t\t\tleft = position.left;\n\t\t}\n\n\t\tnode.style.top = top + \"px\";\n\t\tnode.style.left = left + \"px\";\n\n\t\tgantt._waiAria.tooltipVisibleAttr(node);\n\t\treturn this;\n\t}\n\thide() : Tooltip{\n\t\tconst node = this.getNode();\n\t\tif(node && node.parentNode){\n\t\t\tnode.parentNode.removeChild(node);\n\t\t}\n\t\tgantt._waiAria.tooltipHiddenAttr(node);\n\t\treturn this;\n\t}\n\n\tsetContent(html: string) : Tooltip{\n\t\tconst node = this.getNode();\n\t\tnode.innerHTML = html;\n\t\treturn this;\n\t}\n\n\tprivate _getViewPort() : HTMLElement {\n\t\treturn this._root || document.body;\n\t}\n\n\n\tprivate _calculateTooltipPosition(event: MouseEvent): IViewPosition{\n\n\t\t// top/left coordinates inside the viewport by mouse position\n\t\tconst viewport =  this._getViewPortSize();\n\t\tconst tooltipNode = this.getNode();\n\t\tconst tooltip: IViewBox = {\n\t\t\ttop:0,\n\t\t\tleft: 0,\n\t\t\twidth: tooltipNode.offsetWidth,\n\t\t\theight: tooltipNode.offsetHeight,\n\t\t\tbottom: 0,\n\t\t\tright: 0\n\t\t};\n\n\t\tconst offsetX = gantt.config.tooltip_offset_x;\n\t\tconst offsetY = gantt.config.tooltip_offset_y;\n\n\t\tconst container =  document.body;\n\t\tconst mouse = domHelpers.getRelativeEventPosition(event, container);\n\t\ttooltip.top = mouse.y;\n\t\ttooltip.left = mouse.x;\n\t\ttooltip.top += offsetY;\n\t\ttooltip.left += offsetX;\n\t\ttooltip.bottom = tooltip.top + tooltip.height;\n\t\ttooltip.right = tooltip.left + tooltip.width;\n\n\t\t// edge cases when the tooltip element can be partially hidden by edges of the viewport\n\t\tif(tooltip.top < viewport.top){\n\t\t\ttooltip.top = viewport.top;\n\t\t\ttooltip.bottom = tooltip.top + tooltip.height;\n\t\t}else if(tooltip.bottom > viewport.bottom){\n\t\t\ttooltip.bottom = viewport.bottom;\n\t\t\ttooltip.top = tooltip.bottom - tooltip.height;\n\t\t}\n\n\t\tif(tooltip.left < viewport.left){\n\t\t\ttooltip.left = viewport.left;\n\t\t\ttooltip.right = viewport.left + tooltip.width;\n\t\t}else if(tooltip.right > viewport.right){\n\t\t\ttooltip.right = viewport.right;\n\t\t\ttooltip.left = tooltip.right - tooltip.width;\n\t\t}\n\n\t\tif(mouse.x >= tooltip.left && mouse.x <= tooltip.right) {\n\t\t\ttooltip.left = mouse.x - tooltip.width - offsetX;\n\t\t\ttooltip.right = tooltip.left + tooltip.width;\n\t\t}\n\n\t\tif(mouse.y >= tooltip.top && mouse.y <= tooltip.bottom) {\n\t\t\ttooltip.top = mouse.y - tooltip.height - offsetY;\n\t\t\ttooltip.bottom = tooltip.top + tooltip.height;\n\t\t}\n\n\t\treturn tooltip;\n\t}\n\n\tprivate _getViewPortSize() : IViewBox {\n\t\tconst container = this._getViewPort();\n\t\tlet viewport = container;\n\t\tlet scrollTop = window.scrollY + document.body.scrollTop;\n\t\tlet scrollLeft = window.scrollX + document.body.scrollLeft;\n\t\tlet pos;\n\t\t// support for the initial tooltip mode where the tooltip element was attached to the data area of gantt\n\t\tif(container === gantt.$task_data){\n\t\t\tviewport = gantt.$task;\n\t\t\tscrollTop = 0;\n\t\t\tscrollLeft = 0;\n\t\t\tpos = domHelpers.getNodePosition(gantt.$task);\n\t\t}else{\n\t\t\tpos = domHelpers.getNodePosition(viewport);\n\t\t}\n\t\treturn {\n\t\t\tleft:pos.x + scrollLeft,\n\t\t\ttop: pos.y + scrollTop,\n\t\t\twidth: pos.width,\n\t\t\theight: pos.height,\n\t\t\tbottom: pos.y + pos.height + scrollTop,\n\t\t\tright: pos.x + pos.width + scrollLeft\n\t\t};\n\t}\n}\n","import * as domEventsScope from \"../../utils/dom_event_scope\";\nimport * as domHelpers from \"../../utils/dom_helpers\";\nimport * as helpers from \"../../utils/helpers\";\nimport { Tooltip } from \"./tooltip\";\n\ninterface ITrackerTarget {\n\tselector: string;\n\tonmouseenter: (event: MouseEvent, node: HTMLElement) => void;\n\tonmousemove: (event: MouseEvent, node: HTMLElement) => void;\n\tonmouseleave: (event: MouseEvent, node: HTMLElement) => void;\n\tglobal: boolean;\n}\n\ninterface ITooltipConfig {\n\tselector: string;\n\thtml: (event: MouseEvent, node: HTMLElement) => string;\n\tglobal: boolean;\n}\n\ndeclare var gantt:any;\n\nexport class TooltipManager{\n\ttooltip: Tooltip = new Tooltip();\n\tprotected _domEvents: any;\n\tprivate _listeners: object = {};\n\n\tconstructor() {\n\t\tthis._domEvents = domEventsScope();\n\t}\n\tdestructor(): void{\n\t\tthis.tooltip.hide();\n\t\tthis._domEvents.detachAll();\n\t}\n\tattach(config: ITrackerTarget): void {\n\t\tlet root = document.body;\n\t\tif(!config.global){\n\t\t\troot = gantt.$root;\n\t\t}\n\n\t\tlet watchableTarget = null;\n\t\tconst handler = (event) => {\n\t\t\tconst eventTarget = domHelpers.getTargetNode(event);\n\t\t\tconst targetNode = domHelpers.closest(eventTarget, config.selector);\n\t\t\tif(domHelpers.isChildOf(eventTarget, this.tooltip.getNode())){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(watchableTarget){\n\t\t\t\tif(targetNode){\n\t\t\t\t\tconfig.onmousemove(event, targetNode);\n\t\t\t\t}else{\n\t\t\t\t\tconfig.onmouseleave(event, watchableTarget);\n\t\t\t\t\twatchableTarget = null;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(targetNode){\n\t\t\t\t\twatchableTarget = targetNode;\n\t\t\t\t\tconfig.onmouseenter(event, targetNode);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.detach(config.selector);\n\t\tthis._domEvents.attach(root, \"mousemove\", handler);\n\t\tthis._listeners[config.selector] = {\n\t\t\tnode: root,\n\t\t\thandler\n\t\t};\n\t}\n\n\tdetach(selector: string): void {\n\t\tconst listener = this._listeners[selector];\n\t\tif(listener){\n\t\t\tthis._domEvents.detach(listener.node, \"mousemove\", listener.handler);\n\t\t}\n\t}\n\n\ttooltipFor(config: ITooltipConfig): void {\n\t\tconst cloneDomEvent = (event: MouseEvent) => {\n\t\t\tlet clone = event;\n\t\t\t// making events survive timeout in ie\n\t\t\t// tslint:disable-next-line no-string-literal\n\t\t\tif(document[\"createEventObject\"] && !document.createEvent){\n\t\t\t\t// tslint:disable-next-line no-string-literal\n\t\t\t\tclone = document[\"createEventObject\"](event);\n\t\t\t}\n\t\t\treturn clone;\n\t\t};\n\n\t\tconst delayShow = helpers.delay((event: MouseEvent, html: string) => {\n\t\t\tthis.tooltip.setContent(html);\n\t\t\tthis.tooltip.show(event);\n\t\t}, gantt.config.tooltip_timeout || 1);\n\n\t\tconst delayHide = helpers.delay(() => {\n\t\t\tdelayShow.$cancelTimeout();\n\t\t\tthis.tooltip.hide();\n\t\t}, gantt.config.tooltip_hide_timeout || 1);\n\n\t\tthis.attach({\n\t\t\tselector: config.selector,\n\t\t\tglobal: config.global,\n\t\t\tonmouseenter:(event: MouseEvent, node: HTMLElement) => {\n\t\t\t\tconst html = config.html(event, node);\n\t\t\t\tif(html){\n\t\t\t\t\tdelayShow(cloneDomEvent(event), html);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonmousemove:(event: MouseEvent, node: HTMLElement) => {\n\t\t\t\tconst html = config.html(event, node);\n\t\t\t\tif(html){\n\t\t\t\t\tdelayShow(cloneDomEvent(event), html);\n\t\t\t\t}else{\n\t\t\t\t\tdelayShow.$cancelTimeout();\n\t\t\t\t\tdelayHide();\n\t\t\t\t}\n\t\t\t},\n\t\t\tonmouseleave:() => {\n\t\t\t\tdelayShow.$cancelTimeout();\n\t\t\t\tdelayHide();\n\t\t\t},\n\t\t});\n\t}\n}","declare var gantt;\n\ngantt.config.tooltip_timeout = 30;\ngantt.config.tooltip_offset_y = 20;\ngantt.config.tooltip_offset_x = 10;\ngantt.config.tooltip_hide_timeout = 30;\n\nimport {TooltipManager} from \"./tooltipManager\";\n\nconst tooltipManager = new TooltipManager();\n\ngantt.ext.tooltips = tooltipManager;\n\ngantt.attachEvent(\"onGanttReady\", function(){\n\n\ttooltipManager.tooltipFor({\n\t\tselector: \"[\"+gantt.config.task_attribute+\"]:not(.gantt_task_row)\",\n\t\thtml: (event: MouseEvent) => {\n\t\t\tif (gantt.config.touch && !gantt.config.touch_tooltip) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst targetTaskId = gantt.locate(event);\n\t\t\tif(gantt.isTaskExists(targetTaskId)){\n\t\t\t\tconst task = gantt.getTask(targetTaskId);\n\t\t\t\treturn gantt.templates.tooltip_text(task.start_date, task.end_date, task);\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tglobal: false\n\t});\n});\n\ngantt.attachEvent(\"onDestroy\", function() {\n\ttooltipManager.destructor();\n});\n","import { S } from 'surplus';\nexport default function data(signal, arg1, arg2) {\n    var event = arg1 || 'input', on = arg1 === undefined ? true : arg1, off = arg2 === undefined ? (on === true ? false : null) : arg2;\n    return function (node) {\n        if (node instanceof HTMLInputElement) {\n            var type = node.type.toUpperCase();\n            if (type === 'CHECKBOX') {\n                checkboxData(node, signal, on, off);\n            }\n            else if (type === 'RADIO') {\n                radioData(node, signal, on);\n            }\n            else {\n                valueData(node, signal, event);\n            }\n        }\n        else if (node instanceof HTMLSelectElement || node instanceof HTMLTextAreaElement) {\n            valueData(node, signal, event);\n        }\n        else if (node.isContentEditable) {\n            textContentData(node, signal, event);\n        }\n        else {\n            throw new Error(\"@data can only be applied to a form control element, \\n\"\n                + \"such as <input/>, <textarea/> or <select/>, or to an element with \"\n                + \"'contentEditable' set.  Element ``\" + node.nodeName + \"'' is \\n\"\n                + \"not such an element.  Perhaps you applied it to the wrong node?\");\n        }\n    };\n}\nfunction valueData(node, signal, event) {\n    S(function updateValue() {\n        node.value = toString(signal());\n    });\n    node.addEventListener(event, valueListener, false);\n    S.cleanup(function () { node.removeEventListener(event, valueListener); });\n    function valueListener() {\n        var cur = toString(S.sample(signal)), update = node.value;\n        if (cur !== update)\n            signal(update);\n        return true;\n    }\n}\nfunction checkboxData(node, signal, on, off) {\n    S(function updateCheckbox() {\n        node.checked = signal() === on;\n    });\n    node.addEventListener(\"change\", checkboxListener, false);\n    S.cleanup(function () { node.removeEventListener(\"change\", checkboxListener); });\n    function checkboxListener() {\n        signal(node.checked ? on : off);\n        return true;\n    }\n}\nfunction radioData(node, signal, on) {\n    S(function updateRadio() {\n        node.checked = (signal() === on);\n    });\n    node.addEventListener(\"change\", radioListener, false);\n    S.cleanup(function () { node.removeEventListener(\"change\", radioListener); });\n    function radioListener() {\n        if (node.checked)\n            signal(on);\n        return true;\n    }\n}\nfunction textContentData(node, signal, event) {\n    S(function updateTextContent() {\n        node.textContent = toString(signal());\n    });\n    node.addEventListener(event, textContentListener, false);\n    S.cleanup(function () { node.removeEventListener(event, textContentListener); });\n    function textContentListener() {\n        var cur = toString(S.sample(signal)), update = node.textContent;\n        if (cur !== update)\n            signal(update);\n        return true;\n    }\n}\nfunction toString(v) {\n    return v == null ? '' : v.toString();\n}\n",null,"// tslint:disable-next-line:no-reference\n/// <reference path=\"third-party-types.d.ts\"/>\nimport { Action, AlertsView, NavView, Page, projectPlanningActionLabel, ProjectPlanningSettingsView, WarningsView, withClassIff, } from '@fschopp/project-planning-ui-for-you-track';\nimport 'dhtmlx-gantt';\nimport 'dhtmlx-gantt/codebase/ext/dhtmlxgantt_marker';\nimport 'dhtmlx-gantt/codebase/ext/dhtmlxgantt_tooltip';\nimport S from 's-js';\nimport * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport data from 'surplus-mixin-data';\nimport { GanttTaskType } from './gantt-model';\nexport function GanttStyleElement({ ctrl }) {\n    return (<style>\n        {cssFrom(ctrl.typeBundleElements(), ctrl.relevantUsers())}\n      </style>);\n}\nexport function GanttView({ app, appComputation, ctrl }) {\n    return (<div>\n        <NavView appName={appComputation.name} currentPage={app.currentPage} progress={appComputation.progress} numWarnings={ctrl.projectPlanningAppCtrl.numWarnings} isActionBtnVisible={() => isActionButtonVisible(ctrl.projectPlanningAppCtrl.action(), app.currentPage())} actionBtnLabel={() => projectPlanningActionLabel(ctrl.projectPlanningAppCtrl.action())} actionSignal={appComputation.doAction}/>\n        \n        <main class=\"position-relative overflow-hidden flex-shrink-1 flex-grow-1 border-top\" role=\"main\">\n          <div class=\"overflow-hidden position-absolute fill-parent d-flex flex-column\" fn={withClassIff(() => app.currentPage() !== Page.HOME, 'invisible')}>\n            <div class=\"d-flex align-items-center border-bottom px-3 py-2 flex-shrink-0 flex-grow-0\">\n              <label for=\"zoom\" class=\"mb-0\"></label>\n              <input class=\"custom-range ml-2\" type=\"range\" id=\"zoom\" min=\"0\" max=\"425\" step=\"1\" fn={data(app.zoom)}/>\n            </div>\n            <GanttContainer className=\"overflow-hidden flex-shrink-1 flex-grow-1 gantt-container\" ctrl={ctrl} gridWidth={app.issueListWidth}/>\n          </div>\n          <div class=\"overflow-auto position-absolute fill-parent\" fn={withClassIff(() => app.currentPage() !== Page.WARNINGS, 'invisible')}>\n            <div class=\"container\">\n              <h2 class=\"mt-3\">Project Plan Warnings</h2>\n              <WarningsView projectPlan={ctrl.projectPlan}/>\n            </div>\n          </div>\n          <div class=\"overflow-auto position-absolute fill-parent\" fn={withClassIff(() => app.currentPage() !== Page.SETTINGS, 'invisible')}>\n            <form class=\"container was-validated\">\n              <h2 class=\"mt-3\">Settings</h2>\n              <ProjectPlanningSettingsView settings={app.settings} ctrl={ctrl.projectPlanningAppCtrl.settingsCtrl} connectSignal={appComputation.connect} invalidCounter={ctrl.projectPlanningAppCtrl.appCtrl.invalidCounter}/>\n            </form>\n          </div>\n        </main>\n        <AlertsView alerts={appComputation.alerts} ctrl={ctrl.projectPlanningAppCtrl.appCtrl.alertsCtrl}/>\n      </div>);\n}\nconst MIN_GRID_WIDTH = 25;\nfunction GanttContainer({ className, ctrl, gridWidth }) {\n    const ganttContainer = <div class={className}/>;\n    bindGanttToData(ctrl.ganttData);\n    bindGanttToScale(ctrl.scale);\n    bindGanttToPlanDate(ctrl.planDate);\n    gantt.templates.task_class = getTaskCssClass;\n    gantt.templates.task_text = getTaskText;\n    gantt.templates.grid_row_class = getTaskCssClass;\n    gantt.templates.tooltip_text = getTaskTooltipHtml;\n    // Hack in order to avoid a \"double\" border of 2px where the resize handle is supposed to be. See where\n    // gantt.config.layout is set.\n    gantt.attachEvent('onGanttLayoutReady', () => gantt.$layout.$cells[0]._getBorderSizes =\n        () => ({ top: 0, right: 0, bottom: 0, left: 0, horizontal: 0, vertical: 0 }));\n    // Prevent event propagation if the user clicked on a link in the task description. If zoomed in, the view may\n    // otherwise jump to the beginning of the task activity, which is undesirable.\n    gantt.attachEvent('onTaskClick', (ignoredId, event) => !(event.target instanceof HTMLAnchorElement));\n    // https://docs.dhtmlx.com/gantt/api__gantt_attachevent.html says:\n    // \"Event handlers are processed in the same order that they were attached.\"\n    // This should work in our favor, as it means the event handler installed by the tooltip extension (see\n    // https://github.com/DHTMLX/gantt/blob/6.2.0/codebase/sources/ext/dhtmlxgantt_tooltip.js#L125) runs before (and not\n    // after) the following:\n    gantt.attachEvent('onGanttReady', setupTooltips);\n    gantt.config.columns = [{\n            name: 'text',\n            label: 'Task name',\n            width: '*',\n            template: (task) => (task.ganttTaskType === GanttTaskType.PARENT_ONLY\n                ? '(own activities)'\n                : `<a href=\"${task.issue.url}\" target=\"_blank\">${task.issue.id}</a>: ${task.text}`),\n            tree: true,\n        }];\n    gantt.config.readonly = true;\n    gantt.config.show_unscheduled = true;\n    gantt.config.layout = {\n        cols: [\n            {\n                // This is somewhat of a hack. The CSS class does not exist, but the key is that dhtmlxGantt that the css\n                // property is a strict \"superstring\" of \"gantt_layout_cell_border_right\". See:\n                // https://github.com/DHTMLX/gantt/blob/6.2.0/codebase/sources/dhtmlxgantt.js#L28550, called from\n                // https://github.com/DHTMLX/gantt/blob/6.2.0/codebase/sources/dhtmlxgantt.js#L20142\n                css: 'undo_gantt_layout_cell_border_right',\n                width: S.sample(gridWidth),\n                view: 'grid',\n                scrollY: 'scrollVer',\n            },\n            {\n                // By setting property 'resizer' to true, no div would actually be created. Therefore, there is a 1px border\n                // between the grid and the timeline. Unfortunately 1px is hard-coded, so if we remove property 'resizer' and\n                // instead add [HTML as inner view](https://docs.dhtmlx.com/gantt/desktop__layout_config.html#htmlasinnerview),\n                // then 2 right borders would be visible, giving 2px in total. Since 1px border width is hard-coded, there seem\n                // to be only hacky ways of obtaining a 1px resizable border. One is using CSS to remove the 1px right border\n                // from the grid, and then make sure the dhtmlxGantt size calculation never includes the border either. This is\n                // what we do below in the 'onGanttLayoutReady' event handler.\n                html: '<div class=\"horizontal-divider-resize-handle\"></div>',\n                width: 1,\n            },\n            {\n                rows: [\n                    {\n                        view: 'timeline',\n                        scrollX: 'scrollHor',\n                        scrollY: 'scrollVer',\n                    },\n                    {\n                        view: 'scrollbar',\n                        id: 'scrollHor',\n                    },\n                ],\n            },\n            {\n                view: 'scrollbar',\n                id: 'scrollVer',\n            },\n        ],\n    };\n    gantt.init(ganttContainer);\n    bindGanttGridToWidth(gridWidth, ganttContainer.getElementsByClassName('horizontal-divider-resize-handle').item(0));\n    return ganttContainer;\n}\nfunction bindGanttToData(ganttData) {\n    let scheduledReload = false;\n    function reload() {\n        const currentGanttData = S.sample(ganttData);\n        if (scheduledReload && currentGanttData !== undefined) {\n            gantt.clearAll();\n            gantt.parse(currentGanttData);\n        }\n        scheduledReload = false;\n    }\n    // 2nd and 3rd arguments: Undefined seed value, and skip the initial run.\n    S.on(ganttData, () => {\n        if (!scheduledReload) {\n            // With the deferred invocation we can guarantee that the function runs outside of any S.js computation.\n            window.setTimeout(reload);\n        }\n        scheduledReload = true;\n    }, undefined, true);\n}\nfunction bindGanttToScale(scale) {\n    let scheduledRender = false;\n    function render() {\n        const currentScale = scale();\n        if (scheduledRender) {\n            gantt.config.scale_unit = currentScale.unit;\n            gantt.config.date_scale = currentScale.format;\n            gantt.config.subscales = currentScale.subscales;\n            gantt.config.min_column_width = currentScale.minColumnWidth;\n            if (currentScale.unit === 'day') {\n                gantt.templates.scale_cell_class = (date) => cssFromDayOfWeek(date.getDay());\n                gantt.templates.timeline_cell_class = (ignoredTask, date) => cssFromDayOfWeek(date.getDay());\n            }\n            else {\n                gantt.templates.timeline_cell_class = gantt.templates.scale_cell_class = () => '';\n            }\n            gantt.render();\n        }\n        scheduledRender = false;\n    }\n    S.on(scale, () => {\n        if (!scheduledRender) {\n            // With the deferred invocation we can guarantee that the function runs outside of any S.js computation.\n            window.setTimeout(render);\n        }\n        scheduledRender = true;\n    });\n}\nfunction bindGanttToPlanDate(planDate) {\n    let markerId;\n    let scheduledUpdateMarker = false;\n    function updatemarker() {\n        const currentPlanDate = S.sample(planDate);\n        if (scheduledUpdateMarker) {\n            if (currentPlanDate === undefined) {\n                if (markerId !== undefined) {\n                    gantt.deleteMarker(markerId);\n                    markerId = undefined;\n                }\n            }\n            else {\n                if (markerId === undefined) {\n                    markerId = gantt.addMarker({\n                        start_date: currentPlanDate,\n                        css: 'today',\n                        title: 'Time the project plan was created',\n                        text: 'Now',\n                    });\n                }\n                else {\n                    const marker = gantt.getMarker(markerId);\n                    marker.start_date = currentPlanDate;\n                    gantt.updateMarker(markerId);\n                }\n            }\n        }\n        scheduledUpdateMarker = false;\n    }\n    S.on(planDate, () => {\n        if (!scheduledUpdateMarker) {\n            window.setTimeout(updatemarker);\n        }\n        scheduledUpdateMarker = true;\n    });\n    // gantt.clearAll() removes markers: https://docs.dhtmlx.com/gantt/api__gantt_clearall.html\n    // We therefore need to recreate them afterwards. The appropriate event to listen for is 'onClear'. See:\n    // https://github.com/DHTMLX/gantt/blob/6.2.0/codebase/sources/dhtmlxgantt.js#L11102\n    gantt.attachEvent('onClear', () => {\n        markerId = undefined;\n        scheduledUpdateMarker = true;\n        updatemarker();\n    });\n}\n/**\n * Two-way binds the given width signal with the Gantt grid width.\n */\nexport function bindGanttGridToWidth(width, element) {\n    function setWidth(newWidth) {\n        const oldWidth = gantt.config.grid_width;\n        gantt.config.grid_width = newWidth;\n        if (oldWidth !== newWidth) {\n            gantt.render();\n        }\n    }\n    S(() => setWidth(width()));\n    let startX;\n    let startWidth;\n    let isResizing = false;\n    function onMouseMove(event) {\n        setWidth(Math.max(MIN_GRID_WIDTH, startWidth + (event.pageX - startX)));\n    }\n    function onMouseUp() {\n        isResizing = false;\n        document.removeEventListener('mousemove', onMouseMove);\n        document.removeEventListener('mouseup', onMouseUp);\n        width(gantt.config.grid_width);\n    }\n    element.addEventListener('mousedown', (event) => {\n        startX = event.pageX;\n        startWidth = S.sample(width);\n        isResizing = true;\n        document.addEventListener('mousemove', onMouseMove);\n        document.addEventListener('mouseup', onMouseUp);\n    });\n}\nfunction getTaskCssClass(ignoredStartDate, ignoredEndDate, task) {\n    const cssClasses = [['type', task.issue.typeId], ['state', task.issue.stateId]]\n        .filter(([_, id]) => id.length > 0)\n        .map(([kind, id]) => `${kind}-${id}`);\n    if (task.ganttTaskType === GanttTaskType.MAIN && task.issue.hasSubIssues) {\n        cssClasses.push('parent');\n    }\n    if (task.issue.isResolved) {\n        cssClasses.push('resolved-issue');\n    }\n    if (task.isWaiting) {\n        cssClasses.push('waiting');\n    }\n    return cssClasses.join(' ');\n}\nfunction getTaskText(start, end, task) {\n    if (task.isWaiting) {\n        return 'Wait time';\n    }\n    else if (task.ganttTaskType === GanttTaskType.ACTIVITY) {\n        return `${task.text} (${task.index + 1} of ${task.issue.totalNumActivities})`;\n    }\n    else {\n        return task.text;\n    }\n}\nfunction getTaskTooltipHtml(start, end, task) {\n    let html = `<b>${task.isWaiting ? 'Wait time for issue' : 'Issue'}:</b> ${task.text}<br/>`;\n    if (task.index >= 0) {\n        html +=\n            `<b>Activity:</b> ${task.index + 1} of ${task.issue.totalNumActivities}<br/>`;\n    }\n    html +=\n        `<b>Start Date:</b> ${gantt.templates.tooltip_date_format(start)}<br/>` +\n            `<b>End Date:</b> ${gantt.templates.tooltip_date_format(end)}<br/>`;\n    function addUser(user) {\n        if (user.isExternal) {\n            html += `<div class=\"youtrack-user\">${user.name}</div>`;\n        }\n        else {\n            html += `<div class=\"youtrack-user youtrack-user-${user.id}\">${user.name}</div>`;\n        }\n    }\n    if (task.issue.assignee === undefined) {\n        html += '<b>No assignee in YouTrack</b><br/>';\n    }\n    else {\n        html += '<b>Assignee in YouTrack:</b>';\n        addUser(task.issue.assignee);\n    }\n    if (task.isInFuture && task.contributors.length > 0) {\n        html += '<b>Planned contributors:</b>';\n        task.contributors.forEach(addUser);\n    }\n    return html;\n}\nfunction setupTooltips() {\n    // Remove the built-in tooltip handler that was previously installed here:\n    // https://github.com/DHTMLX/gantt/blob/6.2.0/codebase/sources/ext/dhtmlxgantt_tooltip.js#L125\n    // Note that the detach function is relatively simple: It does not interpret the selector. Instead, it is important\n    // that we pass the exact same string here that was previously installed.\n    const tooltipManager = gantt.ext.tooltips;\n    tooltipManager.detach(`[${gantt.config.task_attribute}]:not(.gantt_task_row)`);\n    tooltipManager.tooltipFor({\n        selector: `.gantt_bar_task[${gantt.config.task_attribute}]`,\n        html(event) {\n            // Copied and slightly modified from\n            // https://github.com/DHTMLX/gantt/blob/6.2.0/codebase/sources/ext/dhtmlxgantt_tooltip.js#L129,\n            // which is identical to the suggestion on the documentation:\n            // https://docs.dhtmlx.com/gantt/desktop__tooltips.html#customizationoftooltipbehavior\n            if (gantt.config.touch && !gantt.config.touch_tooltip) {\n                return;\n            }\n            const targetTaskId = gantt.locate(event);\n            if (gantt.isTaskExists(targetTaskId)) {\n                const task = gantt.getTask(targetTaskId);\n                // The selector is such that we only end up here if the task has start and end dates.\n                return gantt.templates.tooltip_text(task.start_date, task.end_date, task);\n            }\n        },\n    });\n}\nfunction cssFrom(typeBundleElements, relevantUsers) {\n    let css = '';\n    for (const enumBundleElement of typeBundleElements.values()) {\n        css +=\n            `.gantt_task_line.type-${enumBundleElement.id} {\\n` +\n                `  background-color: ${enumBundleElement.color.background};\\n` +\n                '}\\n' +\n                `.gantt_task_line.type-${enumBundleElement.id} .gantt_task_content {\\n` +\n                `  color: ${enumBundleElement.color.foreground};\\n` +\n                '}\\n';\n    }\n    for (const relevantUser of relevantUsers.values()) {\n        if (relevantUser.avatarUrl !== undefined) {\n            css +=\n                `.youtrack-user-${relevantUser.id} {\\n` +\n                    `  background-image: url(\"${relevantUser.avatarUrl}\");\\n` +\n                    '}\\n';\n        }\n    }\n    return css;\n}\nfunction isActionButtonVisible(action, page) {\n    return (action !== Action.NOTHING && action !== Action.COMPLETE_SETTINGS) ||\n        (action === Action.COMPLETE_SETTINGS && page !== Page.SETTINGS);\n}\nfunction cssFromDayOfWeek(day) {\n    return day === 0 || day === 6\n        ? 'weekend'\n        : '';\n}\n//# sourceMappingURL=gantt-view.jsx.map","import {\n  assignProjectPlanningSettings,\n  createProjectPlanningAppComputation,\n  ProjectPlanningAppComputation,\n  Router,\n} from '@fschopp/project-planning-ui-for-you-track';\nimport S from 's-js';\nimport { GanttCtrl } from './gantt-ctrl';\nimport { assignGanttApp, createGanttApp, GanttApp } from './gantt-model';\nimport { GanttStyleElement, GanttView } from './gantt-view';\n\nS.root(() => {\n  const app: GanttApp = createGanttApp();\n  const appComputation: ProjectPlanningAppComputation = createProjectPlanningAppComputation();\n\n  const ctrl = GanttCtrl.createDefaultGanttCtrl(app, appComputation);\n  new Router(\n      app,\n      (plainApp) => assignGanttApp(app, plainApp),\n      (plainSettings) => assignProjectPlanningSettings(app.settings, plainSettings)\n  );\n\n  document.head.append(GanttStyleElement({ctrl}));\n  document.body.append(...GanttView({app, appComputation, ctrl}).children);\n});\n\n// The purpose of the exports is currently only documentation of the relevant elements.\nexport * from './gantt-ctrl';\nexport * from './gantt-model';\nexport * from './gantt-view';\n"]}